!function(e){"use strict";function t(e){return n[e].el?!0:(delete n[e],!1)}function i(){if(e.os.android&&!e.os.chrome&&e.os.webkit){var i=!1;e.bind(e.touchLayer,["cancel-enter-edit","exit-edit"],function(){if(i){i=!1;for(var e in n)t(e)&&n[e].androidFormsMode&&n[e].stopFormsMode()}})}o=!0}var s=325,n=[],l=function(t){return t.afScrollerId||(t.afScrollerId=e.uuid()),t.afScrollerId};e.fn.scroller=function(t){for(var i,s,o=0;o<this.length;o++)s=l(this[o]),n[s]?i=n[s]:(t||(t={}),e.feat.nativeTouchScroll||(t.useJsScroll=!0),i=r(this[o],t),n[s]=i);return 1===this.length?i:this};var o=!1,r=function(){function t(t,i){var s=document.createElement("div");return s.style.position="absolute",s.style.width=t+"px",s.style.height=i+"px",s.style[e.feat.cssPrefix+"BorderRadius"]="2px",s.style.borderRadius="2px",s.style.display="none",s.className="scrollBar",s.style.background="black",s}var l,r,a=function(t,s){var n;if(!o&&e.touchLayer&&e.isObject(e.touchLayer)?i():e.touchLayer&&e.isObject(e.touchLayer)||(e.touchLayer={}),n="string"==typeof t||t instanceof String?document.getElementById(t):t,!n)return window.alert("Could not find element for scroller "+t),void 0;var a=e(n);return s.hasParent&&(a=a.parent()),a.hasClass("x-scroll")&&(s.horizontalScroll=!0),a.hasClass("y-scroll")&&(s.verticalScroll=!0),e.os.desktop?new h(n,s):s.useJsScroll?new l(n,s):new r(n,s)},h=function(t,i){this.el=t,this.afEl=e(this.el);for(var s in i)this[s]=i[s]};return h.prototype={refresh:!1,refreshContent:"Pull to Refresh",refreshHangTimeout:2e3,refreshHeight:60,refreshElement:null,refreshCancelCB:null,refreshRunning:!1,scrollTop:0,scrollLeft:0,preventHideRefresh:!0,verticalScroll:!0,horizontalScroll:!1,refreshTriggered:!1,moved:!1,eventsActive:!1,rememberEventsActive:!1,scrollingLocked:!1,autoEnable:!0,blockFormsFix:!1,loggedPcentY:0,loggedPcentX:0,infinite:!1,infiniteEndCheck:!1,infiniteTriggered:!1,scrollSkip:!1,scrollTopInterval:null,scrollLeftInterval:null,bubbles:!0,lockBounce:!1,initScrollProgress:!1,_scrollTo:function(e,t){if(t=parseInt(t,10),0===t||isNaN(t))return this.el.scrollTop=Math.abs(e.y),this.el.scrollLeft=Math.abs(e.x),void 0;var i=10,s=(this.el.scrollTop-e.y)/Math.ceil(t/i),n=(this.el.scrollLeft-e.x)/Math.ceil(t/i),l=this,o=Math.ceil(this.el.scrollTop-e.y)/s,r=Math.ceil(this.el.scrollLeft-e.x)/s,a=0,h=0;l.scrollTopInterval=window.setInterval(function(){l.el.scrollTop-=s,h++,h>=o&&(l.el.scrollTop=e.y,clearInterval(l.scrollTopInterval))},i),l.scrollLeftInterval=window.setInterval(function(){l.el.scrollLeft-=n,a++,a>=r&&(l.el.scrollLeft=e.x,clearInterval(l.scrollLeftInterval))},i)},enable:function(){},disable:function(){},hideScrollbars:function(){},addPullToRefresh:function(){},_scrollToTop:function(e){this._scrollTo({x:0,y:0},e)},_scrollToBottom:function(e){this._scrollTo({x:0,y:this.el.scrollHeight-this.el.offsetHeight},e)},scrollToBottom:function(e){return this._scrollToBottom(e)},scrollToTop:function(e){return this._scrollToTop(e)},init:function(t,i){this.el=t,this.afEl=e(this.el),this.defaultProperties();for(var s in i)this[s]=i[s];var l=this,o=function(){!l.eventsActive||e.feat.nativeTouchScroll||e.ui&&e.ui.activeDiv!==l.container||l.adjustScroll()};this.afEl.bind("destroy",function(){l.disable(!0);var t=l.el.afScrollerId;n[t]&&delete n[t],e.unbind(e.touchLayer,"orientationchange-reshape",o)}),e.bind(e.touchLayer,"orientationchange-reshape",o),e(window).bind("resize",o)},needsFormsFix:function(t){return this.useJsScroll&&this.isEnabled()&&"none"!==this.el.style.display&&e(t).closest(this.afEl).size()>0},handleEvent:function(e){if(!this.scrollingLocked)switch(e.type){case"touchstart":clearInterval(this.scrollTopInterval),this.preventHideRefresh=!this.refreshRunning,this.moved=!1,this.onTouchStart(e),this.bubbles||e.stopPropagation();break;case"touchmove":this.onTouchMove(e),this.bubbles||e.stopPropagation();break;case"touchend":this.onTouchEnd(e),this.bubbles||e.stopPropagation();break;case"scroll":this.onScroll(e)}},coreAddPullToRefresh:function(t){t&&(this.refreshElement=t);var i;if(null===this.refreshElement){var s=document.getElementById(this.container.id+"_pulldown");i=null!==s?e(s):e("<div id='"+this.container.id+"_pulldown' class='afscroll_refresh' style='position:relative;height:60px;text-align:center;line-height:60px;font-weight:bold;'>"+this.refreshContent+"</div>")}else i=e(this.refreshElement);var n=i.get(0);this.refreshContainer=e("<div style='overflow:hidden;height:0;width:100%;display:none;background:inherit;-webkit-backface-visibility: hidden !important;'></div>"),e(this.el).prepend(this.refreshContainer.prepend(n)),this.refreshContainer=this.refreshContainer[0]},fireRefreshRelease:function(t){if(this.refresh&&t){this.setRefreshContent("Refreshing...");var i=e.trigger(this,"refresh-release",[t])!==!1;if(this.preventHideRefresh=!1,this.refreshRunning=!0,i){var s=this;this.refreshHangTimeout>0&&(this.refreshCancelCB=setTimeout(function(){s.hideRefresh()},this.refreshHangTimeout))}}},setRefreshContent:function(t){e(this.container).find(".afscroll_refresh").html(t)},lock:function(){this.scrollingLocked||(this.scrollingLocked=!0,this.rememberEventsActive=this.eventsActive,this.eventsActive&&this.disable())},unlock:function(){this.scrollingLocked&&(this.scrollingLocked=!1,this.rememberEventsActive&&this.enable())},scrollToItem:function(t,i){e.is$(t)||(t=e(t));var s,n,l,o;"bottom"===i?(n=t.offset(),s=n.top-this.afEl.offset().bottom+n.height,s+=4):(o=t.offset().top,s=o-document.body.scrollTop,l=this.afEl.offset().top,document.body.scrollTop<l&&(s-=l),s-=4),this.scrollBy({y:s,x:0},0)},setPaddings:function(t,i){var s=e(this.el),n=numOnly(s.css("paddingTop"));s.css("paddingTop",t+"px").css("paddingBottom",i+"px"),this.scrollBy({y:t-n,x:0})},divide:function(e,t){return 0!==t?e/t:0},isEnabled:function(){return this.eventsActive},addInfinite:function(){this.infinite=!0},clearInfinite:function(){this.infiniteTriggered=!1,this.scrollSkip=!0},scrollTo:function(e,t){return this._scrollTo(e,t)},updateP2rHackPosition:function(){}},l=function(i,s){if(this.init(i,s),s.hasParent)this.container=this.el.parentNode;else{var n=e.create("div",{});n.append(e(this.el).contents()),e(this.el).append(n),this.container=this.el,this.el=n.get(0)}this.container.afScrollerId=i.afScrollerId,this.afEl=e(this.container),"hidden"!==this.container.style.overflow&&(this.container.style.overflow="hidden"),this.addPullToRefresh(null,!0),s.autoEnable&&(this.autoEnable=s.autoEnable),this.autoEnable&&this.enable(!0);var l;this.verticalScroll&&this.verticalScroll===!0&&this.scrollBars===!0&&(l=t(5,20),l.style.top="0px",this.vScrollCSS&&(l.className=this.vScrollCSS),l.style.display="none",this.container.appendChild(l),this.vscrollBar=l,l=null),this.horizontalScroll&&this.horizontalScroll===!0&&this.scrollBars===!0&&(l=t(20,5),l.style.bottom="0px",this.hScrollCSS&&(l.className=this.hScrollCSS),l.style.display="none",this.container.appendChild(l),this.hscrollBar=l,l=null),this.horizontalScroll&&(this.el.style.cssFloat="left"),this.el.hasScroller=!0},r=function(t,i){i.nativeParent&&(t=t.parentNode),this.init(t,i);var s=e(t);if(i.replaceParent===!0){var n=s.parent();s.css("height",n.height()).css("width",n.width()),s.insertBefore(s.parent()),n.remove()}this.container=this.el,s.css("-webkit-overflow-scrolling","touch"),i.autoEnable&&(this.autoEnable=i.autoEnable),this.autoEnable&&this.enable()},r.prototype=new h,l.prototype=new h,r.prototype.defaultProperties=function(){this.refreshContainer=null,this.dY=this.cY=0,this.dX=this.cX=0,this.cancelPropagation=!1,this.loggedPcentY=0,this.loggedPcentX=0,this.xReset=0,this.yReset=0;var e=this;this.adjustScrollOverflowProxy=function(){e.afEl.css("overflow","auto"),e.afEl.parent().css("overflow","hidden")}},r.prototype.enable=function(e){this.eventsActive||(this.eventsActive=!0,this.el.style.overflow="auto",e||this.adjustScroll(),this.el.addEventListener("touchstart",this,!1),this.el.addEventListener("scroll",this,!1),this.updateP2rHackPosition())},r.prototype.disable=function(t){this.eventsActive&&(this.logPos(this.el.scrollLeft,this.el.scrollTop),t||e.ui||(this.el.style.overflow="hidden"),this.el.removeEventListener("touchstart",this,!1),this.el.removeEventListener("touchmove",this,!1),this.el.removeEventListener("touchend",this,!1),this.el.removeEventListener("scroll",this,!1),this.eventsActive=!1)},r.prototype.addPullToRefresh=function(e,t){t||(this.refresh=!0),this.refresh&&this.refresh===!0&&(this.coreAddPullToRefresh(e),this.refreshContainer.style.position="absolute",this.refreshContainer.style.top="-60px",this.refreshContainer.style.height="60px",this.refreshContainer.style.display="block",this.updateP2rHackPosition())},r.prototype.updateP2rHackPosition=function(){if(!this.refresh)return e(this.el).find(".p2rhack").remove();var t=e(this.el).find(".p2rhack");0===t.length&&(e(this.el).append("<div class='p2rhack' style='position:absolute;width:1px;height:1px;opacity:0;background:transparent;z-index:-1;-webkit-transform:translate3d(-1px,0,0);'></div>"),t=e(this.el).find(".p2rhack")),t.css("top",this.el.scrollHeight+this.refreshHeight+1+"px")},r.prototype.onTouchStart=function(e){this.lastScrollInfo={top:0},this.xReset=this.yReset=0,this.verticalScroll&&(0===this.el.scrollTop&&this.refresh&&(this.el.scrollTop=1,this.yReset=-1),this.el.scrollTop===this.el.scrollHeight-this.el.clientHeight&&this.infinite&&(this.el.scrollTop-=1,this.yReset=1)),this.horizontalScroll&&(0===this.el.scrollLeft&&(this.el.scrollLeft=1,this.xReset=-1),this.el.scrollLeft===this.el.scrollWidth-this.el.clientWidth&&(this.el.scrollLeft-=1,this.xReset=1)),this.refreshCancelCB&&clearTimeout(this.refreshCancelCB),this.refresh&&this.el.addEventListener("touchend",this,!1),this.el.addEventListener("touchmove",this,!1),this.dY=e.touches[0].pageY,this.dX=e.touches[0].pageX,this.startTop=this.el.scrollTop,this.startLeft=this.el.scrollLeft,(this.refresh||this.infinite)&&this.refresh&&this.dY<0&&this.showRefresh()},r.prototype.onTouchMove=function(t){var i=t.touches[0].pageY-this.dY,s=t.touches[0].pageX-this.dX,n=this.el.scrollHeight-this.el.scrollTop===this.el.clientHeight&&0>i,l=this.el.scrollWidth-this.el.scrollLeft===this.el.clientWidth&&0>s,o="input"!==t.target.tagName.toLowerCase();this.verticalScroll&&0===this.startTop&&0===this.el.scrollTop&&i>0&&o&&t.preventDefault(),this.horizontalScroll&&0===this.startTop&&0===this.el.scrollLeft&&s>0&&o&&t.preventDefault(),this.verticalScroll&&n&&o&&t.preventDefault(),this.horizontalScroll&&l&&o&&t.preventDefault(),this.moved||(e.trigger(this,"scrollstart",[this.el,{x:s,y:i}]),e.trigger(e.touchLayer,"scrollstart",[this.el,{x:s,y:i}]),this.refresh||this.el.addEventListener("touchend",this,!1),this.moved=!0),this.horizontalScroll&&Math.abs(i)>Math.abs(s)&&t.preventDefault(),this.refresh&&this.el.scrollTop<-this.refreshHeight?this.showRefresh():this.refresh&&this.refreshTriggered&&this.refreshRunning&&this.el.scrollTop>this.refreshHeight?(this.refreshTriggered=!1,this.refreshRunning=!1,this.refreshCancelCB&&clearTimeout(this.refreshCancelCB),this.hideRefresh(!1),this.setRefreshContent("Pull to Refresh"),e.trigger(this,"refresh-cancel")):this.refresh&&this.refreshTriggered&&!this.refreshRunning&&this.el.scrollTop>-this.refreshHeight&&(this.refreshTriggered=!1,this.refreshRunning=!1,this.refreshCancelCB&&clearTimeout(this.refreshCancelCB),this.hideRefresh(!1),this.setRefreshContent("Pull to Refresh"),e.trigger(this,"refresh-cancel")),this.cY=i,this.cX=s,this.lastScrollInfo.top=this.cY,this.initScrollProgress&&(e.trigger(this,"scroll",[{x:-this.el.scrollLeft,y:-this.el.scrollTop}]),e.trigger(e.touchLayer,"scroll",[{x:-this.el.scrollLeft,y:-this.el.scrollTop}]))},r.prototype.showRefresh=function(){this.refreshTriggered||(this.refreshTriggered=!0,this.setRefreshContent("Release to Refresh"),e.trigger(this,"refresh-trigger"))},r.prototype.onTouchEnd=function(){var t=this.el.scrollTop<=-this.refreshHeight,i=this;if(this.fireRefreshRelease(t,!0),this.moved||(this.el.scrollTop+=this.yReset,this.el.scrollLeft+=this.xReset),t&&this.refresh){var s=e.create("<div style='height:"+this.el.clientHeight+this.refreshHeight+"px;width:1px;-webkit-transform:translated3d(-1px,0,0)'></div>");e(this.el).append(s),i.refreshContainer.style.top="0px",i.refreshContainer.style.position="",setTimeout(function(){s.remove()})}this.el.removeEventListener("touchmove",this,!1),this.el.removeEventListener("touchend",this,!1),this.infiniteEndCheck=!0,this.infinite&&!this.infiniteTriggered&&this.el.scrollTop>=this.el.scrollHeight-this.el.clientHeight&&(this.infiniteTriggered=!0,e.trigger(this,"infinite-scroll"),this.infiniteEndCheck=!0),this.touchEndFired=!0;var n=200,l=this,o={top:this.el.scrollTop,left:this.el.scrollLeft},r=0;clearInterval(l.nativePolling),l.nativePolling=setInterval(function(){return r++,r===parseInt(n/8,10)&&l.initScrollProgress&&(e.trigger(l,"scroll",[{x:-l.el.scrollLeft+l.cX,y:-l.el.scrollTop+l.cY}]),e.trigger(e.touchLayer,"scroll",[{x:-l.el.scrollLeft+l.cX,y:-l.el.scrollTop+l.cY}])),r>=n?(clearInterval(l.nativePolling),l.initScrollProgress&&(e.trigger(l,"scroll",[{x:-l.el.scrollLeft,y:-l.el.scrollTop}]),e.trigger(e.touchLayer,"scroll",[{x:-l.el.scrollLeft,y:-l.el.scrollTop}])),void 0):((l.el.scrollTop!==o.top||l.el.scrollLeft!==o.left)&&(clearInterval(l.nativePolling),e.trigger(e.touchLayer,"scrollend",[l.el]),e.trigger(l,"scrollend",[l.el]),l.initScrollProgress&&(e.trigger(l,"scroll",[{x:-l.el.scrollLeft,y:-l.el.scrollTop}]),e.trigger(e.touchLayer,"scroll",[{x:-l.el.scrollLeft,y:-l.el.scrollTop}]))),void 0)},20)},r.prototype.hideRefresh=function(t){if(!this.preventHideRefresh){var i=this,n=function(t){i.refreshContainer.style.top="-60px",i.refreshContainer.style.position="absolute",i.dY=i.cY=0,t||(i.el.style[e.feat.cssPrefix+"Transform"]="none",i.el.style[e.feat.cssPrefix+"TransitionProperty"]="none",i.el.scrollTop=0,i.logPos(i.el.scrollLeft,0),i.refreshRunning=!1,i.setRefreshContent("Pull to Refresh"),e.trigger(i,"refresh-finish"))};t!==!1&&i.afEl.css3Animate?i.afEl.css3Animate({y:i.el.scrollTop-i.refreshHeight+"px",x:"0%",time:s+"ms",complete:n}):n(),this.refreshTriggered=!1}},r.prototype.hideScrollbars=function(){},r.prototype.scrollTo=function(e,t){return this.logPos(e.x,e.y),e.x*=-1,e.y*=-1,this._scrollTo(e,t)},r.prototype.scrollBy=function(e,t){return e.x+=this.el.scrollLeft,e.y+=this.el.scrollTop,this.logPos(this.el.scrollLeft,this.el.scrollTop),this._scrollTo(e,t)},r.prototype.scrollToBottom=function(e){this._scrollToBottom(e),this.logPos(this.el.scrollLeft,this.el.scrollTop)},r.prototype.onScroll=function(){if(this.infinite&&this.touchEndFired)return this.touchEndFired=!1,void 0;if(this.scrollSkip)return this.scrollSkip=!1,void 0;this.infinite&&!this.infiniteTriggered&&this.el.scrollTop>=this.el.scrollHeight-this.el.clientHeight&&(this.infiniteTriggered=!0,e.trigger(this,"infinite-scroll"),this.infiniteEndCheck=!0);var t=this;this.infinite&&this.infiniteEndCheck&&this.infiniteTriggered&&(this.infiniteEndCheck=!1,e.trigger(t,"infinite-scroll-end"))},r.prototype.logPos=function(e,t){this.loggedPcentX=this.divide(e,this.el.scrollWidth),this.loggedPcentY=this.divide(t,this.el.scrollHeight),this.scrollLeft=e,this.scrollTop=t,isNaN(this.loggedPcentX)&&(this.loggedPcentX=0),isNaN(this.loggedPcentY)&&(this.loggedPcentY=0)},r.prototype.adjustScroll=function(){this.adjustScrollOverflowProxy(),this.el.scrollLeft=this.loggedPcentX*this.el.scrollWidth,this.el.scrollTop=this.loggedPcentY*this.el.scrollHeight,this.logPos(this.el.scrollLeft,this.el.scrollTop)},l.prototype.defaultProperties=function(){this.boolScrollLock=!1,this.currentScrollingObject=null,this.elementInfo=null,this.verticalScroll=!0,this.horizontalScroll=!1,this.scrollBars=!0,this.vscrollBar=null,this.hscrollBar=null,this.hScrollCSS="scrollBar",this.vScrollCSS="scrollBar",this.firstEventInfo=null,this.moved=!1,this.preventPullToRefresh=!0,this.isScrolling=!1,this.androidFormsMode=!1,this.refreshSafeKeep=!1,this.lastScrollbar="",this.finishScrollingObject=null,this.container=null,this.scrollingFinishCB=null,this.loggedPcentY=0,this.loggedPcentX=0,this.androidPerfHack=0},l.prototype.enable=function(e){this.eventsActive||(this.eventsActive=!0,e?this.scrollerMoveCSS({x:0,y:0},0):this.adjustScroll(),this.container.addEventListener("touchstart",this,!1),this.container.addEventListener("touchmove",this,!1),this.container.addEventListener("touchend",this,!1))},l.prototype.adjustScroll=function(){var e=this.getViewportSize();this.scrollerMoveCSS({x:Math.round(this.loggedPcentX*(this.el.clientWidth-e.w)),y:Math.round(this.loggedPcentY*(this.el.clientHeight-e.h))},0)},l.prototype.disable=function(){if(this.eventsActive){var e=this.getCSSMatrix(this.el);this.logPos(numOnly(e.e)-numOnly(this.container.scrollLeft),numOnly(e.f)-numOnly(this.container.scrollTop)),this.container.removeEventListener("touchstart",this,!1),this.container.removeEventListener("touchmove",this,!1),this.container.removeEventListener("touchend",this,!1),this.eventsActive=!1}},l.prototype.addPullToRefresh=function(e,t){t||(this.refresh=!0),this.refresh&&this.refresh===!0&&(this.coreAddPullToRefresh(e),this.el.style.overflow="visible")},l.prototype.hideScrollbars=function(){this.hscrollBar&&(this.hscrollBar.style.display="none",this.hscrollBar.style[e.feat.cssPrefix+"TransitionDuration"]="0ms"),this.vscrollBar&&(this.vscrollBar.style.display="none",this.vscrollBar.style[e.feat.cssPrefix+"TransitionDuration"]="0ms")},l.prototype.getViewportSize=function(){var e=window.getComputedStyle(this.container);return isNaN(numOnly(e.paddingTop))&&window.alert(typeof e.paddingTop+"::"+e.paddingTop+":"),{h:this.container.clientHeight>window.innerHeight?window.innerHeight:this.container.clientHeight-numOnly(e.paddingTop)-numOnly(e.paddingBottom),w:this.container.clientWidth>window.innerWidth?window.innerWidth:this.container.clientWidth-numOnly(e.paddingLeft)-numOnly(e.paddingRight)}},l.prototype.onTouchStart=function(t){if(this.moved=!1,this.currentScrollingObject=null,e(this.el).animateCss().stop(),this.container&&(this.refreshCancelCB&&(clearTimeout(this.refreshCancelCB),this.refreshCancelCB=null),this.scrollingFinishCB&&(clearTimeout(this.scrollingFinishCB),this.scrollingFinishCB=null),1===t.touches.length&&!this.boolScrollLock)){if(t.touches[0].target&&void 0!==t.touches[0].target.type){var i=t.touches[0].target.tagName.toLowerCase();if("select"===i)return}var s={top:0,left:0,speedY:0,speedX:0,absSpeedY:0,absSpeedX:0,deltaY:0,deltaX:0,absDeltaY:0,absDeltaX:0,y:0,x:0,duration:0};this.elementInfo={};var n=this.getViewportSize();this.elementInfo.bottomMargin=n.h,this.elementInfo.maxTop=this.el.clientHeight-this.elementInfo.bottomMargin,this.elementInfo.maxTop<0&&(this.elementInfo.maxTop=0),this.elementInfo.divHeight=this.el.clientHeight,this.elementInfo.rightMargin=n.w,this.elementInfo.maxLeft=this.el.clientWidth-this.elementInfo.rightMargin,this.elementInfo.maxLeft<0&&(this.elementInfo.maxLeft=0),this.elementInfo.divWidth=this.el.clientWidth,this.elementInfo.hasVertScroll=this.verticalScroll||this.elementInfo.maxTop>0,this.elementInfo.hasHorScroll=this.elementInfo.maxLeft>0,this.elementInfo.requiresVScrollBar=this.vscrollBar&&this.elementInfo.hasVertScroll,this.elementInfo.requiresHScrollBar=this.hscrollBar&&this.elementInfo.hasHorScroll,this.saveEventInfo(t),this.saveFirstEventInfo(t);var l=this.getCSSMatrix(this.el);s.top=numOnly(l.f)-numOnly(this.container.scrollTop),s.left=numOnly(l.e)-numOnly(this.container.scrollLeft),this.container.scrollTop=this.container.scrollLeft=0,this.currentScrollingObject=this.el,this.refresh&&0===s.top?(this.refreshContainer.style.display="block",this.refreshHeight=this.refreshContainer.firstChild.clientHeight,this.refreshContainer.firstChild.style.top=-this.refreshHeight+"px",this.refreshContainer.style.overflow="visible",this.preventPullToRefresh=!1):s.top<0&&(this.preventPullToRefresh=!0,this.refresh&&(this.refreshContainer.style.overflow="hidden")),s.x=s.left,s.y=s.top,this.setVScrollBar(s,0,0)&&(this.vscrollBar.style.right=this.container.clientWidth>window.innerWidth?"0px":"0px",this.vscrollBar.style[e.feat.cssPrefix+"Transition"]="",e(this.vscrollBar).animateCss().stop()),this.setHScrollBar(s,0,0)&&(this.container.clientHeight>window.innerHeight?this.hscrollBar.style.top=window.innerHeight-numOnly(this.hscrollBar.style.height)+"px":this.hscrollBar.style.bottom=numOnly(this.hscrollBar.style.height),this.hscrollBar.style[e.feat.cssPrefix+"Transition"]="",e(this.hscrollBar).animateCss().stop()),this.lastScrollInfo=s,this.hasMoved=!1,0===this.elementInfo.maxTop&&0===this.elementInfo.maxLeft&&this.lockBounce?this.scrollToTop(0):this.scrollerMoveCSS(this.lastScrollInfo,0),this.scrollerMoveCSS(this.lastScrollInfo,0)}},l.prototype.getCSSMatrix=function(t){if(this.androidFormsMode){var i=parseInt(t.style.marginTop,10),s=parseInt(t.style.marginLeft,10);return isNaN(i)&&(i=0),isNaN(s)&&(s=0),{f:i,e:s}}var n=e.getCssMatrix(t);return n},l.prototype.saveEventInfo=function(e){this.lastEventInfo={pageX:e.touches[0].pageX,pageY:e.touches[0].pageY,time:e.timeStamp}},l.prototype.saveFirstEventInfo=function(e){this.firstEventInfo={pageX:e.touches[0].pageX,pageY:e.touches[0].pageY,time:e.timeStamp}},l.prototype.setVScrollBar=function(e,t,i){if(!this.elementInfo.requiresVScrollBar)return!1;var s=parseFloat(this.elementInfo.bottomMargin/this.elementInfo.divHeight)*this.elementInfo.bottomMargin+"px";numOnly(s)>this.elementInfo.bottomMargin&&(s=this.elementInfo.bottomMargin+"px"),s!==this.vscrollBar.style.height&&(this.vscrollBar.style.height=s);var n=this.elementInfo.bottomMargin-numOnly(this.vscrollBar.style.height)-(this.elementInfo.maxTop+e.y)/this.elementInfo.maxTop*(this.elementInfo.bottomMargin-numOnly(this.vscrollBar.style.height));return n>this.elementInfo.bottomMargin&&(n=this.elementInfo.bottomMargin),0>n&&(n=0),this.scrollbarMoveCSS(this.vscrollBar,{x:0,y:n},t,i),!0},l.prototype.setHScrollBar=function(e,t,i){if(!this.elementInfo.requiresHScrollBar)return!1;var s=parseFloat(this.elementInfo.rightMargin/this.elementInfo.divWidth)*this.elementInfo.rightMargin+"px";s!==this.hscrollBar.style.width&&(this.hscrollBar.style.width=s);var n=this.elementInfo.rightMargin-numOnly(this.hscrollBar.style.width)-(this.elementInfo.maxLeft+e.x)/this.elementInfo.maxLeft*(this.elementInfo.rightMargin-numOnly(this.hscrollBar.style.width));return n>this.elementInfo.rightMargin&&(n=this.elementInfo.rightMargin),0>n&&(n=0),this.scrollbarMoveCSS(this.hscrollBar,{x:n,y:0},t,i),!0},l.prototype.onTouchMove=function(t){if(null!==this.currentScrollingObject){var i=this.calculateMovement(t);this.calculateTarget(i),this.lastScrollInfo=i,this.moved||(e.trigger(this,"scrollstart",[this.el,{x:this.lastScrollInfo.top,y:this.lastScrollInfo.left}]),e.trigger(e.touchLayer,"scrollstart",[this.el,{x:this.lastScrollInfo.top,y:this.lastScrollInfo.left}]),this.elementInfo.requiresVScrollBar&&(this.vscrollBar.style.display="block"),this.elementInfo.requiresHScrollBar&&(this.hscrollBar.style.display="block")),this.moved=!0,this.refresh&&0===i.top?(this.refreshContainer.style.display="block",this.refreshHeight=this.refreshContainer.firstChild.clientHeight,this.refreshContainer.firstChild.style.top=-this.refreshHeight+"px",this.refreshContainer.style.overflow="visible",this.preventPullToRefresh=!1):i.top<0&&(this.preventPullToRefresh=!0,this.refresh&&(this.refreshContainer.style.overflow="hidden")),this.saveEventInfo(t),this.isScrolling===!1&&(this.isScrolling=!0,this.onScrollStart&&this.onScrollStart());var s=this.getCSSMatrix(this.el);this.lastScrollInfo.top=numOnly(s.f),this.lastScrollInfo.left=numOnly(s.e),this.recalculateDeltaY(this.lastScrollInfo),this.recalculateDeltaX(this.lastScrollInfo),this.checkYboundary(this.lastScrollInfo),this.elementInfo.hasHorScroll&&this.checkXboundary(this.lastScrollInfo);var n,l,o,r=this.lastScrollInfo.y>0&&this.lastScrollInfo.deltaY>0,a=this.lastScrollInfo.y<-this.elementInfo.maxTop&&this.lastScrollInfo.deltaY<0;if(r||a){n=r?this.lastScrollInfo.y:-this.lastScrollInfo.y-this.elementInfo.maxTop,l=(this.container.clientHeight-n)/this.container.clientHeight,.5>l&&(l=.5),o=0,r&&this.lastScrollInfo.top>0||a&&this.lastScrollInfo.top<-this.elementInfo.maxTop?o=this.lastScrollInfo.top:a&&(o=-this.elementInfo.maxTop);var h=this.lastScrollInfo.deltaY*l,c=Math.abs(this.lastScrollInfo.deltaY*l);1>c&&(h=r?1:-1),this.lastScrollInfo.y=o+h}if(this.elementInfo.hasHorScroll&&(r=this.lastScrollInfo.x>0&&this.lastScrollInfo.deltaX>0,a=this.lastScrollInfo.x<-this.elementInfo.maxLeft&&this.lastScrollInfo.deltaX<0,r||a)){n=r?this.lastScrollInfo.x:-this.lastScrollInfo.x-this.elementInfo.maxLeft,l=(this.container.clientWidth-n)/this.container.clientWidth,.5>l&&(l=.5),o=0,r&&this.lastScrollInfo.left>0||a&&this.lastScrollInfo.left<-this.elementInfo.maxLeft?o=this.lastScrollInfo.left:a&&(o=-this.elementInfo.maxLeft);var f=this.lastScrollInfo.deltaX*l,d=Math.abs(this.lastScrollInfo.deltaX*l);1>d&&(f=r?1:-1),this.lastScrollInfo.x=o+f}(this.lockBounce||!this.refresh)&&(this.lastScrollInfo.x>0?this.lastScrollInfo.x=0:-1*this.lastScrollInfo.x>this.elementInfo.maxLeft&&(this.lastScrollInfo.x=-1*this.elementInfo.maxLeft),this.lastScrollInfo.y>0?this.lastScrollInfo.y=0:-1*this.lastScrollInfo.y>this.elementInfo.maxTop&&(this.lastScrollInfo.y=-1*this.elementInfo.maxTop)),this.scrollerMoveCSS(this.lastScrollInfo,0),this.setVScrollBar(this.lastScrollInfo,0,0),this.setHScrollBar(this.lastScrollInfo,0,0),this.refresh&&!this.preventPullToRefresh&&(!this.refreshTriggered&&this.lastScrollInfo.top>this.refreshHeight?(this.refreshTriggered=!0,this.setRefreshContent("Release to Refresh"),e.trigger(this,"refresh-trigger")):this.refreshTriggered&&this.lastScrollInfo.top<this.refreshHeight&&(this.refreshTriggered=!1,this.setRefreshContent("Pull to Refresh"),e.trigger(this,"refresh-cancel"))),this.infinite&&!this.infiniteTriggered&&Math.abs(this.lastScrollInfo.top)>this.el.clientHeight-this.container.clientHeight&&(this.infiniteTriggered=!0,e.trigger(this,"infinite-scroll"))}},l.prototype.calculateMovement=function(e,t){var i={top:0,left:0,speedY:0,speedX:0,absSpeedY:0,absSpeedX:0,deltaY:0,deltaX:0,absDeltaY:0,absDeltaX:0,y:0,x:0,duration:0},s=t?this.firstEventInfo:this.lastEventInfo,n=t?e.pageX:e.touches[0].pageX,l=t?e.pageY:e.touches[0].pageY,o=t?e.time:e.timeStamp;return i.deltaY=this.elementInfo.hasVertScroll?l-s.pageY:0,i.deltaX=this.elementInfo.hasHorScroll?n-s.pageX:0,i.time=o,i.duration=o-s.time,i},l.prototype.calculateTarget=function(e){e.y=this.lastScrollInfo.y+e.deltaY,e.x=this.lastScrollInfo.x+e.deltaX,Math.abs(e.deltaY)>0&&(e.y+=(e.deltaY>0?1:-1)*this.elementInfo.divHeight*this.androidPerfHack),Math.abs(e.deltaX)>0&&(e.x+=(e.deltaX>0?1:-1)*this.elementInfo.divWidth*this.androidPerfHack)},l.prototype.checkYboundary=function(e){var t=this.container.clientHeight/2,i=this.elementInfo.maxTop+t;if(e.y>t)e.y=t;else{if(!(-e.y>i))return;e.y=-i}this.recalculateDeltaY(e)},l.prototype.checkXboundary=function(e){var t=this.container.clientWidth/2,i=this.elementInfo.maxLeft+t;if(e.x>t)e.x=t;else{if(!(-e.x>i))return;e.x=-i}this.recalculateDeltaX(e)},l.prototype.recalculateDeltaY=function(e){var t=Math.abs(e.deltaY);e.deltaY=e.y-e.top;var i=Math.abs(e.deltaY);e.duration=e.duration*i/t},l.prototype.recalculateDeltaX=function(e){var t=Math.abs(e.deltaX);e.deltaX=e.x-e.left;var i=Math.abs(e.deltaX);e.duration=e.duration*i/t},l.prototype.hideRefresh=function(t){var i=this;if(!this.preventHideRefresh){var n=function(){i.setRefreshContent("Pull to Refresh"),e.trigger(i,"refresh-finish")};this.scrollerMoveCSS({x:0,y:0},s),t!==!1&&i.afEl.css3Animate?i.afEl.css3Animate({time:s+"ms",complete:n}):n(),this.refreshTriggered=!1}},l.prototype.setMomentum=function(e){var t=8e-4;e.speedY=this.divide(e.deltaY,e.duration),e.speedX=this.divide(e.deltaX,e.duration),e.absSpeedY=Math.abs(e.speedY),e.absSpeedX=Math.abs(e.speedX),e.absDeltaY=Math.abs(e.deltaY),e.absDeltaX=Math.abs(e.deltaX),e.absDeltaY>0?(e.deltaY+=(e.deltaY<0?-1:1)*e.absSpeedY*e.absSpeedY/(2*t),e.absDeltaY=Math.abs(e.deltaY),e.duration=e.absSpeedY/t,e.speedY=e.deltaY/e.duration,e.absSpeedY=Math.abs(e.speedY),(e.absSpeedY<100*t||e.absDeltaY<5)&&(e.deltaY=e.absDeltaY=e.duration=e.speedY=e.absSpeedY=0)):e.absDeltaX?(e.deltaX+=(e.deltaX<0?-1:1)*e.absSpeedX*e.absSpeedX/(2*t),e.absDeltaX=Math.abs(e.deltaX),e.duration=e.absSpeedX/t,e.speedX=e.deltaX/e.duration,e.absSpeedX=Math.abs(e.speedX),(e.absSpeedX<100*t||e.absDeltaX<5)&&(e.deltaX=e.absDeltaX=e.duration=e.speedX=e.absSpeedX=0)):e.duration=0},l.prototype.onTouchEnd=function(){if(null!==this.currentScrollingObject&&this.moved){this.finishScrollingObject=this.currentScrollingObject,this.currentScrollingObject=null;var t=this.calculateMovement(this.lastEventInfo,!0);this.androidFormsMode||this.setMomentum(t),this.calculateTarget(t);var i=this.getCSSMatrix(this.el);t.top=numOnly(i.f),t.left=numOnly(i.e),this.checkYboundary(t),this.elementInfo.hasHorScroll&&this.checkXboundary(t);var n=!this.preventPullToRefresh&&(t.top>this.refreshHeight||t.y>this.refreshHeight);if(this.fireRefreshRelease(n,t.top>0),this.refresh&&n?(t.y=this.refreshHeight,t.duration=s):t.y>=0?(t.y=0,t.top>=0&&(t.duration=s)):(-t.y>this.elementInfo.maxTop||0===this.elementInfo.maxTop)&&(t.y=-this.elementInfo.maxTop,-t.top>this.elementInfo.maxTop&&(t.duration=s)),this.elementInfo.hasHorScroll&&(t.x>=0?(t.x=0,t.left>=0&&this.refresh&&(t.duration=s)):(-t.x>this.elementInfo.maxLeft||0===this.elementInfo.maxLeft)&&(t.x=-this.elementInfo.maxLeft,-t.left>this.elementInfo.maxLeft&&this.refresh&&(t.duration=s))),(t.x===t.left&&t.y===t.top||this.androidFormsMode)&&(t.duration=0),this.scrollerMoveCSS(t,t.duration,"cubic-bezier(0.33,0.66,0.66,1)"),this.setVScrollBar(t,t.duration,"cubic-bezier(0.33,0.66,0.66,1)"),this.setHScrollBar(t,t.duration,"cubic-bezier(0.33,0.66,0.66,1)"),this.setFinishCalback(t.duration),this.infinite&&!this.infiniteTriggered&&Math.abs(t.y)>=this.el.clientHeight-this.container.clientHeight){var l=this;setTimeout(function(){l.infiniteTriggered=!0,e.trigger(l,"infinite-scroll")},t.duration-50)}}},l.prototype.setFinishCalback=function(t){var i=this;this.scrollingFinishCB=setTimeout(function(){i.hideScrollbars(),e.trigger(e.touchLayer,"scrollend",[i.el]),e.trigger(i,"scrollend",[i.el]),i.isScrolling=!1,i.elementInfo=null,i.infinite&&i.infiniteTriggered&&e.trigger(i,"infinite-scroll-end")},t)},l.prototype.startFormsMode=function(){if(!this.blockFormsFix){var t=this.getCSSMatrix(this.el);this.refreshSafeKeep=this.refresh,this.refresh=!1,this.androidFormsMode=!0,this.el.style[e.feat.cssPrefix+"Transform"]="none",this.el.style[e.feat.cssPrefix+"Transition"]="none",this.el.style[e.feat.cssPrefix+"Perspective"]="none",this.scrollerMoveCSS({x:numOnly(t.e),y:numOnly(t.f)},0),this.container.style[e.feat.cssPrefix+"Perspective"]="none",this.container.style[e.feat.cssPrefix+"BackfaceVisibility"]="visible",this.vscrollBar&&(this.vscrollBar.style[e.feat.cssPrefix+"Transform"]="none",this.vscrollBar.style[e.feat.cssPrefix+"Transition"]="none",this.vscrollBar.style[e.feat.cssPrefix+"Perspective"]="none",this.vscrollBar.style[e.feat.cssPrefix+"BackfaceVisibility"]="visible"),this.hscrollBar&&(this.hscrollBar.style[e.feat.cssPrefix+"Transform"]="none",this.hscrollBar.style[e.feat.cssPrefix+"Transition"]="none",this.hscrollBar.style[e.feat.cssPrefix+"Perspective"]="none",this.hscrollBar.style[e.feat.cssPrefix+"BackfaceVisibility"]="visible")}},l.prototype.stopFormsMode=function(){if(!this.blockFormsFix){var t=this.getCSSMatrix(this.el);this.refresh=this.refreshSafeKeep,this.androidFormsMode=!1,this.el.style[e.feat.cssPrefix+"Perspective"]=1e3,this.el.style.marginTop=0,this.el.style.marginLeft=0,this.el.style[e.feat.cssPrefix+"Transition"]="0ms linear",this.scrollerMoveCSS({x:numOnly(t.e),y:numOnly(t.f)},0),this.container.style[e.feat.cssPrefix+"Perspective"]=1e3,this.container.style[e.feat.cssPrefix+"BackfaceVisibility"]="hidden",this.vscrollBar&&(this.vscrollBar.style[e.feat.cssPrefix+"Perspective"]=1e3,this.vscrollBar.style[e.feat.cssPrefix+"BackfaceVisibility"]="hidden"),this.hscrollBar&&(this.hscrollBar.style[e.feat.cssPrefix+"Perspective"]=1e3,this.hscrollBar.style[e.feat.cssPrefix+"BackfaceVisibility"]="hidden")
}},l.prototype.scrollerMoveCSS=function(t,i,s){i||(i=0),s||(s="linear"),i=numOnly(i);var n=this;if(this.el&&this.el.style){if(this.eventsActive)if(this.androidFormsMode)this.el.style.marginTop=Math.round(t.y)+"px",this.el.style.marginLeft=Math.round(t.x)+"px";else{var l={x:t.x,y:t.y,duration:i,easing:"easeOutSine"};n.initScrollProgress&&(l.update=function(t){e.trigger(n,"scroll",[t]),e.trigger(e.touchLayer,"scroll",[t])}),e(this.el).animateCss(l).start()}this.logPos(t.x,t.y)}},l.prototype.logPos=function(e,t){var i;i=this.elementInfo?{h:this.elementInfo.bottomMargin,w:this.elementInfo.rightMargin}:this.getViewportSize(),this.loggedPcentX=this.divide(e,this.el.clientWidth-i.w),this.loggedPcentY=this.divide(t,this.el.clientHeight-i.h),this.scrollTop=t,this.scrollLeft=e},l.prototype.scrollbarMoveCSS=function(t,i,s,n){s||(s=0),n||(n="linear"),t&&t.style&&(this.androidFormsMode?(t.style.marginTop=Math.round(i.y)+"px",t.style.marginLeft=Math.round(i.x)+"px"):e(t).animateCss({x:i.x,y:i.y,duration:s,easing:"easeOutSine"}).start())},l.prototype.scrollTo=function(e,t){t||(t=0),this.scrollerMoveCSS(e,t)},l.prototype.scrollBy=function(e,t){var i=this.getCSSMatrix(this.el),s=numOnly(i.f),n=numOnly(i.e);this.scrollTo({y:s-e.y,x:n-e.x},t)},l.prototype.scrollToBottom=function(e){this.scrollTo({y:-1*(this.el.clientHeight-this.container.clientHeight),x:0},e)},l.prototype.scrollToTop=function(e){this.scrollTo({x:0,y:0},e)},a}()}(af),function(e){"use strict";var t,i,s,n,l=!1,o=!0,r=!1;e.ui.slideSideMenu=!0,e.ui.fixedSideMenuWidth=2e4;var a=!1,h=!1;e.ui.ready(function(){if(!e.os.ie){var c=e("#afui").get(0),f=e("#content, #header, #navbar"),d=0,u=d/3,p=e.ui.transitionTime,m=0,g=!1,v=e.query("#menu"),y=e.query("#aside_menu"),x=v.width(),S=y.width(),T=["input","select","textarea"],b=!1,I=!1;c.addEventListener("touchstart",function(s){if(m=0,!e.ui.isSideMenuEnabled()&&!e.ui.isAsideMenuEnabled())return!0;if(!(s.touches.length>1)){var n=s.target.tagName.toLowerCase();if(!n||-1===T.indexOf(n)){b=!0,x=v.width(),S=y.width(),t=s.touches[0].pageX,i=s.touches[0].pageY,l=!1,o=!1,h=!1,a=!1,window.innerWidth>=e.ui.fixedSideMenuWidth?(o=!1,h=!0):o=!0;var r=e.ui.getSideMenuPosition();r>0?(m=1,d=x):0>r&&(m=2,d=S)}}},!0),c.addEventListener("touchmove",function(c){if(!(c.touches.length>1)&&b){if(!e.ui.isSideMenuEnabled()&&!e.ui.isAsideMenuEnabled())return!0;if(!e.ui.slideSideMenu||h)return!0;if(s=c.touches[0].pageX,n=c.touches[0].pageY,I&&(c.preventDefault(),c.stopPropagation()),e.ui.splitview&&window.innerWidth>=parseInt(e.ui.handheldMinWidth,10)&&s>t&&0===m)return!0;if(!e.ui.isSideMenuEnabled()&&s>t&&0===m)return!0;if(!e.ui.isAsideMenuEnabled()&&t>s&&0===m)return!0;if(Math.abs(n-i)>Math.abs(s-t))return!0;if(!l)return l=!0,o=!1,!0;o=!0;var T=s-t;if(0===m&&(0>T?(d=S,y.show(),e.ui.splitview||v.hide()):(d=x,v.show(),y.hide())),Math.abs(T)>d)return!0;c.preventDefault(),c.stopPropagation(),u=d/3,g=Math.abs(T)<u?r?r:!1:2,1===m?(T+=d,g=Math.abs(T)<2*u?r?r:!1:2,T>d&&(T=d)):2===m?(T=-1*d+T,g=Math.abs(T)<2*u?r?r:!1:2,-1*d>T&&(T=-1*d)):0>T&&-1*d>T&&(T=-1*d),p=r?(d-T)/d*numOnly(e.ui.transitionTime):T/d*numOnly(e.ui.transitionTime),p=Math.abs(p),a=0>T?!0:!1,I=!0,f.cssTranslate(T+"px,0")}},!0),c.addEventListener("touchend",function(){return e.ui.isSideMenuEnabled()||e.ui.isAsideMenuEnabled()?(o&&l&&!h&&e.ui.toggleSideMenu(g,function(){},p,a),I=!1,l=!1,o=!1,h=!1,b=!1,void 0):!0},!0)}})}(af),function(e){"use strict";e.fn.actionsheet=function(e){for(var i,s=0;s<this.length;s++)i=new t(this[s],e);return 1===this.length?i:this};var t=function(){var t=function(i,s){if(this.el="string"==typeof i||i instanceof String?document.getElementById(i):i,!this.el)return window.alert("Could not find element for actionsheet "+i),void 0;if(!(this instanceof t))return new t(i,s);if("object"==typeof s)for(var n in s)this[n]=s[n];var l,o=this,r="<div id='af_actionsheet'><div style='width:100%'>",a="</div></div>",h=function(){};if("string"==typeof s)l=e(r+s+"<a href='javascript:;' class='cancel'>Cancel</a>"+a);else if("object"==typeof s){l=e(r+a);var c=e(l.children().get(0));s.push({text:"Cancel",cssClasses:"cancel"});for(var f=0;f<s.length;f++){var d=e("<a href='javascript:;'>"+(s[f].text||"TEXT NOT ENTERED")+"</a>");d[0].onclick=s[f].handler||h,s[f].cssClasses&&s[f].cssClasses.length>0&&d.addClass(s[f].cssClasses),c.append(d)}}e(i).find("#af_actionsheet").remove(),e(i).find("#af_action_mask").remove(),e(i).append(l),l.vendorCss("Transition","all 0ms"),l.cssTranslate("0,0"),l.css("top",window.innerHeight+"px"),this.el.style.overflow="hidden",l.on("click","a",function(){return o.hideSheet(),!1}),this.activeSheet=l,e(i).append("<div id='af_action_mask' style='position:absolute;top:0px;left:0px;right:0px;bottom:0px;z-index:9998;background:rgba(0,0,0,.4)'/>"),setTimeout(function(){l.vendorCss("Transition","all 300ms"),l.cssTranslate("0,"+-l.height()+"px")},10),e("#af_action_mask").bind("touchstart touchmove touchend click",function(e){e.preventDefault(),e.stopPropagation()})};return t.prototype={activeSheet:null,hideSheet:function(){var t=this;this.activeSheet.off("click","a",function(){t.hideSheet()}),e(this.el).find("#af_action_mask").unbind("click").remove(),this.activeSheet.vendorCss("Transition","all 0ms");var i=this.activeSheet,s=this.el;setTimeout(function(){i.vendorCss("Transition","all 300ms"),i.cssTranslate("0,0px"),setTimeout(function(){i.remove(),i=null,s.style.overflow="none"},500)},10)}},t}()}(af),function(e){"use strict";e.passwordBox=function(){return new t};var t=function(){this.oldPasswords={}};t.prototype={showPasswordPlainText:!1,getOldPasswords:function(t){var i=t&&document.getElementById(t)?document.getElementById(t):document;if(!i)return window.alert("Could not find container element for passwordBox "+t),void 0;for(var s=i.getElementsByTagName("input"),n=0;n<s.length;n++)"password"===s[n].type&&e.os.webkit&&(s[n].type="text",e(s[n]).vendorCss("TextSecurity","disc"))},changePasswordVisiblity:function(t,i){t=parseInt(t,10);var s=document.getElementById(i);1===t?e(s).vendorCss("TextSecurity","none"):e(s).vendorCss("TextSecurity","disc"),e.os.webkit||(s.type=1===t?"text":"password"),s=null}}}(af),function(e){"use strict";function t(t,i,s){return s===!0&&(this.getAttribute("multiple")||e.selectBox.updateMaskValue(this.parentNode.id,this.text,this.value),this.parentNode.value=this.value),s}function i(t,i,s){return this.options[s]&&(this.getAttribute("multiple")||e.selectBox.updateMaskValue(this.linker,this.options[s].value,this.options[s].text),this.value=this.options[s].value),s}function s(t){var i=t.target;e(i.linker).remove(),delete i.linker,t.stopPropagation()}e.selectBox={scroller:null,currLinker:null,getOldSelects:function(n){if(e.os.android&&!e.os.androidICS){if(!e.fn.scroller)return window.alert("This library requires af.scroller"),void 0;var l=n&&document.getElementById(n)?document.getElementById(n):document;if(!l)return window.alert("Could not find container element for af.selectBox "+n),void 0;for(var o=l.getElementsByTagName("select"),r=this,a=0;a<o.length;a++){var h=o[a];h.style.display="none";var c=e.create("div",{className:"afFakeSelect"});c.get(0).linker=o[a],h.linker=c.get(0),c.insertAfter(o[a]),h.watch("selectedIndex",i);for(var f=0;f<h.options.length;f++)h.options[f].watch("selected",t),h.options[f].selected&&c.html(h.options[f].text);e(h).one("destroy",s)}r.createHtml()}},updateDropdown:function(e){if(e){for(var t=0;t<e.options.length;t++)e.options[t].selected&&(e.linker.innerHTML=e.options[t].text);e=null}},initDropDown:function(i){if(!i.disabled&&i&&i.options&&0!==i.options.length){var s=0,n=e("#afSelectBoxfix");n.html("<ul></ul>");for(var l=n.find("ul"),o=0;o<i.options.length;o++){i.options[o].watch("selected",t);var r=i.options[o].selected?"selected":"";r&&(s=o+1);var a=e.create("li",{html:i.options[o].text,className:r});a.data("ind",o),l.append(a)}e("#afModalMask").show();try{if(s>0&&"multiple"!==i.getAttribute("multiple")){var h=0,c=numOnly(l.find("li").computedStyle("height")),f=numOnly(e("#afSelectBoxContainer").computedStyle("height"));s*c>=f&&(h=(s-1)*-c),this.scroller.scrollTo({x:0,y:h})}}catch(d){console.log("error init dropdown"+d)}var u="block"===e("#afSelectClose").css("display")?numOnly(e("#afSelectClose").height()):0;e("#afSelectWrapper").height(numOnly(e("#afSelectBoxContainer").height())-u+"px")}},updateMaskValue:function(t,i,s){e(t).html(s)},setDropDownValue:function(t,i){if(t){var s=e(t);if(i=parseInt(i,10),t.getAttribute("multiple")){var n=e("#afSelectBoxfix li:nth-child("+(i+1)+")");n.hasClass("selected")?n.removeClass("selected"):n.addClass("selected")}else t.selectedIndex=i,s.find("option").prop("selected",!1),s.find("option:nth-child("+(i+1)+")").prop("selected",!0),this.scroller.scrollTo({x:0,y:0}),this.hideDropDown();e(t).trigger("change"),t=null}},hideDropDown:function(){e("#afModalMask").hide(),e("#afSelectBoxfix").html("")},createHtml:function(){var t=this;document.getElementById("afSelectBoxfix")||e(document).ready(function(){e(document).on("click",".afFakeSelect",function(){this.linker.disabled||(t.currLinker=this,"multiple"===this.linker.getAttribute("multiple")?e("#afSelectClose").show():e("#afSelectClose").hide(),t.initDropDown(this.linker))});var i=e.create("div",{id:"afSelectBoxContainer"}),s=e.create("div",{id:"afSelectBoxfix"}),n=e.create("div",{id:"afSelectWrapper"});n.css("position","relative"),n.append(s);var l=e.create("div",{id:"afSelectClose",html:"<a id='afSelectDone'>Done</a> <a id='afSelectCancel'>Cancel</a>"}),o=e.create("div",{id:"afModalMask"}),r=e("#afui");i.prepend(l).append(n),o.append(i),r.length>0?r.append(o):document.body.appendChild(o.get(0)),t.scroller=e.query("#afSelectBoxfix").scroller({scroller:!1,verticalScroll:!0,vScrollCSS:"afselectscrollBarV",hasParent:!0}),e("#afModalMask").on("click",function(i){var s=e(i.target);0===s.closest("#afSelectBoxContainer").length&&t.hideDropDown()}),e("#afSelectBoxfix").on("click","li",function(i){var s=e(i.target);t.setDropDownValue(t.currLinker.linker,s.data("ind"))}),e("#afSelectBoxContainer").on("click","a",function(i){if("afSelectCancel"===i.target.id)return t.hideDropDown();var s=e(t.currLinker.linker);return s.find("option").prop("selected",!1),e("#afSelectBoxfix li").each(function(){var i=e(this);if(i.hasClass("selected")){var n=parseInt(i.data("ind"),10);s.find("option:nth-child("+(n+1)+")").prop("selected",!0),t.currLinker.innerHTML=i.html()}}),t.hideDropDown(),i.stopPropagation(),i.preventDefault(),!1})})}},HTMLElement.prototype.watch||(HTMLElement.prototype.watch=function(e,t){var i=this[e],s=i,n=function(){return s},l=function(n){return i=s,s=t.call(this,e,i,n)};delete this[e]&&(HTMLElement.defineProperty?HTMLElement.defineProperty(this,e,{get:n,set:l,enumerable:!1,configurable:!0}):HTMLElement.prototype.__defineGetter__&&HTMLElement.prototype.__defineSetter__&&(HTMLElement.prototype.__defineGetter__.call(this,e,n),HTMLElement.prototype.__defineSetter__.call(this,e,l)))}),HTMLElement.prototype.unwatch||(HTMLElement.prototype.unwatch=function(e){var t=this[e];delete this[e],this[e]=t})}(af),function(e){"use strict";e.fn.popup=function(e){return new i(this[0],e)};var t=[],i=function(){var i=function(i,s){if(this.container="string"==typeof i||i instanceof String?document.getElementById(i):i,!this.container)return window.alert("Error finding container for popup "+i),void 0;try{("string"==typeof s||"number"==typeof s)&&(s={message:s,cancelOnly:"true",cancelText:"OK"}),this.id=s.id=s.id||e.uuid(),this.addCssClass=s.addCssClass?s.addCssClass:"",this.suppressTitle=s.suppressTitle||this.suppressTitle,this.title=s.suppressTitle?"":s.title||"Alert",this.message=s.message||"",this.cancelText=s.cancelText||"Cancel",this.cancelCallback=s.cancelCallback||function(){},this.cancelClass=s.cancelClass||"button",this.doneText=s.doneText||"Done",this.doneCallback=s.doneCallback||function(){},this.doneClass=s.doneClass||"button",this.cancelOnly=s.cancelOnly||!1,this.onShow=s.onShow||function(){},this.autoCloseDone=void 0!==s.autoCloseDone?s.autoCloseDone:!0,t.push(this),1===t.length&&this.show()}catch(n){console.log("error adding popup "+n)}};return i.prototype={id:null,addCssClass:null,title:null,message:null,cancelText:null,cancelCallback:null,cancelClass:null,doneText:null,doneCallback:null,doneClass:null,cancelOnly:!1,onShow:null,autoCloseDone:!0,suppressTitle:!1,show:function(){var t=this,i="<div id='"+this.id+"' class='afPopup hidden "+this.addCssClass+"'>"+"<header>"+this.title+"</header>"+"<div>"+this.message+"</div>"+"<footer>"+"<a href='javascript:;' class='"+this.cancelClass+"' id='cancel'>"+this.cancelText+"</a>"+"<a href='javascript:;' class='"+this.doneClass+"' id='action'>"+this.doneText+"</a>"+"<div style='clear:both'></div>"+"</footer>"+"</div>";e(this.container).append(e(i));var s=e.query("#"+this.id);s.bind("close",function(){t.hide()}),this.cancelOnly&&(s.find("A#action").hide(),s.find("A#cancel").addClass("center")),s.find("A").each(function(){var i=e(this);i.bind("click",function(e){"cancel"===i.attr("id")?(t.cancelCallback.call(t.cancelCallback,t),t.hide()):(t.doneCallback.call(t.doneCallback,t),t.autoCloseDone&&t.hide()),e.preventDefault()})}),t.positionPopup(),e.blockUI(.5),s.bind("orientationchange",function(){t.positionPopup()}),s.find("header").show(),s.find("footer").show(),setTimeout(function(){s.removeClass("hidden"),t.onShow(t)},50)},hide:function(){var t=this;e.query("#"+t.id).addClass("hidden"),e.unblockUI(),e.os.ie||e.os.android?t.remove():setTimeout(function(){t.remove()},250)},remove:function(){var i=this,s=e.query("#"+i.id);s.unbind("close"),s.find("BUTTON#action").unbind("click"),s.find("BUTTON#cancel").unbind("click"),s.unbind("orientationchange").remove(),t.splice(0,1),t.length>0&&t[0].show()},positionPopup:function(){var t=e.query("#"+this.id);t.css("top",window.innerHeight/2.5+window.pageYOffset-t[0].clientHeight/2+"px"),t.css("left",window.innerWidth/2-t[0].clientWidth/2+"px")}},i}(),s=!1;e.blockUI=function(t){s||(t=t?" style='opacity:"+t+";'":"",e.query("BODY").prepend(e("<div id='mask'"+t+"></div>")),e.query("BODY DIV#mask").bind("touchstart",function(e){e.preventDefault()}),e.query("BODY DIV#mask").bind("touchmove",function(e){e.preventDefault()}),s=!0)},e.unblockUI=function(){s=!1,e.query("BODY DIV#mask").unbind("touchstart"),e.query("BODY DIV#mask").unbind("touchmove"),e("BODY DIV#mask").remove()}}(af),function(e){"use strict";function t(t,i,s){var n=this;s?(i.style.zIndex=1,t.style.zIndex=2,n.clearAnimations(i),n.css3animate(t,{x:"0%",time:e.transitionTime,opacity:.1,complete:function(e){return e?(n.finishTransition(t,i),void 0):(n.css3animate(t,{x:"-100%",opacity:1,complete:function(){n.finishTransition(t)}}),i.style.zIndex=2,t.style.zIndex=1,void 0)}})):(t.style.zIndex=1,i.style.zIndex=2,i.style.opacity=0,n.css3animate(i,{x:"0%",opacity:.1,complete:function(){n.css3animate(i,{x:"0%",time:e.transitionTime,opacity:1,complete:function(e){return e?(n.finishTransition(t,i),void 0):(n.clearAnimations(i),n.css3animate(t,{x:"-100%",y:0,complete:function(){n.finishTransition(t)}}),void 0)}})}}))}e.availableTransitions.fade=t}(af.ui),function(e){"use strict";function t(t,i,s){var n=this;s?(n.css3animate(i,{x:"100%",scale:.8,rotateY:"180deg",complete:function(){n.css3animate(i,{x:"0%",scale:1,time:e.transitionTime,rotateY:"0deg",complete:function(){n.clearAnimations(i)}})}}),n.css3animate(t,{x:"100%",time:e.transitionTime,scale:.8,rotateY:"180deg",complete:function(){n.css3animate(t,{x:"-100%",opacity:1,scale:1,rotateY:"0deg",complete:function(){n.finishTransition(t)}}),i.style.zIndex=2,t.style.zIndex=1}})):(t.style.zIndex=1,i.style.zIndex=2,n.css3animate(i,{x:"100%",scale:.8,rotateY:"180deg",complete:function(){n.css3animate(i,{x:"0%",scale:1,time:e.transitionTime,rotateY:"0deg",complete:function(){n.clearAnimations(i)}})}}),n.css3animate(t,{x:"100%",time:e.transitionTime,scale:.8,rotateY:"180deg",complete:function(){n.css3animate(t,{x:"-100%",opacity:1,scale:1,rotateY:"0deg",complete:function(){n.finishTransition(t)}}),i.style.zIndex=2,t.style.zIndex=1}}))}e.availableTransitions.flip=t}(af.ui),function(e){"use strict";function t(t,i,s){var n=this;s?(i.style.zIndex=1,t.style.zIndex=2,n.clearAnimations(i),n.css3animate(t,{x:"0%",time:e.transitionTime,opacity:.1,scale:.2,origin:"50% 50%",complete:function(e){return e?(n.finishTransition(t),void 0):(n.css3animate(t,{x:"-100%",complete:function(){n.finishTransition(t)}}),i.style.zIndex=2,t.style.zIndex=1,void 0)}})):(t.style.zIndex=1,i.style.zIndex=2,n.css3animate(i,{x:"0%",scale:.2,origin:"50% 50%",opacity:.1,time:"0ms",complete:function(){n.css3animate(i,{x:"0%",time:e.transitionTime,scale:1,opacity:1,origin:"0% 0%",complete:function(e){return e?(n.finishTransition(t,i),void 0):(n.clearAnimations(i),n.css3animate(t,{x:"100%",y:0,complete:function(){n.finishTransition(t)}}),void 0)}})}}))}e.availableTransitions.pop=t}(af.ui),function(e){"use strict";function t(t,i,s){var n=this;s?n.css3animate(t,{x:"0%",y:"0%",complete:function(){n.css3animate(t,{x:"100%",time:e.transitionTime,complete:function(){n.finishTransition(t,i)}}).link(i,{x:"0%",time:e.transitionTime})}}).link(i,{x:"-100%",y:"0%"}):n.css3animate(t,{x:"0%",y:"0%",complete:function(){n.css3animate(t,{x:"-100%",time:e.transitionTime,complete:function(){n.finishTransition(t,i)}}).link(i,{x:"0%",time:e.transitionTime})}}).link(i,{x:"100%",y:"0%"})}e.availableTransitions.slide=t,e.availableTransitions["default"]=t}(af.ui),function(e){"use strict";function t(t,i,s){var n=this;s?(t.style.zIndex=2,i.style.zIndex=1,n.css3animate(t,{y:"0%",x:"0%",complete:function(){n.css3animate(t,{y:"-100%",time:e.transitionTime,complete:function(){n.finishTransition(t,i)}})}})):(t.style.zIndex=1,i.style.zIndex=2,n.css3animate(i,{y:"-100%",x:"0%",time:"10ms",complete:function(){n.css3animate(i,{y:"0%",time:e.transitionTime,complete:function(){n.finishTransition(t,i)}})}}))}e.availableTransitions.down=t}(af.ui),function(e){"use strict";function t(t,i,s){var n=this;s?(t.style.zIndex=2,i.style.zIndex=1,n.css3animate(t,{y:"0%",x:"0%",complete:function(){n.css3animate(t,{y:"100%",time:e.transitionTime,complete:function(){n.finishTransition(t,i)}})}})):(t.style.zIndex=1,i.style.zIndex=2,n.css3animate(i,{y:"100%",x:"0%",time:"10ms",complete:function(){n.css3animate(i,{y:"0%",time:e.transitionTime,complete:function(){n.finishTransition(t,i)}})}}))}e.availableTransitions.up=t}(af.ui);