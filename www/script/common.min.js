if(!window.af||"function"!=typeof af){var af=function(e){"use strict";function t(e,t){return"number"!=typeof t||A[e.toLowerCase()]?t:t+"px"}function i(e,t,i){var s=C.createDocumentFragment();if(i){for(var n=e.length-1;n>=0;n--)s.insertBefore(e[n],s.firstChild);t.insertBefore(s,t.firstChild)}else{for(var r=0;r<e.length;r++)s.appendChild(e[r]);t.appendChild(s)}s=null}function s(e){return e in I?I[e]:I[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function n(e){for(var t=0;t<e.length;t++)e.indexOf(e[t])!==t&&(e.splice(t,1),t--);return e}function r(e,t){var i=[];if(e==S)return i;for(;e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}function o(e,t){try{return t.querySelectorAll(e)}catch(i){return[]}}function l(e,t){if(e=e.trim(),"#"===e[0]&&-1===e.indexOf(".")&&-1===e.indexOf(",")&&-1===e.indexOf(" ")&&-1===e.indexOf(">"))t===C?a(t.getElementById(e.replace("#","")),this):a(o(e,t),this);else if("<"===e[0]&&">"===e[e.length-1]||-1!==e.indexOf("<")&&-1!==e.indexOf(">")){var i=C.createElement("div");P?MSApp.execUnsafeLocalFunction(function(){i.innerHTML=e.trim()}):i.innerHTML=e.trim(),a(i.childNodes,this)}else a(o(e,t),this);return this}function a(e,t){if(e){if(e.nodeType)return t[t.length++]=e,void 0;for(var i=0,s=e.length;s>i;i++)t[t.length++]=e[i]}}function h(){}function c(t,i){t.os={},t.os.webkit=i.match(/WebKit\/([\d.]+)/)?!0:!1,t.os.android=i.match(/(Android)\s+([\d.]+)/)||i.match(/Silk-Accelerated/)?!0:!1,t.os.androidICS=t.os.android&&i.match(/(Android)\s4/)?!0:!1,t.os.ipad=i.match(/(iPad).*OS\s([\d_]+)/)?!0:!1,t.os.iphone=!t.os.ipad&&i.match(/(iPhone\sOS)\s([\d_]+)/)?!0:!1,t.os.ios7=(t.os.ipad||t.os.iphone)&&i.match(/7_/)?!0:!1,t.os.webos=i.match(/(webOS|hpwOS)[\s\/]([\d.]+)/)?!0:!1,t.os.touchpad=t.os.webos&&i.match(/TouchPad/)?!0:!1,t.os.ios=t.os.ipad||t.os.iphone,t.os.playbook=i.match(/PlayBook/)?!0:!1,t.os.blackberry10=i.match(/BB10/)?!0:!1,t.os.blackberry=t.os.playbook||t.os.blackberry10||i.match(/BlackBerry/)?!0:!1,t.os.chrome=i.match(/Chrome/)?!0:!1,t.os.opera=i.match(/Opera/)?!0:!1,t.os.fennec=i.match(/fennec/i)?!0:i.match(/Firefox/)?!0:!1,t.os.ie=i.match(/MSIE 10.0/i)||i.match(/Trident\/7/i)?!0:!1,t.os.ieTouch=t.os.ie&&i.toLowerCase().match(/touch/i)?!0:!1,t.os.tizen=i.match(/Tizen/i)?!0:!1,t.os.supportsTouch=e.DocumentTouch&&C instanceof e.DocumentTouch||"ontouchstart"in e,t.os.kindle=i.match(/Silk-Accelerated/)?!0:!1,t.feat={};var s=C.documentElement.getElementsByTagName("head")[0];t.feat.nativeTouchScroll="undefined"!=typeof s.style["-webkit-overflow-scrolling"]&&(t.os.ios||t.os.blackberry10),t.feat.cssPrefix=t.os.webkit?"Webkit":t.os.fennec?"Moz":t.os.ie?"ms":t.os.opera?"O":"",t.feat.cssTransformStart=t.os.opera?"(":"3d(",t.feat.cssTransformEnd=t.os.opera?")":",0)",t.os.android&&!t.os.webkit&&(t.os.android=!1);for(var n=["Webkit","Moz","ms","O"],r=0;r<n.length;r++)""===C.documentElement.style[n[r]+"Transform"]&&(t.feat.cssPrefix=n[r])}function d(e){return e._afmid||(e._afmid=_++)}function u(e,t,i,s){if(t=f(t),t.ns)var n=p(t.ns);return(F[d(e)]||[]).filter(function(e){return!(!e||t.e&&e.e!==t.e||t.ns&&!n.test(e.ns)||i&&e.fn!==i&&("function"!=typeof e.fn||"function"!=typeof i||e.fn!==i)||s&&e.sel!==s)})}function f(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function p(e){return new RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}function m(e,t,i){H.isObject(e)?H.each(e,i):e.split(/\s/).forEach(function(e){i(e,t)})}function g(e,t,i,s,n){var r=d(e),o=F[r]||(F[r]=[]);m(t,i,function(t,i){var r=n&&n(i,t),l=r||i,a=function(t){if(t.ns){var i=p(t.ns);if(!i.test(h.ns))return}var s=l.apply(e,[t].concat(t.data));return s===!1&&t.preventDefault(),s},h=H.extend(f(t),{fn:i,proxy:a,sel:s,del:r,i:o.length});o.push(h),e.addEventListener(h.e,a,!1)})}function v(e,t,i,s){var n=d(e);m(t||"",i,function(t,i){u(e,t,i,s).forEach(function(t){delete F[n][t.i],e.removeEventListener(t.e,t.proxy,!1)})})}function y(e){var t=H.extend({originalEvent:e},e);return H.each(R,function(i,s){t[i]=function(){return this[s]=O,"stopImmediatePropagation"!==i&&"stopPropagation"!==i||(e.cancelBubble=!0,e[i])?e[i].apply(e,arguments):void 0},t[s]=Y}),t}function b(e,t,i,s,n){g(e,t,i,s,function(t){return function(i){var r,o=H(i.target).closest(s,e).get(0);return o?(r=H.extend(y(i),{currentTarget:o,liveFired:e,delegateTarget:e,data:n}),t.apply(o,[r].concat([].slice.call(arguments,1)))):void 0}})}function x(e,t){if(t&&e.dispatchEvent){var i=H.Event("destroy",{bubbles:!1});e.dispatchEvent(i)}var s=d(e);if(s&&F[s]){for(var n in F[s])e.removeEventListener(F[s][n].e,F[s][n].proxy,!1);delete F[s]}}function T(e,t){if(e){var i=e.childNodes;if(i&&i.length>0)for(var s;s<i.length;s++)T(i[s],t);x(e,t)}}var S,C=e.document,w=[],B=w.slice,I={},E=1,k=/<(\w+)[^>]*>/,M={},D={},A={columncount:!0,fontweight:!0,lineheight:!0,"column-count":!0,"font-weight":!0,"line-height":!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,"z-index":!0,zoom:!0},P="object"==typeof MSApp,L=function(e,t){if(this.length=0,!e)return this;if(e instanceof L&&t==S)return e;if(af.isFunction(e))return af(C).ready(e);if(af.isArray(e)&&e.length!=S){for(var i=0;i<e.length;i++)this[this.length++]=e[i];return this}if(af.isObject(e)&&af.isObject(t)){if(e.length==S)e.parentNode==t&&(this[this.length++]=e);else for(var s=0;s<e.length;s++)e[s].parentNode==t&&(this[this.length++]=e[s]);return this}if(af.isObject(e)&&t==S)return this[this.length++]=e,this;if(t!==S){if(t instanceof L)return t.find(e)}else t=C;return this.selector(e,t)},H=function(e,t){return new L(e,t)};H.is$=function(e){return e instanceof L},H.map=function(e,t){var i,s,n,r=[];if(H.isArray(e))for(s=0;s<e.length;s++)i=t.apply(e[s],[e[s],s]),i!==S&&r.push(i);else if(H.isObject(e))for(n in e)e.hasOwnProperty(n)&&"length"!==n&&(i=t(e[n],[e[n],n]),i!==S&&r.push(i));return r},H.each=function(e,t){var i,s;if(H.isArray(e)){for(i=0;i<e.length;i++)if(t(i,e[i])===!1)return e}else if(H.isObject(e))for(s in e)if(e.hasOwnProperty(s)&&"length"!==s&&t(s,e[s])===!1)return e;return e},H.extend=function(e){if(e==S&&(e=this),1===arguments.length){for(var t in e)this[t]=e[t];return this}return B.call(arguments,1).forEach(function(t){for(var i in t)e[i]=t[i]}),e},H.isArray=function(e){return e instanceof Array&&e.push!=S},H.isFunction=function(e){return"function"==typeof e&&!(e instanceof RegExp)},H.isObject=function(e){return"object"==typeof e&&null!==e},H.fn=L.prototype={namespace:"appframework",constructor:L,forEach:w.forEach,reduce:w.reduce,push:w.push,indexOf:w.indexOf,concat:w.concat,selector:l,oldElement:void 0,sort:w.sort,slice:w.slice,length:0,setupOld:function(e){return e==S?H():(e.oldElement=this,e)},map:function(e){var t,i,s=[];for(i=0;i<this.length;i++)t=e.apply(this[i],[i,this[i]]),t!==S&&s.push(t);return H(s)},each:function(e){return this.forEach(function(t,i){e.call(t,i,t)}),this},ready:function(e){return"complete"===C.readyState||"loaded"===C.readyState||!H.os.ie&&"interactive"===C.readyState?e():C.addEventListener("DOMContentLoaded",e,!1),this},find:function(e){if(0===this.length)return this;for(var t,i=[],s=0;s<this.length;s++){t=H(e,this[s]);for(var r=0;r<t.length;r++)i.push(t[r])}return H(n(i))},html:function(e,t){var i=function(){n.innerHTML=e};if(0===this.length)return this;if(e===S)return this[0].innerHTML;for(var s=0;s<this.length;s++)if(t!==!1&&H.cleanUpContent(this[s],!1,!0),P){var n=this[s];MSApp.execUnsafeLocalFunction(i)}else this[s].innerHTML=e;return this},text:function(e){if(0===this.length)return this;if(e===S)return this[0].textContent;for(var t=0;t<this.length;t++)this[t].textContent=e;return this},css:function(i,s,n){var r=n!=S?n:this[0];if(0===this.length)return this;if(s==S&&"string"==typeof i)return r.style[i]?r.style[i]:e.getComputedStyle(r)[i];for(var o=0;o<this.length;o++)if(H.isObject(i))for(var l in i)this[o].style[l]=t(l,i[l]);else this[o].style[i]=t(i,s);return this},vendorCss:function(e,t,i){return this.css(H.feat.cssPrefix+e,t,i)},cssTranslate:function(e){return this.vendorCss("Transform","translate"+H.feat.cssTransformStart+e+H.feat.cssTransformEnd)},computedStyle:function(t){return 0!==this.length&&t!=S?e.getComputedStyle(this[0],"")[t]:void 0},empty:function(){for(var e=0;e<this.length;e++)H.cleanUpContent(this[e],!1,!0),this[e].textContent="";return this},hide:function(){if(0===this.length)return this;for(var e=0;e<this.length;e++)"none"!==this.css("display",null,this[e])&&(this[e].setAttribute("afmOldStyle",this.css("display",null,this[e])),this[e].style.display="none");return this},show:function(){if(0===this.length)return this;for(var e=0;e<this.length;e++)"none"===this.css("display",null,this[e])&&(this[e].style.display=this[e].getAttribute("afmOldStyle")?this[e].getAttribute("afmOldStyle"):"block",this[e].removeAttribute("afmOldStyle"));return this},toggle:function(e){if(0===this.length)return this;for(var t=e===!0,i=0;i<this.length;i++)"none"===this.css("display",null,this[i])||e!=S&&t!==!1?"none"!==this.css("display",null,this[i])||e!=S&&t!==!0||(this[i].style.display=this[i].getAttribute("afmOldStyle")?this[i].getAttribute("afmOldStyle"):"block",this[i].removeAttribute("afmOldStyle")):(this[i].setAttribute("afmOldStyle",this.css("display",null,this[i])),this[i].style.display="none");return this},val:function(e){if(0===this.length)return e===S?void 0:this;if(e==S)return this[0].value;for(var t=0;t<this.length;t++)this[t].value=e;return this},attr:function(e,t){if(0===this.length)return t===S?void 0:this;if(t===S&&!H.isObject(e)){var i=this[0].afmCacheId&&M[this[0].afmCacheId]&&M[this[0].afmCacheId][e]?M[this[0].afmCacheId][e]:this[0].getAttribute(e);return i}for(var s=0;s<this.length;s++)if(H.isObject(e))for(var n in e)H(this[s]).attr(n,e[n]);else H.isArray(t)||H.isObject(t)||H.isFunction(t)?(this[s].afmCacheId||(this[s].afmCacheId=H.uuid()),M[this[s].afmCacheId]||(M[this[s].afmCacheId]={}),M[this[s].afmCacheId][e]=t):null===t?(this[s].removeAttribute(e),this[s].afmCacheId&&M[this[s].afmCacheId][e]&&delete M[this[s].afmCacheId][e]):(this[s].setAttribute(e,t),this[s].afmCacheId&&M[this[s].afmCacheId][e]&&delete M[this[s].afmCacheId][e]);return this},removeAttr:function(e){for(var t=function(t){i[s].removeAttribute(t),i[s].afmCacheId&&M[i[s].afmCacheId]&&delete M[i[s].afmCacheId][e]},i=this,s=0;s<this.length;s++)e.split(/\s+/g).forEach(t);return this},prop:function(e,t){if(0===this.length)return t===S?void 0:this;if(t===S&&!H.isObject(e)){var i,s=this[0].afmCacheId&&D[this[0].afmCacheId]&&D[this[0].afmCacheId][e]?D[this[0].afmCacheId][e]:!(i=this[0][e])&&e in this[0]?this[0][e]:i;return s}for(var n=0;n<this.length;n++)if(H.isObject(e))for(var r in e)H(this[n]).prop(r,e[r]);else H.isArray(t)||H.isObject(t)||H.isFunction(t)?(this[n].afmCacheId||(this[n].afmCacheId=H.uuid()),D[this[n].afmCacheId]||(D[this[n].afmCacheId]={}),D[this[n].afmCacheId][e]=t):null===t&&void 0!==t?H(this[n]).removeProp(e):(H(this[n]).removeProp(e),this[n][e]=t);return this},removeProp:function(e){for(var t=function(t){i[s][t]&&(i[s][t]=void 0),i[s].afmCacheId&&D[i[s].afmCacheId]&&delete D[i[s].afmCacheId][e]},i=this,s=0;s<this.length;s++)e.split(/\s+/g).forEach(t);return this},remove:function(e){var t=H(this).filter(e);if(t==S)return this;for(var i=0;i<t.length;i++)H.cleanUpContent(t[i],!0,!0),t[i]&&t[i].parentNode&&t[i].parentNode.removeChild(t[i]);return this},addClass:function(e){var t=function(e){r.hasClass(e,r[i])||n.push(e)};if(e==S)return this;for(var i=0;i<this.length;i++){var s=this[i].className,n=[],r=this;e.split(/\s+/g).forEach(t),this[i].className+=(s?" ":"")+n.join(" "),this[i].className=this[i].className.trim()}return this},removeClass:function(e){if(e==S)return this;for(var t=function(e){n=n.replace(s(e)," ")},i=0;i<this.length;i++){if(e==S)return this[i].className="",this;var n=this[i].className;"object"==typeof this[i].className&&(n=" "),e.split(/\s+/g).forEach(t),this[i].className=n.length>0?n.trim():""}return this},toggleClass:function(e,t){if(e==S)return this;for(var i=0;i<this.length;i++)"boolean"!=typeof t&&(t=this.hasClass(e,this[i])),H(this[i])[t?"removeClass":"addClass"](e);return this},replaceClass:function(e,t){if(e==S||t==S)return this;for(var i=function(e){r=r.replace(s(e)," ")},n=0;n<this.length;n++)if(e!=S){var r=this[n].className;e.split(/\s+/g).concat(t.split(/\s+/g)).forEach(i),r=r.trim(),this[n].className=r.length>0?(r+" "+t).trim():t}else this[n].className=t;return this},hasClass:function(e,t){return 0===this.length?!1:(t||(t=this[0]),s(e).test(t.className))},append:function(t,s,n){if(t&&t.length!=S&&0===t.length)return this;(H.isArray(t)||H.isObject(t))&&(t=H(t));var r,o;for(s&&H(this).add(s),r=0;r<this.length;r++)if(t.length&&"string"!=typeof t)t=H(t),i(t,this[r],n);else{var l=k.test(t)?H(t):void 0;if((l==S||0===l.length)&&(l=C.createTextNode(t)),l instanceof L)for(var a=0,h=l.length;h>a;a++)o=l[a],o.nodeName==S||"script"!==o.nodeName.toLowerCase()||o.type&&"text/javascript"!==o.type.toLowerCase()?i(H(o),this[r],n):e.eval(o.innerHTML);else n!=S?this[r].insertBefore(l,this[r].firstChild):this[r].appendChild(l)}return this},appendTo:function(e){var t=H(e);return t.append(this),this},prependTo:function(e){var t=H(e);return t.append(this,null,!0),this},prepend:function(e){return this.append(e,null,1)},insertBefore:function(e,t){if(0===this.length)return this;if(e=H(e).get(0),!e)return this;for(var i=0;i<this.length;i++)t?e.parentNode.insertBefore(this[i],e.nextSibling):e.parentNode.insertBefore(this[i],e);return this},insertAfter:function(e){this.insertBefore(e,!0)},get:function(e){if(e=e==S?null:e,0>e&&(e+=this.length),null===e){for(var t=[],i=0;i<this.length;i++)t.push(this[i]);return t}return this[e]?this[e]:void 0},offset:function(){var t;return 0===this.length?this:this[0]===e?{left:0,top:0,right:0,bottom:0,width:e.innerWidth,height:e.innerHeight}:(t=this[0].getBoundingClientRect(),{left:t.left+e.pageXOffset,top:t.top+e.pageYOffset,right:t.right+e.pageXOffset,bottom:t.bottom+e.pageYOffset,width:t.right-t.left,height:t.bottom-t.top})},height:function(t){if(0===this.length)return this;if(t!=S)return this.css("height",t);if(this[0]===this[0].window)return e.innerHeight;if(this[0].nodeType===this[0].DOCUMENT_NODE)return this[0].documentElement.offsetHeight;var i=this.computedStyle("height").replace("px","");return i?+i:this.offset().height},width:function(t){if(0===this.length)return this;if(t!=S)return this.css("width",t);if(this[0]===this[0].window)return e.innerWidth;if(this[0].nodeType===this[0].DOCUMENT_NODE)return this[0].documentElement.offsetWidth;var i=this.computedStyle("width").replace("px","");return i?+i:this.offset().width},parent:function(e,t){if(0===this.length)return this;for(var i=[],s=0;s<this.length;s++)for(var r=this[s];r.parentNode&&r.parentNode!==C&&(i.push(r.parentNode),r.parentNode&&(r=r.parentNode),t););return this.setupOld(H(n(i)).filter(e))},parents:function(e){return this.parent(e,!0)},children:function(e){if(0===this.length)return this;for(var t=[],i=0;i<this.length;i++)t=t.concat(r(this[i].firstChild));return this.setupOld(H(t).filter(e))},siblings:function(e){if(0===this.length)return this;for(var t=[],i=0;i<this.length;i++)this[i].parentNode&&(t=t.concat(r(this[i].parentNode.firstChild,this[i])));return this.setupOld(H(t).filter(e))},contents:function(e){if(0===this.length)return this;for(var t=[],i=0;i<this.length;i++)this[i].parentNode&&a(this[i].childNodes,t);return this.setupOld(H(t).filter(e))},closest:function(e,t){if(0===this.length)return this;var i=this[0],s=H(e,t);if(0===s.length)return H();for(;i&&-1===s.indexOf(i);)i=i!==t&&i!==C&&i.parentNode;return H(i)},filter:function(e){if(0===this.length)return this;if(e==S)return this;for(var t=[],i=0;i<this.length;i++){var s=this[i];s.parentNode&&H(e,s.parentNode).indexOf(s)>=0&&t.push(s)}return this.setupOld(H(n(t)))},not:function(e){if(0===this.length)return this;for(var t=[],i=0;i<this.length;i++){var s=this[i];s.parentNode&&-1===H(e,s.parentNode).indexOf(s)&&t.push(s)}return this.setupOld(H(n(t)))},data:function(e,t){return this.attr("data-"+e,t)},end:function(){return this.oldElement!=S?this.oldElement:H()},clone:function(e){if(e=e===!1?!1:!0,0===this.length)return this;for(var t=[],i=0;i<this.length;i++)t.push(this[i].cloneNode(e));return H(t)},size:function(){return this.length},serialize:function(){if(0===this.length)return"";for(var e=function(e){var i=e.getAttribute("type");if("fieldset"!==e.nodeName.toLowerCase()&&!e.disabled&&"submit"!==i&&"reset"!==i&&"button"!==i&&("radio"!==i&&"checkbox"!==i||e.checked)&&e.getAttribute("name"))if("select-multiple"===e.type)for(var s=0;s<e.options.length;s++)e.options[s].selected&&t.push(e.getAttribute("name")+"="+encodeURIComponent(e.options[s].value));else t.push(e.getAttribute("name")+"="+encodeURIComponent(e.value))},t=[],i=0;i<this.length;i++)this.slice.call(this[i].elements).forEach(e);return t.join("&")},eq:function(e){return H(this.get(e))},index:function(e){return e?this.indexOf(H(e)[0]):this.parent().children().indexOf(this[0])},is:function(e){return!!e&&this.filter(e).length>0},add:function(e){var t,i=H(e),s=i.length;for(t=0;s>t;t++)this[this.length++]=i[t];return this}},H.ajaxSettings={type:"GET",beforeSend:h,success:h,error:h,complete:h,context:void 0,timeout:0,crossDomain:null,processData:!0},H.jsonP=function(t){if(P)return t.type="get",t.dataType=null,H.get(t);var i,s,n="jsonp_callback"+ ++E,r="",o=C.createElement("script");if(e[n]=function(s){clearTimeout(r),H(o).remove(),delete e[n],t.success.call(i,s)},-1!==t.url.indexOf("callback=?"))o.src=t.url.replace(/=\?/,"="+n);else{if(s=t.jsonp?t.jsonp:"callback",-1===t.url.indexOf("?"))t.url+="?"+s+"="+n;else if(-1!==t.url.indexOf("callback=")){var l="callback=",a=t.url.indexOf(l)+l.length,h=t.url.indexOf(a);-1===h&&(h=t.url.length);var c=t.url.substr(a,h);t.url=t.url.replace(l+c,l+n),c=c.replace("window.",""),t.success=e[c]}else t.url+="&"+s+"="+n;o.src=t.url}return t.error&&(o.onerror=function(){clearTimeout(r),t.error.call(i,"","error")}),H("head").append(o),t.timeout>0&&(r=setTimeout(function(){t.error.call(i,"","timeout")},t.timeout)),{}},H.ajax=function(t){var i,s=H.Deferred();if("string"==typeof t){var n=t;t={url:n}}var r=t||{};for(var o in H.ajaxSettings)"undefined"==typeof r[o]&&(r[o]=H.ajaxSettings[o]);try{if(r.url||(r.url=e.location),r.headers||(r.headers={}),"async"in r&&r.async===!1||(r.async=!0),r.processData&&H.isObject(r.data)&&(r.data=H.param(r.data)),"get"===r.type.toLowerCase()&&r.data&&(r.url+=-1===r.url.indexOf("?")?"?"+r.data:"&"+r.data),r.data&&(r.contentType||r.contentType===!1||(r.contentType="application/x-www-form-urlencoded; charset=UTF-8")),r.dataType)switch(r.dataType){case"script":r.dataType="text/javascript, application/javascript";break;case"json":r.dataType="application/json";break;case"xml":r.dataType="application/xml, text/xml";break;case"html":r.dataType="text/html";break;case"text":r.dataType="text/plain";break;case"jsonp":return H.jsonP(t);default:r.dataType="text/html"}else r.dataType="text/html";if(/=\?/.test(r.url))return H.jsonP(r);null===r.crossDomain&&(r.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(r.url)&&RegExp.$2!==e.location.host),r.crossDomain||(r.headers=H.extend({"X-Requested-With":"XMLHttpRequest"},r.headers));var l,a=r.context,c=/^([\w-]+:)\/\//.test(r.url)?RegExp.$1:e.location.protocol;i=new e.XMLHttpRequest,H.extend(i,s.promise),i.onreadystatechange=function(){var t=r.dataType;if(4===i.readyState){clearTimeout(l);var n,o=!1,h=i.getResponseHeader("content-type")||"";if(i.status>=200&&i.status<300||0===i.status&&"file:"===c){if("application/json"===h||"application/json"===t&&!/^\s*$/.test(i.responseText))try{n=JSON.parse(i.responseText)}catch(d){o=d}else if(-1!==h.indexOf("javascript"))try{n=i.responseText,e.eval(n)}catch(d){console.log(d)}else"application/xml, text/xml"===t?n=i.responseXML:"text/html"===t?(n=i.responseText,H.parseJS(n)):n=i.responseText;0===i.status&&0===n.length&&(o=!0),o?(r.error.call(a,i,"parsererror",o),s.reject.call(a,i,"parsererror",o)):(s.resolve.call(a,n,"success",i),r.success.call(a,n,"success",i))}else o=!0,s.reject.call(a,i,"error"),r.error.call(a,i,"error");var u=o?"error":"success";r.complete.call(a,i,u)}},i.open(r.type,r.url,r.async),r.withCredentials&&(i.withCredentials=!0),r.contentType&&(r.headers["Content-Type"]=r.contentType);for(var d in r.headers)"string"==typeof r.headers[d]&&i.setRequestHeader(d,r.headers[d]);if(r.beforeSend.call(a,i,r)===!1)return i.abort(),!1;r.timeout>0&&(l=setTimeout(function(){i.onreadystatechange=h,i.abort(),r.error.call(a,i,"timeout")},r.timeout)),i.send(r.data)}catch(u){s.resolve(a,i,"error",u),r.error.call(a,i,"error",u)}return i},H.get=function(e,t){return this.ajax({url:e,success:t})},H.post=function(e,t,i,s){return"function"==typeof t&&(i=t,t={}),s===S&&(s="html"),this.ajax({url:e,type:"POST",data:t,dataType:s,success:i})},H.getJSON=function(e,t,i){return"function"==typeof t&&(i=t,t={}),this.ajax({url:e,data:t,success:i,dataType:"json"})},H.getScript=function(e,t){var i=/^([\w-]+:)?\/\/([^\/]+)/.test(e);if(i){var s=H.Deferred(),n=H.create("script",{async:!0,src:e}).get(0);return n.onload=function(){t&&t(),s.resolve.call(this,"success"),H(this).remove()},n.onerror=function(){H(this).remove(),s.reject.call(this,"success")},C.head.appendChild(n),s.promise}return this.ajax({url:e,success:t,dataType:"script"})},H.param=function(e,t){var i=[];if(e instanceof L)e.each(function(){var e=t?t+"["+this.id+"]":this.id,s=this.value;i.push(e+"="+encodeURIComponent(s))});else for(var s in e)if(!H.isFunction(e[s])){var n=t?t+"["+s+"]":s,r=e[s];i.push(H.isObject(r)?H.param(r,n):n+"="+encodeURIComponent(r))}return i.join("&")},H.parseJSON=function(e){return JSON.parse(e)},H.parseXML=function(e){return P?(MSApp.execUnsafeLocalFunction(function(){return(new DOMParser).parseFromString(e,"text/xml")}),void 0):(new DOMParser).parseFromString(e,"text/xml")},c(H,navigator.userAgent),H.__detectUA=c,H.uuid=function(){var e=function(){return(0|65536*(1+Math.random())).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},H.getCssMatrix=function(t){H.is$(t)&&(t=t.get(0));var i=e.WebKitCSSMatrix||e.MSCSSMatrix;if(t===S)return i?new i:{a:0,b:0,c:0,d:0,e:0,f:0};var s=e.getComputedStyle(t),n=s.webkitTransform||s.transform||s[H.feat.cssPrefix+"Transform"];if(i)return new i(n);if(n){var r=n.replace(/[^0-9\-.,]/g,"").split(",");return{a:+r[0],b:+r[1],c:+r[2],d:+r[3],e:+r[4],f:+r[5]}}return{a:0,b:0,c:0,d:0,e:0,f:0}},H.create=function(e,t){var i,s=new L;if(t||"<"!==e[0]){t.html&&(t.innerHTML=t.html,delete t.html),i=C.createElement(e);for(var n in t)i[n]=t[n];s[s.length++]=i}else i=C.createElement("div"),P?MSApp.execUnsafeLocalFunction(function(){i.innerHTML=e.trim()}):i.innerHTML=e,a(i.childNodes,s);return s},H.query=function(e,t){if(!e)return new L;t=t||C;var i=new L;return i.selector(e,t)};var F=[],_=1;H.event={add:g,remove:v},H.fn.bind=function(e,t){for(var i=0,s=this.length;s>i;i++)g(this[i],e,t);return this},H.fn.unbind=function(e,t){for(var i=0,s=this.length;s>i;i++)v(this[i],e,t);return this},H.fn.one=function(e,t){return this.each(function(i,s){g(this,e,t,null,function(e,t){return function(){v(s,t,e);var i=e.apply(s,arguments);return i}})})};var O=function(){return!0},Y=function(){return!1},R={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};H.fn.delegate=function(e,t,i,s){H.isFunction(i)&&(s=i,i=null);for(var n=0,r=this.length;r>n;n++)b(this[n],t,s,e,i);return this},H.fn.undelegate=function(e,t,i){for(var s=0,n=this.length;n>s;s++)v(this[s],t,i,e);return this},H.fn.on=function(e,t,i,s){return H.isFunction(i)&&(s=i,i=null),t===S||H.isFunction(t)?this.bind(e,t):this.delegate(t,e,i,s)},H.fn.off=function(e,t,i){return t===S||H.isFunction(t)?this.unbind(e,t):this.undelegate(t,e,i)},H.fn.trigger=function(e,t,i){"string"==typeof e&&(i=i||{},e=f(e),i.ns=e.ns,e=H.Event(e.e,i)),e.data=t;for(var s=0,n=this.length;n>s;s++)this[s].dispatchEvent(e);return this},H.Event=function(e,t){var i=C.createEvent("Events"),s=!0;if(t)for(var n in t)"bubbles"===n?s=!!t[n]:i[n]=t[n];return i.initEvent(e,s,!0,null,null,null,null,null,null,null,null,null,null,null,null),i},H.bind=function(e,t,i){if(e){e.__events||(e.__events={}),H.isArray(t)||(t=[t]);for(var s=0;s<t.length;s++)e.__events[t[s]]||(e.__events[t[s]]=[]),e.__events[t[s]].push(i)}},H.trigger=function(e,t,i){if(e){var s=!0;if(!e.__events)return s;H.isArray(t)||(t=[t]),H.isArray(i)||(i=[]);for(var n=0;n<t.length;n++)if(e.__events[t[n]])for(var r=e.__events[t[n]].slice(0),o=0;o<r.length;o++)H.isFunction(r[o])&&r[o].apply(e,i)===!1&&(s=!1);return s}},H.unbind=function(e,t,i){if(e.__events){H.isArray(t)||(t=[t]);for(var s=0;s<t.length;s++)if(e.__events[t[s]])for(var n=e.__events[t[s]],r=0;r<n.length;r++)if(i==S&&delete n[r],n[r]===i){n.splice(r,1);break}}},H.proxy=function(e,t,i){return function(){return i?e.apply(t,i):e.apply(t,arguments)}};var X=function(e,t){for(var i=0;i<e.length;i++)T(e[i],t)};H.cleanUpContent=function(e,t,i){if(e){var s=e.childNodes;s&&s.length>0&&H.asap(X,{},[B.apply(s,[0]),i]),t&&x(e,i)}};var q=[],N=[],j=[];H.asap=function(t,i,s){if(!H.isFunction(t))throw"$.asap - argument is not a valid function";q.push(t),N.push(i?i:{}),j.push(s?s:[]),e.postMessage("afm-asap","*")},e.addEventListener("message",function(t){t.source===e&&"afm-asap"===t.data&&(t.stopPropagation(),q.length>0&&q.shift().apply(N.shift(),j.shift()))},!0);var z={};return H.parseJS=function(t){if(t){if("string"==typeof t){var i=C.createElement("div");P?MSApp.execUnsafeLocalFunction(function(){i.innerHTML=t}):i.innerHTML=t,t=i}var s=t.getElementsByTagName("script");t=null;for(var n=0;n<s.length;n++)if(s[n].src.length>0&&!z[s[n].src]&&!P){var r=C.createElement("script");r.type=s[n].type,r.src=s[n].src,C.getElementsByTagName("head")[0].appendChild(r),z[s[n].src]=1,r=null}else e.eval(s[n].innerHTML)}},["click","keydown","keyup","keypress","submit","load","resize","change","select","error"].forEach(function(e){H.fn[e]=function(t){return t?this.bind(e,t):this.trigger(e)}}),["focus","blur"].forEach(function(e){H.fn[e]=function(t){if(0!==this.length){if(t)this.bind(e,t);else for(var i=0;i<this.length;i++)try{this[i][e]()}catch(s){}return this}}}),H.Deferred=function(){return{reject:function(){},resolve:function(){},promise:{then:function(){},fail:function(){}}}},H}(window);window.jq=af,"$"in window||(window.$=af),"function"==typeof define&&define.amd?define("appframework",[],function(){"use strict";return af}):"undefined"!=typeof module&&module.exports&&(module.exports.af=af,module.exports.$=af),window.numOnly||(window.numOnly=function(e){"use strict";if(void 0===e||""===e)return 0;if(isNaN(parseFloat(e))){if(!e.replace)return 0;e=e.replace(/[^0-9.-]/g,"")}return parseFloat(e)})}!function(e,t){e.ayepromise=t()}(this,function(){"use strict";var e={},t=function(){var e=!1;return function(t){return function(){e||(e=!0,t.apply(null,arguments))}}},i=function(e){var t=e&&e.then;return null!==e&&"object"==typeof e&&"function"==typeof t?function(){return t.apply(e,arguments)}:void 0},s=function(t,i){var s=e.defer(),n=function(e,t){setTimeout(function(){var i;try{i=e(t)}catch(n){return s.reject(n),void 0}i===s.promise?s.reject(new TypeError("Cannot resolve promise with itself")):s.resolve(i)},1)};return{promise:s.promise,callFulfilled:function(e){t&&t.call?n(t,e):s.resolve(e)},callRejected:function(e){i&&i.call?n(i,e):s.reject(e)}}},n=0,r=1,o=2;return e.defer=function(){var e,l=n,a=[],h=function(t){l=r,e=t,a.forEach(function(t){t.callFulfilled(e)})},c=function(t){l=o,e=t,a.forEach(function(t){t.callRejected(e)})},d=function(t){l===r?t.callFulfilled(e):l===o&&t.callRejected(e)},u=function(e,t){var i=s(e,t);return a.push(i),d(i),i.promise},f=function(e){var i=t();try{e(i(p),i(c))}catch(s){i(c)(s)}},p=function(e){var t;try{t=i(e)}catch(s){return c(s),void 0}t?f(t):h(e)},m=t();return{resolve:m(p),reject:m(c),promise:{then:u,fail:function(e){return u(null,e)}}}},e}),function(e){e.Deferred=ayepromise.defer}(af),function(e){"use strict";e.fn.actionsheet=function(e){for(var i,s=0;s<this.length;s++)i=new t(this[s],e);return 1===this.length?i:this};var t=function(){var t=function(i,s){if(this.el="string"==typeof i||i instanceof String?document.getElementById(i):i,!this.el)return window.alert("Could not find element for actionsheet "+i),void 0;if(!(this instanceof t))return new t(i,s);if("object"==typeof s)for(var n in s)this[n]=s[n];var r,o=this,l="<div id='af_actionsheet'><div style='width:100%'>",a="</div></div>",h=function(){};if("string"==typeof s)r=e(l+s+"<a href='javascript:;' class='cancel'>Cancel</a>"+a);else if("object"==typeof s){r=e(l+a);var c=e(r.children().get(0));s.push({text:"Cancel",cssClasses:"cancel"});for(var d=0;d<s.length;d++){var u=e("<a href='javascript:;'>"+(s[d].text||"TEXT NOT ENTERED")+"</a>");u[0].onclick=s[d].handler||h,s[d].cssClasses&&s[d].cssClasses.length>0&&u.addClass(s[d].cssClasses),c.append(u)}}e(i).find("#af_actionsheet").remove(),e(i).find("#af_action_mask").remove(),e(i).append(r),r.vendorCss("Transition","all 0ms"),r.cssTranslate("0,0"),r.css("top",window.innerHeight+"px"),this.el.style.overflow="hidden",r.on("click","a",function(){return o.hideSheet(),!1}),this.activeSheet=r,e(i).append("<div id='af_action_mask' style='position:absolute;top:0px;left:0px;right:0px;bottom:0px;z-index:9998;background:rgba(0,0,0,.4)'/>"),setTimeout(function(){r.vendorCss("Transition","all 300ms"),r.cssTranslate("0,"+-r.height()+"px")},10),e("#af_action_mask").bind("touchstart touchmove touchend click",function(e){e.preventDefault(),e.stopPropagation()})};return t.prototype={activeSheet:null,hideSheet:function(){var t=this;this.activeSheet.off("click","a",function(){t.hideSheet()}),e(this.el).find("#af_action_mask").unbind("click").remove(),this.activeSheet.vendorCss("Transition","all 0ms");var i=this.activeSheet,s=this.el;setTimeout(function(){i.vendorCss("Transition","all 300ms"),i.cssTranslate("0,0px"),setTimeout(function(){i.remove(),i=null,s.style.overflow="none"},500)},10)}},t}()}(af),function(e){"use strict";var t=[],i=function(t){return t.afCSS3AnimateId||(t.afCSS3AnimateId=e.uuid()),t.afCSS3AnimateId},s=function(t){return"string"==typeof t||t instanceof String?document.getElementById(t):e.is$(t)?t[0]:t},n=function(e,n){var r,o,l=s(e);return o=i(l),t[o]?(t[o].animate(n),r=t[o]):(r=a(l,n),t[o]=r),r};e.fn.css3Animate=function(e){!e.complete&&e.callback&&(e.complete=e.callback);var t=n(this[0],e);e.complete=null,e.sucess=null,e.failure=null;for(var i=1;i<this.length;i++)t.link(this[i],e);return t},e.css3AnimateQueue=function(){return new a.queue};var r=e.feat.cssTransformStart,o=e.feat.cssTransformEnd,l=e.feat.cssPrefix.replace(/-/g,"")+"TransitionEnd";l=e.os.fennec||""===e.feat.cssPrefix||e.os.ie?"transitionend":l,l=l.replace(l.charAt(0),l.charAt(0).toLowerCase());var a=function(){var i=function(s,n){if(!(this instanceof i))return new i(s,n);if(this.callbacksStack=[],this.activeEvent=null,this.countStack=0,this.isActive=!1,this.el=s,this.linkFinishedProxy=e.proxy(this.linkFinished,this),this.el){this.animate(n);var r=this;af(this.el).bind("destroy",function(){var e=r.el.afCSS3AnimateId;r.callbacksStack=[],t[e]&&delete t[e]})}};return i.prototype={animate:function(t){if(this.isActive&&this.cancel(),this.isActive=!0,!t)return window.alert("Please provide configuration options for animation of "+this.el.id),void 0;var i,s,n=!!t.addClass,a=numOnly(t.time);if(n)t.removeClass?af(this.el).replaceClass(t.removeClass,t.addClass):af(this.el).addClass(t.addClass);else{if(0===a&&(t.time=0),t.y||(t.y=0),t.x||(t.x=0),t.previous){var h=new e.getCssMatrix(this.el);t.y+=numOnly(h.f),t.x+=numOnly(h.e)}t.origin||(t.origin="0% 0%"),t.scale||(t.scale="1"),t.rotateY||(t.rotateY="0"),t.rotateX||(t.rotateX="0"),t.skewY||(t.skewY="0"),t.skewX||(t.skewX="0"),t.timingFunction||(t.timingFunction="linear"),("number"==typeof t.x||-1===t.x.indexOf("%")&&-1===t.x.toLowerCase().indexOf("px")&&-1===t.x.toLowerCase().indexOf("deg"))&&(t.x=parseInt(t.x,10)+"px"),("number"==typeof t.y||-1===t.y.indexOf("%")&&-1===t.y.toLowerCase().indexOf("px")&&-1===t.y.toLowerCase().indexOf("deg"))&&(t.y=parseInt(t.y,10)+"px");
var c="translate"+r+t.x+","+t.y+o+" scale("+parseFloat(t.scale)+") rotate("+t.rotateX+")";e.os.opera||(c+=" rotateY("+t.rotateY+")"),c+=" skew("+t.skewX+","+t.skewY+")",this.el.style[e.feat.cssPrefix+"Transform"]=c,this.el.style[e.feat.cssPrefix+"BackfaceVisibility"]="hidden";var d=e.feat.cssPrefix+"Transform";void 0!==t.opacity&&(this.el.style.opacity=t.opacity,d+=", opacity"),t.width&&(this.el.style.width=t.width,d="all"),t.height&&(this.el.style.height=t.height,d="all"),this.el.style[e.feat.cssPrefix+"TransitionProperty"]="all",-1===(""+t.time).indexOf("s")?(i="ms",s=t.time+i):-1!==t.time.indexOf("ms")?(i="ms",s=t.time):(i="s",s=t.time+i),t.delay&&(this.el.style[e.feat.cssPrefix+"TransitionDelay"]=t.delay),this.el.style[e.feat.cssPrefix+"TransitionDuration"]=s,this.el.style[e.feat.cssPrefix+"TransitionTimingFunction"]=t.timingFunction,this.el.style[e.feat.cssPrefix+"TransformOrigin"]=t.origin}this.callbacksStack.push({complete:t.complete,success:t.success,failure:t.failure}),this.countStack++;var u,f=this,p=window.getComputedStyle(this.el);n&&(u=p[e.feat.cssPrefix+"TransitionDuration"],a=numOnly(u),t.time=a,-1!==u.indexOf("ms")?i="ms":(i="s",t.time*=1e3)),0===a||"ms"===i&&5>a||"none"===p.display?e.asap(e.proxy(this.finishAnimation,this,[!1])):(this.activeEvent=function(e){clearTimeout(f.timeout),f.finishAnimation(e),f.el.removeEventListener(l,f.activeEvent,!1)},f.timeout=setTimeout(this.activeEvent,numOnly(t.time)+50),this.el.addEventListener(l,this.activeEvent,!1))},addCallbackHook:function(e){return e&&this.callbacksStack.push(e),this.countStack++,this.linkFinishedProxy},linkFinished:function(e){e?this.cancel():this.finishAnimation()},finishAnimation:function(e){e&&e.preventDefault&&e.preventDefault(),this.isActive&&(this.countStack--,0===this.countStack&&this.fireCallbacks(!1))},fireCallbacks:function(e){this.clearEvents();var t=this.callbacksStack;this.cleanup();for(var i=0;i<t.length;i++){var s=t[i].complete,n=t[i].success,r=t[i].failure;"function"==typeof s&&s(e),e&&"function"==typeof r?r():"function"==typeof n&&n()}},cancel:function(){this.isActive&&this.fireCallbacks(!0)},cleanup:function(){this.callbacksStack=[],this.isActive=!1,this.countStack=0},clearEvents:function(){this.activeEvent&&this.el.removeEventListener(l,this.activeEvent,!1),this.activeEvent=null},link:function(e,t){var i={complete:t.complete,success:t.success,failure:t.failure};return t.complete=this.addCallbackHook(i),t.success=null,t.failure=null,n(e,t),t.complete=i.complete,t.success=i.success,t.failure=i.failure,this}},i}();a.queue=function(){return{elements:[],push:function(e){this.elements.push(e)},pop:function(){return this.elements.pop()},run:function(){var e=this;if(0!==this.elements.length){if("function"==typeof this.elements[0]){var t=this.shift();t()}if(0!==this.elements.length){var i=this.shift();this.elements.length>0&&(i.complete=function(t){t||e.run()}),a(document.getElementById(i.id),i)}}},shift:function(){return this.elements.shift()}}}}(af),Date.now||(Date.now=function(){"use strict";return(new Date).getTime()}),function(){"use strict";for(var e=["webkit","moz","ms"],t=0;t<e.length&&!window.requestAnimationFrame;++t){var i=e[t];window.requestAnimationFrame=window[i+"RequestAnimationFrame"],window.cancelAnimationFrame=window[i+"CancelAnimationFrame"]||window[i+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var s=0;window.requestAnimationFrame=function(e){var t=Date.now(),i=Math.max(s+16,t);return setTimeout(function(){e(s=i)},i-t)},window.cancelAnimationFrame=clearTimeout}}(),function(e){"use strict";var t=[],i=function(t){return t.afAnimateId||(t.afAnimateId=e.uuid()),t.afAnimateId},s=function(t){return"string"==typeof t||t instanceof String?document.getElementById(t):e.is$(t)?t[0]:t},n=function(e,n){var o,l,a=s(e);return l=i(a),t[l]?(n&&t[l].animate(n),o=t[l]):(o=r(a,n),t[l]=o),o};e.fn.animateCss=function(e){var t=n(this[0],e);return t};var r=function(e,i){if(!(this instanceof r))return new r(e,i);if(this.el=e,this.el){i&&this.animate(i);var s=this;af(this.el).bind("destroy",function(){var e=s.el.afAnimateId;t[e]&&delete t[e]})}};r.prototype={animationTimer:null,isAnimating:!1,startX:0,startY:0,runTime:0,endX:0,endY:0,currX:0,currY:0,animationStartTime:0,pauseTime:0,completeCB:null,easingFn:"linear",animateOpts:{},updateCb:null,animate:function(t){var i=this;i.isAnimating||(i.isAnimating=!0,window.cancelAnimationFrame(i.animationTimer),t||(t={x:0,y:0,duration:0}),this.easingFn=t.easing||"linear",this.completeCB=t.complete||null,this.updateCB=t.update||null,this.runTime=numOnly(t.duration),t.complete&&delete t.complete,this.animateOpts=t,this.startTime=Date.now(),this.startMatrix=e.getCssMatrix(this.el),0===this.runTime&&this.doAnimate())},start:function(){this.doAnimate()},doAnimate:function(){var e,t,i,s=Date.now(),n=this;return 0===this.runTime||s>=this.startTime+this.runTime?(n.setPosition(this.animateOpts.x,this.animateOpts.y),n.isAnimating=!1,this.updateCB&&this.updateCB({x:this.animateOpts.x,y:this.animateOpts.y}),this.completeCB&&this.completeCB(),void 0):(s=(s-this.startTime)/this.runTime,s=s>1?1:s,i=o[this.easingFn](s),e=(this.animateOpts.x-this.startMatrix.e)*i+this.startMatrix.e,t=(this.animateOpts.y-this.startMatrix.f)*i+this.startMatrix.f,this.setPosition(e,t),this.updateCB&&this.updateCB({x:e,y:t}),this.isAnimating&&(this.animationTimer=window.requestAnimationFrame(function(){n.doAnimate()})),void 0)},setPosition:function(t,i){this.el.style[e.feat.cssPrefix+"Transform"]="matrix3d( 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, "+t+", "+i+", 0, 1 )",this.currX=t,this.currY=i},stop:function(){this.isAnimating=!1,window.cancelAnimationFrame(this.animationTimer),this.pauseTime=Date.now()-this.startTime},resume:function(){this.isAnimating=!0,this.startTime=Date.now()-this.pauseTime,this.doAnimate()}};var o={linear:function(e){return e},easeOutSine:function(e){return Math.sin(e*Math.PI/2)}}}(af),function(e){"use strict";e.passwordBox=function(){return new t};var t=function(){this.oldPasswords={}};t.prototype={showPasswordPlainText:!1,getOldPasswords:function(t){var i=t&&document.getElementById(t)?document.getElementById(t):document;if(!i)return window.alert("Could not find container element for passwordBox "+t),void 0;for(var s=i.getElementsByTagName("input"),n=0;n<s.length;n++)"password"===s[n].type&&e.os.webkit&&(s[n].type="text",e(s[n]).vendorCss("TextSecurity","disc"))},changePasswordVisiblity:function(t,i){t=parseInt(t,10);var s=document.getElementById(i);1===t?e(s).vendorCss("TextSecurity","none"):e(s).vendorCss("TextSecurity","disc"),e.os.webkit||(s.type=1===t?"text":"password"),s=null}}}(af),function(e){"use strict";function t(e){return n[e].el?!0:(delete n[e],!1)}function i(){if(e.os.android&&!e.os.chrome&&e.os.webkit){var i=!1;e.bind(e.touchLayer,["cancel-enter-edit","exit-edit"],function(){if(i){i=!1;for(var e in n)t(e)&&n[e].androidFormsMode&&n[e].stopFormsMode()}})}o=!0}var s=325,n=[],r=function(t){return t.afScrollerId||(t.afScrollerId=e.uuid()),t.afScrollerId};e.fn.scroller=function(t){for(var i,s,o=0;o<this.length;o++)s=r(this[o]),n[s]?i=n[s]:(t||(t={}),e.feat.nativeTouchScroll||(t.useJsScroll=!0),i=l(this[o],t),n[s]=i);return 1===this.length?i:this};var o=!1,l=function(){function t(t,i){var s=document.createElement("div");return s.style.position="absolute",s.style.width=t+"px",s.style.height=i+"px",s.style[e.feat.cssPrefix+"BorderRadius"]="2px",s.style.borderRadius="2px",s.style.display="none",s.className="scrollBar",s.style.background="black",s}var r,l,a=function(t,s){var n;if(!o&&e.touchLayer&&e.isObject(e.touchLayer)?i():e.touchLayer&&e.isObject(e.touchLayer)||(e.touchLayer={}),n="string"==typeof t||t instanceof String?document.getElementById(t):t,!n)return window.alert("Could not find element for scroller "+t),void 0;var a=e(n);return s.hasParent&&(a=a.parent()),a.hasClass("x-scroll")&&(s.horizontalScroll=!0),a.hasClass("y-scroll")&&(s.verticalScroll=!0),e.os.desktop?new h(n,s):s.useJsScroll?new r(n,s):new l(n,s)},h=function(t,i){this.el=t,this.afEl=e(this.el);for(var s in i)this[s]=i[s]};return h.prototype={refresh:!1,refreshContent:"Pull to Refresh",refreshHangTimeout:2e3,refreshHeight:60,refreshElement:null,refreshCancelCB:null,refreshRunning:!1,scrollTop:0,scrollLeft:0,preventHideRefresh:!0,verticalScroll:!0,horizontalScroll:!1,refreshTriggered:!1,moved:!1,eventsActive:!1,rememberEventsActive:!1,scrollingLocked:!1,autoEnable:!0,blockFormsFix:!1,loggedPcentY:0,loggedPcentX:0,infinite:!1,infiniteEndCheck:!1,infiniteTriggered:!1,scrollSkip:!1,scrollTopInterval:null,scrollLeftInterval:null,bubbles:!0,lockBounce:!1,initScrollProgress:!1,_scrollTo:function(e,t){if(t=parseInt(t,10),0===t||isNaN(t))return this.el.scrollTop=Math.abs(e.y),this.el.scrollLeft=Math.abs(e.x),void 0;var i=10,s=(this.el.scrollTop-e.y)/Math.ceil(t/i),n=(this.el.scrollLeft-e.x)/Math.ceil(t/i),r=this,o=Math.ceil(this.el.scrollTop-e.y)/s,l=Math.ceil(this.el.scrollLeft-e.x)/s,a=0,h=0;r.scrollTopInterval=window.setInterval(function(){r.el.scrollTop-=s,h++,h>=o&&(r.el.scrollTop=e.y,clearInterval(r.scrollTopInterval))},i),r.scrollLeftInterval=window.setInterval(function(){r.el.scrollLeft-=n,a++,a>=l&&(r.el.scrollLeft=e.x,clearInterval(r.scrollLeftInterval))},i)},enable:function(){},disable:function(){},hideScrollbars:function(){},addPullToRefresh:function(){},_scrollToTop:function(e){this._scrollTo({x:0,y:0},e)},_scrollToBottom:function(e){this._scrollTo({x:0,y:this.el.scrollHeight-this.el.offsetHeight},e)},scrollToBottom:function(e){return this._scrollToBottom(e)},scrollToTop:function(e){return this._scrollToTop(e)},init:function(t,i){this.el=t,this.afEl=e(this.el),this.defaultProperties();for(var s in i)this[s]=i[s];var r=this,o=function(){!r.eventsActive||e.feat.nativeTouchScroll||e.ui&&e.ui.activeDiv!==r.container||r.adjustScroll()};this.afEl.bind("destroy",function(){r.disable(!0);var t=r.el.afScrollerId;n[t]&&delete n[t],e.unbind(e.touchLayer,"orientationchange-reshape",o)}),e.bind(e.touchLayer,"orientationchange-reshape",o),e(window).bind("resize",o)},needsFormsFix:function(t){return this.useJsScroll&&this.isEnabled()&&"none"!==this.el.style.display&&e(t).closest(this.afEl).size()>0},handleEvent:function(e){if(!this.scrollingLocked)switch(e.type){case"touchstart":clearInterval(this.scrollTopInterval),this.preventHideRefresh=!this.refreshRunning,this.moved=!1,this.onTouchStart(e),this.bubbles||e.stopPropagation();break;case"touchmove":this.onTouchMove(e),this.bubbles||e.stopPropagation();break;case"touchend":this.onTouchEnd(e),this.bubbles||e.stopPropagation();break;case"scroll":this.onScroll(e)}},coreAddPullToRefresh:function(t){t&&(this.refreshElement=t);var i;if(null===this.refreshElement){var s=document.getElementById(this.container.id+"_pulldown");i=null!==s?e(s):e("<div id='"+this.container.id+"_pulldown' class='afscroll_refresh' style='position:relative;height:60px;text-align:center;line-height:60px;font-weight:bold;'>"+this.refreshContent+"</div>")}else i=e(this.refreshElement);var n=i.get(0);this.refreshContainer=e("<div style='overflow:hidden;height:0;width:100%;display:none;background:inherit;-webkit-backface-visibility: hidden !important;'></div>"),e(this.el).prepend(this.refreshContainer.prepend(n)),this.refreshContainer=this.refreshContainer[0]},fireRefreshRelease:function(t){if(this.refresh&&t){this.setRefreshContent("Refreshing...");var i=e.trigger(this,"refresh-release",[t])!==!1;if(this.preventHideRefresh=!1,this.refreshRunning=!0,i){var s=this;this.refreshHangTimeout>0&&(this.refreshCancelCB=setTimeout(function(){s.hideRefresh()},this.refreshHangTimeout))}}},setRefreshContent:function(t){e(this.container).find(".afscroll_refresh").html(t)},lock:function(){this.scrollingLocked||(this.scrollingLocked=!0,this.rememberEventsActive=this.eventsActive,this.eventsActive&&this.disable())},unlock:function(){this.scrollingLocked&&(this.scrollingLocked=!1,this.rememberEventsActive&&this.enable())},scrollToItem:function(t,i){e.is$(t)||(t=e(t));var s,n,r,o;"bottom"===i?(n=t.offset(),s=n.top-this.afEl.offset().bottom+n.height,s+=4):(o=t.offset().top,s=o-document.body.scrollTop,r=this.afEl.offset().top,document.body.scrollTop<r&&(s-=r),s-=4),this.scrollBy({y:s,x:0},0)},setPaddings:function(t,i){var s=e(this.el),n=numOnly(s.css("paddingTop"));s.css("paddingTop",t+"px").css("paddingBottom",i+"px"),this.scrollBy({y:t-n,x:0})},divide:function(e,t){return 0!==t?e/t:0},isEnabled:function(){return this.eventsActive},addInfinite:function(){this.infinite=!0},clearInfinite:function(){this.infiniteTriggered=!1,this.scrollSkip=!0},scrollTo:function(e,t){return this._scrollTo(e,t)},updateP2rHackPosition:function(){}},r=function(i,s){if(this.init(i,s),s.hasParent)this.container=this.el.parentNode;else{var n=e.create("div",{});n.append(e(this.el).contents()),e(this.el).append(n),this.container=this.el,this.el=n.get(0)}this.container.afScrollerId=i.afScrollerId,this.afEl=e(this.container),"hidden"!==this.container.style.overflow&&(this.container.style.overflow="hidden"),this.addPullToRefresh(null,!0),s.autoEnable&&(this.autoEnable=s.autoEnable),this.autoEnable&&this.enable(!0);var r;this.verticalScroll&&this.verticalScroll===!0&&this.scrollBars===!0&&(r=t(5,20),r.style.top="0px",this.vScrollCSS&&(r.className=this.vScrollCSS),r.style.display="none",this.container.appendChild(r),this.vscrollBar=r,r=null),this.horizontalScroll&&this.horizontalScroll===!0&&this.scrollBars===!0&&(r=t(20,5),r.style.bottom="0px",this.hScrollCSS&&(r.className=this.hScrollCSS),r.style.display="none",this.container.appendChild(r),this.hscrollBar=r,r=null),this.horizontalScroll&&(this.el.style.cssFloat="left"),this.el.hasScroller=!0},l=function(t,i){i.nativeParent&&(t=t.parentNode),this.init(t,i);var s=e(t);if(i.replaceParent===!0){var n=s.parent();s.css("height",n.height()).css("width",n.width()),s.insertBefore(s.parent()),n.remove()}this.container=this.el,s.css("-webkit-overflow-scrolling","touch"),i.autoEnable&&(this.autoEnable=i.autoEnable),this.autoEnable&&this.enable()},l.prototype=new h,r.prototype=new h,l.prototype.defaultProperties=function(){this.refreshContainer=null,this.dY=this.cY=0,this.dX=this.cX=0,this.cancelPropagation=!1,this.loggedPcentY=0,this.loggedPcentX=0,this.xReset=0,this.yReset=0;var e=this;this.adjustScrollOverflowProxy=function(){e.afEl.css("overflow","auto"),e.afEl.parent().css("overflow","hidden")}},l.prototype.enable=function(e){this.eventsActive||(this.eventsActive=!0,this.el.style.overflow="auto",e||this.adjustScroll(),this.el.addEventListener("touchstart",this,!1),this.el.addEventListener("scroll",this,!1),this.updateP2rHackPosition())},l.prototype.disable=function(t){this.eventsActive&&(this.logPos(this.el.scrollLeft,this.el.scrollTop),t||e.ui||(this.el.style.overflow="hidden"),this.el.removeEventListener("touchstart",this,!1),this.el.removeEventListener("touchmove",this,!1),this.el.removeEventListener("touchend",this,!1),this.el.removeEventListener("scroll",this,!1),this.eventsActive=!1)},l.prototype.addPullToRefresh=function(e,t){t||(this.refresh=!0),this.refresh&&this.refresh===!0&&(this.coreAddPullToRefresh(e),this.refreshContainer.style.position="absolute",this.refreshContainer.style.top="-60px",this.refreshContainer.style.height="60px",this.refreshContainer.style.display="block",this.updateP2rHackPosition())},l.prototype.updateP2rHackPosition=function(){if(!this.refresh)return e(this.el).find(".p2rhack").remove();var t=e(this.el).find(".p2rhack");0===t.length&&(e(this.el).append("<div class='p2rhack' style='position:absolute;width:1px;height:1px;opacity:0;background:transparent;z-index:-1;-webkit-transform:translate3d(-1px,0,0);'></div>"),t=e(this.el).find(".p2rhack")),t.css("top",this.el.scrollHeight+this.refreshHeight+1+"px")},l.prototype.onTouchStart=function(e){this.lastScrollInfo={top:0},this.xReset=this.yReset=0,this.verticalScroll&&(0===this.el.scrollTop&&this.refresh&&(this.el.scrollTop=1,this.yReset=-1),this.el.scrollTop===this.el.scrollHeight-this.el.clientHeight&&this.infinite&&(this.el.scrollTop-=1,this.yReset=1)),this.horizontalScroll&&(0===this.el.scrollLeft&&(this.el.scrollLeft=1,this.xReset=-1),this.el.scrollLeft===this.el.scrollWidth-this.el.clientWidth&&(this.el.scrollLeft-=1,this.xReset=1)),this.refreshCancelCB&&clearTimeout(this.refreshCancelCB),this.refresh&&this.el.addEventListener("touchend",this,!1),this.el.addEventListener("touchmove",this,!1),this.dY=e.touches[0].pageY,this.dX=e.touches[0].pageX,this.startTop=this.el.scrollTop,this.startLeft=this.el.scrollLeft,(this.refresh||this.infinite)&&this.refresh&&this.dY<0&&this.showRefresh()},l.prototype.onTouchMove=function(t){var i=t.touches[0].pageY-this.dY,s=t.touches[0].pageX-this.dX,n=this.el.scrollHeight-this.el.scrollTop===this.el.clientHeight&&0>i,r=this.el.scrollWidth-this.el.scrollLeft===this.el.clientWidth&&0>s,o="input"!==t.target.tagName.toLowerCase();this.verticalScroll&&0===this.startTop&&0===this.el.scrollTop&&i>0&&o&&t.preventDefault(),this.horizontalScroll&&0===this.startTop&&0===this.el.scrollLeft&&s>0&&o&&t.preventDefault(),this.verticalScroll&&n&&o&&t.preventDefault(),this.horizontalScroll&&r&&o&&t.preventDefault(),this.moved||(e.trigger(this,"scrollstart",[this.el,{x:s,y:i}]),e.trigger(e.touchLayer,"scrollstart",[this.el,{x:s,y:i}]),this.refresh||this.el.addEventListener("touchend",this,!1),this.moved=!0),this.horizontalScroll&&Math.abs(i)>Math.abs(s)&&t.preventDefault(),this.refresh&&this.el.scrollTop<-this.refreshHeight?this.showRefresh():this.refresh&&this.refreshTriggered&&this.refreshRunning&&this.el.scrollTop>this.refreshHeight?(this.refreshTriggered=!1,this.refreshRunning=!1,this.refreshCancelCB&&clearTimeout(this.refreshCancelCB),this.hideRefresh(!1),this.setRefreshContent("Pull to Refresh"),e.trigger(this,"refresh-cancel")):this.refresh&&this.refreshTriggered&&!this.refreshRunning&&this.el.scrollTop>-this.refreshHeight&&(this.refreshTriggered=!1,this.refreshRunning=!1,this.refreshCancelCB&&clearTimeout(this.refreshCancelCB),this.hideRefresh(!1),this.setRefreshContent("Pull to Refresh"),e.trigger(this,"refresh-cancel")),this.cY=i,this.cX=s,this.lastScrollInfo.top=this.cY,this.initScrollProgress&&(e.trigger(this,"scroll",[{x:-this.el.scrollLeft,y:-this.el.scrollTop}]),e.trigger(e.touchLayer,"scroll",[{x:-this.el.scrollLeft,y:-this.el.scrollTop}]))},l.prototype.showRefresh=function(){this.refreshTriggered||(this.refreshTriggered=!0,this.setRefreshContent("Release to Refresh"),e.trigger(this,"refresh-trigger"))},l.prototype.onTouchEnd=function(){var t=this.el.scrollTop<=-this.refreshHeight,i=this;if(this.fireRefreshRelease(t,!0),this.moved||(this.el.scrollTop+=this.yReset,this.el.scrollLeft+=this.xReset),t&&this.refresh){var s=e.create("<div style='height:"+this.el.clientHeight+this.refreshHeight+"px;width:1px;-webkit-transform:translated3d(-1px,0,0)'></div>");e(this.el).append(s),i.refreshContainer.style.top="0px",i.refreshContainer.style.position="",setTimeout(function(){s.remove()})}this.el.removeEventListener("touchmove",this,!1),this.el.removeEventListener("touchend",this,!1),this.infiniteEndCheck=!0,this.infinite&&!this.infiniteTriggered&&this.el.scrollTop>=this.el.scrollHeight-this.el.clientHeight&&(this.infiniteTriggered=!0,e.trigger(this,"infinite-scroll"),this.infiniteEndCheck=!0),this.touchEndFired=!0;var n=200,r=this,o={top:this.el.scrollTop,left:this.el.scrollLeft},l=0;clearInterval(r.nativePolling),r.nativePolling=setInterval(function(){return l++,l===parseInt(n/8,10)&&r.initScrollProgress&&(e.trigger(r,"scroll",[{x:-r.el.scrollLeft+r.cX,y:-r.el.scrollTop+r.cY}]),e.trigger(e.touchLayer,"scroll",[{x:-r.el.scrollLeft+r.cX,y:-r.el.scrollTop+r.cY}])),l>=n?(clearInterval(r.nativePolling),r.initScrollProgress&&(e.trigger(r,"scroll",[{x:-r.el.scrollLeft,y:-r.el.scrollTop}]),e.trigger(e.touchLayer,"scroll",[{x:-r.el.scrollLeft,y:-r.el.scrollTop}])),void 0):((r.el.scrollTop!==o.top||r.el.scrollLeft!==o.left)&&(clearInterval(r.nativePolling),e.trigger(e.touchLayer,"scrollend",[r.el]),e.trigger(r,"scrollend",[r.el]),r.initScrollProgress&&(e.trigger(r,"scroll",[{x:-r.el.scrollLeft,y:-r.el.scrollTop}]),e.trigger(e.touchLayer,"scroll",[{x:-r.el.scrollLeft,y:-r.el.scrollTop}]))),void 0)},20)},l.prototype.hideRefresh=function(t){if(!this.preventHideRefresh){var i=this,n=function(t){i.refreshContainer.style.top="-60px",i.refreshContainer.style.position="absolute",i.dY=i.cY=0,t||(i.el.style[e.feat.cssPrefix+"Transform"]="none",i.el.style[e.feat.cssPrefix+"TransitionProperty"]="none",i.el.scrollTop=0,i.logPos(i.el.scrollLeft,0),i.refreshRunning=!1,i.setRefreshContent("Pull to Refresh"),e.trigger(i,"refresh-finish"))};t!==!1&&i.afEl.css3Animate?i.afEl.css3Animate({y:i.el.scrollTop-i.refreshHeight+"px",x:"0%",time:s+"ms",complete:n}):n(),this.refreshTriggered=!1}},l.prototype.hideScrollbars=function(){},l.prototype.scrollTo=function(e,t){return this.logPos(e.x,e.y),e.x*=-1,e.y*=-1,this._scrollTo(e,t)},l.prototype.scrollBy=function(e,t){return e.x+=this.el.scrollLeft,e.y+=this.el.scrollTop,this.logPos(this.el.scrollLeft,this.el.scrollTop),this._scrollTo(e,t)},l.prototype.scrollToBottom=function(e){this._scrollToBottom(e),this.logPos(this.el.scrollLeft,this.el.scrollTop)},l.prototype.onScroll=function(){if(this.infinite&&this.touchEndFired)return this.touchEndFired=!1,void 0;if(this.scrollSkip)return this.scrollSkip=!1,void 0;this.infinite&&!this.infiniteTriggered&&this.el.scrollTop>=this.el.scrollHeight-this.el.clientHeight&&(this.infiniteTriggered=!0,e.trigger(this,"infinite-scroll"),this.infiniteEndCheck=!0);var t=this;this.infinite&&this.infiniteEndCheck&&this.infiniteTriggered&&(this.infiniteEndCheck=!1,e.trigger(t,"infinite-scroll-end"))},l.prototype.logPos=function(e,t){this.loggedPcentX=this.divide(e,this.el.scrollWidth),this.loggedPcentY=this.divide(t,this.el.scrollHeight),this.scrollLeft=e,this.scrollTop=t,isNaN(this.loggedPcentX)&&(this.loggedPcentX=0),isNaN(this.loggedPcentY)&&(this.loggedPcentY=0)},l.prototype.adjustScroll=function(){this.adjustScrollOverflowProxy(),this.el.scrollLeft=this.loggedPcentX*this.el.scrollWidth,this.el.scrollTop=this.loggedPcentY*this.el.scrollHeight,this.logPos(this.el.scrollLeft,this.el.scrollTop)},r.prototype.defaultProperties=function(){this.boolScrollLock=!1,this.currentScrollingObject=null,this.elementInfo=null,this.verticalScroll=!0,this.horizontalScroll=!1,this.scrollBars=!0,this.vscrollBar=null,this.hscrollBar=null,this.hScrollCSS="scrollBar",this.vScrollCSS="scrollBar",this.firstEventInfo=null,this.moved=!1,this.preventPullToRefresh=!0,this.isScrolling=!1,this.androidFormsMode=!1,this.refreshSafeKeep=!1,this.lastScrollbar="",this.finishScrollingObject=null,this.container=null,this.scrollingFinishCB=null,this.loggedPcentY=0,this.loggedPcentX=0,this.androidPerfHack=0},r.prototype.enable=function(e){this.eventsActive||(this.eventsActive=!0,e?this.scrollerMoveCSS({x:0,y:0},0):this.adjustScroll(),this.container.addEventListener("touchstart",this,!1),this.container.addEventListener("touchmove",this,!1),this.container.addEventListener("touchend",this,!1))},r.prototype.adjustScroll=function(){var e=this.getViewportSize();this.scrollerMoveCSS({x:Math.round(this.loggedPcentX*(this.el.clientWidth-e.w)),y:Math.round(this.loggedPcentY*(this.el.clientHeight-e.h))},0)},r.prototype.disable=function(){if(this.eventsActive){var e=this.getCSSMatrix(this.el);this.logPos(numOnly(e.e)-numOnly(this.container.scrollLeft),numOnly(e.f)-numOnly(this.container.scrollTop)),this.container.removeEventListener("touchstart",this,!1),this.container.removeEventListener("touchmove",this,!1),this.container.removeEventListener("touchend",this,!1),this.eventsActive=!1}},r.prototype.addPullToRefresh=function(e,t){t||(this.refresh=!0),this.refresh&&this.refresh===!0&&(this.coreAddPullToRefresh(e),this.el.style.overflow="visible")},r.prototype.hideScrollbars=function(){this.hscrollBar&&(this.hscrollBar.style.display="none",this.hscrollBar.style[e.feat.cssPrefix+"TransitionDuration"]="0ms"),this.vscrollBar&&(this.vscrollBar.style.display="none",this.vscrollBar.style[e.feat.cssPrefix+"TransitionDuration"]="0ms")},r.prototype.getViewportSize=function(){var e=window.getComputedStyle(this.container);return isNaN(numOnly(e.paddingTop))&&window.alert(typeof e.paddingTop+"::"+e.paddingTop+":"),{h:this.container.clientHeight>window.innerHeight?window.innerHeight:this.container.clientHeight-numOnly(e.paddingTop)-numOnly(e.paddingBottom),w:this.container.clientWidth>window.innerWidth?window.innerWidth:this.container.clientWidth-numOnly(e.paddingLeft)-numOnly(e.paddingRight)}},r.prototype.onTouchStart=function(t){if(this.moved=!1,this.currentScrollingObject=null,e(this.el).animateCss().stop(),this.container&&(this.refreshCancelCB&&(clearTimeout(this.refreshCancelCB),this.refreshCancelCB=null),this.scrollingFinishCB&&(clearTimeout(this.scrollingFinishCB),this.scrollingFinishCB=null),1===t.touches.length&&!this.boolScrollLock)){if(t.touches[0].target&&void 0!==t.touches[0].target.type){var i=t.touches[0].target.tagName.toLowerCase();if("select"===i)return}var s={top:0,left:0,speedY:0,speedX:0,absSpeedY:0,absSpeedX:0,deltaY:0,deltaX:0,absDeltaY:0,absDeltaX:0,y:0,x:0,duration:0};this.elementInfo={};var n=this.getViewportSize();this.elementInfo.bottomMargin=n.h,this.elementInfo.maxTop=this.el.clientHeight-this.elementInfo.bottomMargin,this.elementInfo.maxTop<0&&(this.elementInfo.maxTop=0),this.elementInfo.divHeight=this.el.clientHeight,this.elementInfo.rightMargin=n.w,this.elementInfo.maxLeft=this.el.clientWidth-this.elementInfo.rightMargin,this.elementInfo.maxLeft<0&&(this.elementInfo.maxLeft=0),this.elementInfo.divWidth=this.el.clientWidth,this.elementInfo.hasVertScroll=this.verticalScroll||this.elementInfo.maxTop>0,this.elementInfo.hasHorScroll=this.elementInfo.maxLeft>0,this.elementInfo.requiresVScrollBar=this.vscrollBar&&this.elementInfo.hasVertScroll,this.elementInfo.requiresHScrollBar=this.hscrollBar&&this.elementInfo.hasHorScroll,this.saveEventInfo(t),this.saveFirstEventInfo(t);var r=this.getCSSMatrix(this.el);s.top=numOnly(r.f)-numOnly(this.container.scrollTop),s.left=numOnly(r.e)-numOnly(this.container.scrollLeft),this.container.scrollTop=this.container.scrollLeft=0,this.currentScrollingObject=this.el,this.refresh&&0===s.top?(this.refreshContainer.style.display="block",this.refreshHeight=this.refreshContainer.firstChild.clientHeight,this.refreshContainer.firstChild.style.top=-this.refreshHeight+"px",this.refreshContainer.style.overflow="visible",this.preventPullToRefresh=!1):s.top<0&&(this.preventPullToRefresh=!0,this.refresh&&(this.refreshContainer.style.overflow="hidden")),s.x=s.left,s.y=s.top,this.setVScrollBar(s,0,0)&&(this.vscrollBar.style.right=this.container.clientWidth>window.innerWidth?"0px":"0px",this.vscrollBar.style[e.feat.cssPrefix+"Transition"]="",e(this.vscrollBar).animateCss().stop()),this.setHScrollBar(s,0,0)&&(this.container.clientHeight>window.innerHeight?this.hscrollBar.style.top=window.innerHeight-numOnly(this.hscrollBar.style.height)+"px":this.hscrollBar.style.bottom=numOnly(this.hscrollBar.style.height),this.hscrollBar.style[e.feat.cssPrefix+"Transition"]="",e(this.hscrollBar).animateCss().stop()),this.lastScrollInfo=s,this.hasMoved=!1,0===this.elementInfo.maxTop&&0===this.elementInfo.maxLeft&&this.lockBounce?this.scrollToTop(0):this.scrollerMoveCSS(this.lastScrollInfo,0),this.scrollerMoveCSS(this.lastScrollInfo,0)}},r.prototype.getCSSMatrix=function(t){if(this.androidFormsMode){var i=parseInt(t.style.marginTop,10),s=parseInt(t.style.marginLeft,10);return isNaN(i)&&(i=0),isNaN(s)&&(s=0),{f:i,e:s}}var n=e.getCssMatrix(t);return n},r.prototype.saveEventInfo=function(e){this.lastEventInfo={pageX:e.touches[0].pageX,pageY:e.touches[0].pageY,time:e.timeStamp}},r.prototype.saveFirstEventInfo=function(e){this.firstEventInfo={pageX:e.touches[0].pageX,pageY:e.touches[0].pageY,time:e.timeStamp}},r.prototype.setVScrollBar=function(e,t,i){if(!this.elementInfo.requiresVScrollBar)return!1;var s=parseFloat(this.elementInfo.bottomMargin/this.elementInfo.divHeight)*this.elementInfo.bottomMargin+"px";numOnly(s)>this.elementInfo.bottomMargin&&(s=this.elementInfo.bottomMargin+"px"),s!==this.vscrollBar.style.height&&(this.vscrollBar.style.height=s);var n=this.elementInfo.bottomMargin-numOnly(this.vscrollBar.style.height)-(this.elementInfo.maxTop+e.y)/this.elementInfo.maxTop*(this.elementInfo.bottomMargin-numOnly(this.vscrollBar.style.height));return n>this.elementInfo.bottomMargin&&(n=this.elementInfo.bottomMargin),0>n&&(n=0),this.scrollbarMoveCSS(this.vscrollBar,{x:0,y:n},t,i),!0},r.prototype.setHScrollBar=function(e,t,i){if(!this.elementInfo.requiresHScrollBar)return!1;var s=parseFloat(this.elementInfo.rightMargin/this.elementInfo.divWidth)*this.elementInfo.rightMargin+"px";s!==this.hscrollBar.style.width&&(this.hscrollBar.style.width=s);var n=this.elementInfo.rightMargin-numOnly(this.hscrollBar.style.width)-(this.elementInfo.maxLeft+e.x)/this.elementInfo.maxLeft*(this.elementInfo.rightMargin-numOnly(this.hscrollBar.style.width));return n>this.elementInfo.rightMargin&&(n=this.elementInfo.rightMargin),0>n&&(n=0),this.scrollbarMoveCSS(this.hscrollBar,{x:n,y:0},t,i),!0},r.prototype.onTouchMove=function(t){if(null!==this.currentScrollingObject){var i=this.calculateMovement(t);this.calculateTarget(i),this.lastScrollInfo=i,this.moved||(e.trigger(this,"scrollstart",[this.el,{x:this.lastScrollInfo.top,y:this.lastScrollInfo.left}]),e.trigger(e.touchLayer,"scrollstart",[this.el,{x:this.lastScrollInfo.top,y:this.lastScrollInfo.left}]),this.elementInfo.requiresVScrollBar&&(this.vscrollBar.style.display="block"),this.elementInfo.requiresHScrollBar&&(this.hscrollBar.style.display="block")),this.moved=!0,this.refresh&&0===i.top?(this.refreshContainer.style.display="block",this.refreshHeight=this.refreshContainer.firstChild.clientHeight,this.refreshContainer.firstChild.style.top=-this.refreshHeight+"px",this.refreshContainer.style.overflow="visible",this.preventPullToRefresh=!1):i.top<0&&(this.preventPullToRefresh=!0,this.refresh&&(this.refreshContainer.style.overflow="hidden")),this.saveEventInfo(t),this.isScrolling===!1&&(this.isScrolling=!0,this.onScrollStart&&this.onScrollStart());var s=this.getCSSMatrix(this.el);this.lastScrollInfo.top=numOnly(s.f),this.lastScrollInfo.left=numOnly(s.e),this.recalculateDeltaY(this.lastScrollInfo),this.recalculateDeltaX(this.lastScrollInfo),this.checkYboundary(this.lastScrollInfo),this.elementInfo.hasHorScroll&&this.checkXboundary(this.lastScrollInfo);var n,r,o,l=this.lastScrollInfo.y>0&&this.lastScrollInfo.deltaY>0,a=this.lastScrollInfo.y<-this.elementInfo.maxTop&&this.lastScrollInfo.deltaY<0;if(l||a){n=l?this.lastScrollInfo.y:-this.lastScrollInfo.y-this.elementInfo.maxTop,r=(this.container.clientHeight-n)/this.container.clientHeight,.5>r&&(r=.5),o=0,l&&this.lastScrollInfo.top>0||a&&this.lastScrollInfo.top<-this.elementInfo.maxTop?o=this.lastScrollInfo.top:a&&(o=-this.elementInfo.maxTop);var h=this.lastScrollInfo.deltaY*r,c=Math.abs(this.lastScrollInfo.deltaY*r);1>c&&(h=l?1:-1),this.lastScrollInfo.y=o+h}if(this.elementInfo.hasHorScroll&&(l=this.lastScrollInfo.x>0&&this.lastScrollInfo.deltaX>0,a=this.lastScrollInfo.x<-this.elementInfo.maxLeft&&this.lastScrollInfo.deltaX<0,l||a)){n=l?this.lastScrollInfo.x:-this.lastScrollInfo.x-this.elementInfo.maxLeft,r=(this.container.clientWidth-n)/this.container.clientWidth,.5>r&&(r=.5),o=0,l&&this.lastScrollInfo.left>0||a&&this.lastScrollInfo.left<-this.elementInfo.maxLeft?o=this.lastScrollInfo.left:a&&(o=-this.elementInfo.maxLeft);var d=this.lastScrollInfo.deltaX*r,u=Math.abs(this.lastScrollInfo.deltaX*r);1>u&&(d=l?1:-1),this.lastScrollInfo.x=o+d}(this.lockBounce||!this.refresh)&&(this.lastScrollInfo.x>0?this.lastScrollInfo.x=0:-1*this.lastScrollInfo.x>this.elementInfo.maxLeft&&(this.lastScrollInfo.x=-1*this.elementInfo.maxLeft),this.lastScrollInfo.y>0?this.lastScrollInfo.y=0:-1*this.lastScrollInfo.y>this.elementInfo.maxTop&&(this.lastScrollInfo.y=-1*this.elementInfo.maxTop)),this.scrollerMoveCSS(this.lastScrollInfo,0),this.setVScrollBar(this.lastScrollInfo,0,0),this.setHScrollBar(this.lastScrollInfo,0,0),this.refresh&&!this.preventPullToRefresh&&(!this.refreshTriggered&&this.lastScrollInfo.top>this.refreshHeight?(this.refreshTriggered=!0,this.setRefreshContent("Release to Refresh"),e.trigger(this,"refresh-trigger")):this.refreshTriggered&&this.lastScrollInfo.top<this.refreshHeight&&(this.refreshTriggered=!1,this.setRefreshContent("Pull to Refresh"),e.trigger(this,"refresh-cancel"))),this.infinite&&!this.infiniteTriggered&&Math.abs(this.lastScrollInfo.top)>this.el.clientHeight-this.container.clientHeight&&(this.infiniteTriggered=!0,e.trigger(this,"infinite-scroll"))
}},r.prototype.calculateMovement=function(e,t){var i={top:0,left:0,speedY:0,speedX:0,absSpeedY:0,absSpeedX:0,deltaY:0,deltaX:0,absDeltaY:0,absDeltaX:0,y:0,x:0,duration:0},s=t?this.firstEventInfo:this.lastEventInfo,n=t?e.pageX:e.touches[0].pageX,r=t?e.pageY:e.touches[0].pageY,o=t?e.time:e.timeStamp;return i.deltaY=this.elementInfo.hasVertScroll?r-s.pageY:0,i.deltaX=this.elementInfo.hasHorScroll?n-s.pageX:0,i.time=o,i.duration=o-s.time,i},r.prototype.calculateTarget=function(e){e.y=this.lastScrollInfo.y+e.deltaY,e.x=this.lastScrollInfo.x+e.deltaX,Math.abs(e.deltaY)>0&&(e.y+=(e.deltaY>0?1:-1)*this.elementInfo.divHeight*this.androidPerfHack),Math.abs(e.deltaX)>0&&(e.x+=(e.deltaX>0?1:-1)*this.elementInfo.divWidth*this.androidPerfHack)},r.prototype.checkYboundary=function(e){var t=this.container.clientHeight/2,i=this.elementInfo.maxTop+t;if(e.y>t)e.y=t;else{if(!(-e.y>i))return;e.y=-i}this.recalculateDeltaY(e)},r.prototype.checkXboundary=function(e){var t=this.container.clientWidth/2,i=this.elementInfo.maxLeft+t;if(e.x>t)e.x=t;else{if(!(-e.x>i))return;e.x=-i}this.recalculateDeltaX(e)},r.prototype.recalculateDeltaY=function(e){var t=Math.abs(e.deltaY);e.deltaY=e.y-e.top;var i=Math.abs(e.deltaY);e.duration=e.duration*i/t},r.prototype.recalculateDeltaX=function(e){var t=Math.abs(e.deltaX);e.deltaX=e.x-e.left;var i=Math.abs(e.deltaX);e.duration=e.duration*i/t},r.prototype.hideRefresh=function(t){var i=this;if(!this.preventHideRefresh){var n=function(){i.setRefreshContent("Pull to Refresh"),e.trigger(i,"refresh-finish")};this.scrollerMoveCSS({x:0,y:0},s),t!==!1&&i.afEl.css3Animate?i.afEl.css3Animate({time:s+"ms",complete:n}):n(),this.refreshTriggered=!1}},r.prototype.setMomentum=function(e){var t=8e-4;e.speedY=this.divide(e.deltaY,e.duration),e.speedX=this.divide(e.deltaX,e.duration),e.absSpeedY=Math.abs(e.speedY),e.absSpeedX=Math.abs(e.speedX),e.absDeltaY=Math.abs(e.deltaY),e.absDeltaX=Math.abs(e.deltaX),e.absDeltaY>0?(e.deltaY+=(e.deltaY<0?-1:1)*e.absSpeedY*e.absSpeedY/(2*t),e.absDeltaY=Math.abs(e.deltaY),e.duration=e.absSpeedY/t,e.speedY=e.deltaY/e.duration,e.absSpeedY=Math.abs(e.speedY),(e.absSpeedY<100*t||e.absDeltaY<5)&&(e.deltaY=e.absDeltaY=e.duration=e.speedY=e.absSpeedY=0)):e.absDeltaX?(e.deltaX+=(e.deltaX<0?-1:1)*e.absSpeedX*e.absSpeedX/(2*t),e.absDeltaX=Math.abs(e.deltaX),e.duration=e.absSpeedX/t,e.speedX=e.deltaX/e.duration,e.absSpeedX=Math.abs(e.speedX),(e.absSpeedX<100*t||e.absDeltaX<5)&&(e.deltaX=e.absDeltaX=e.duration=e.speedX=e.absSpeedX=0)):e.duration=0},r.prototype.onTouchEnd=function(){if(null!==this.currentScrollingObject&&this.moved){this.finishScrollingObject=this.currentScrollingObject,this.currentScrollingObject=null;var t=this.calculateMovement(this.lastEventInfo,!0);this.androidFormsMode||this.setMomentum(t),this.calculateTarget(t);var i=this.getCSSMatrix(this.el);t.top=numOnly(i.f),t.left=numOnly(i.e),this.checkYboundary(t),this.elementInfo.hasHorScroll&&this.checkXboundary(t);var n=!this.preventPullToRefresh&&(t.top>this.refreshHeight||t.y>this.refreshHeight);if(this.fireRefreshRelease(n,t.top>0),this.refresh&&n?(t.y=this.refreshHeight,t.duration=s):t.y>=0?(t.y=0,t.top>=0&&(t.duration=s)):(-t.y>this.elementInfo.maxTop||0===this.elementInfo.maxTop)&&(t.y=-this.elementInfo.maxTop,-t.top>this.elementInfo.maxTop&&(t.duration=s)),this.elementInfo.hasHorScroll&&(t.x>=0?(t.x=0,t.left>=0&&this.refresh&&(t.duration=s)):(-t.x>this.elementInfo.maxLeft||0===this.elementInfo.maxLeft)&&(t.x=-this.elementInfo.maxLeft,-t.left>this.elementInfo.maxLeft&&this.refresh&&(t.duration=s))),(t.x===t.left&&t.y===t.top||this.androidFormsMode)&&(t.duration=0),this.scrollerMoveCSS(t,t.duration,"cubic-bezier(0.33,0.66,0.66,1)"),this.setVScrollBar(t,t.duration,"cubic-bezier(0.33,0.66,0.66,1)"),this.setHScrollBar(t,t.duration,"cubic-bezier(0.33,0.66,0.66,1)"),this.setFinishCalback(t.duration),this.infinite&&!this.infiniteTriggered&&Math.abs(t.y)>=this.el.clientHeight-this.container.clientHeight){var r=this;setTimeout(function(){r.infiniteTriggered=!0,e.trigger(r,"infinite-scroll")},t.duration-50)}}},r.prototype.setFinishCalback=function(t){var i=this;this.scrollingFinishCB=setTimeout(function(){i.hideScrollbars(),e.trigger(e.touchLayer,"scrollend",[i.el]),e.trigger(i,"scrollend",[i.el]),i.isScrolling=!1,i.elementInfo=null,i.infinite&&i.infiniteTriggered&&e.trigger(i,"infinite-scroll-end")},t)},r.prototype.startFormsMode=function(){if(!this.blockFormsFix){var t=this.getCSSMatrix(this.el);this.refreshSafeKeep=this.refresh,this.refresh=!1,this.androidFormsMode=!0,this.el.style[e.feat.cssPrefix+"Transform"]="none",this.el.style[e.feat.cssPrefix+"Transition"]="none",this.el.style[e.feat.cssPrefix+"Perspective"]="none",this.scrollerMoveCSS({x:numOnly(t.e),y:numOnly(t.f)},0),this.container.style[e.feat.cssPrefix+"Perspective"]="none",this.container.style[e.feat.cssPrefix+"BackfaceVisibility"]="visible",this.vscrollBar&&(this.vscrollBar.style[e.feat.cssPrefix+"Transform"]="none",this.vscrollBar.style[e.feat.cssPrefix+"Transition"]="none",this.vscrollBar.style[e.feat.cssPrefix+"Perspective"]="none",this.vscrollBar.style[e.feat.cssPrefix+"BackfaceVisibility"]="visible"),this.hscrollBar&&(this.hscrollBar.style[e.feat.cssPrefix+"Transform"]="none",this.hscrollBar.style[e.feat.cssPrefix+"Transition"]="none",this.hscrollBar.style[e.feat.cssPrefix+"Perspective"]="none",this.hscrollBar.style[e.feat.cssPrefix+"BackfaceVisibility"]="visible")}},r.prototype.stopFormsMode=function(){if(!this.blockFormsFix){var t=this.getCSSMatrix(this.el);this.refresh=this.refreshSafeKeep,this.androidFormsMode=!1,this.el.style[e.feat.cssPrefix+"Perspective"]=1e3,this.el.style.marginTop=0,this.el.style.marginLeft=0,this.el.style[e.feat.cssPrefix+"Transition"]="0ms linear",this.scrollerMoveCSS({x:numOnly(t.e),y:numOnly(t.f)},0),this.container.style[e.feat.cssPrefix+"Perspective"]=1e3,this.container.style[e.feat.cssPrefix+"BackfaceVisibility"]="hidden",this.vscrollBar&&(this.vscrollBar.style[e.feat.cssPrefix+"Perspective"]=1e3,this.vscrollBar.style[e.feat.cssPrefix+"BackfaceVisibility"]="hidden"),this.hscrollBar&&(this.hscrollBar.style[e.feat.cssPrefix+"Perspective"]=1e3,this.hscrollBar.style[e.feat.cssPrefix+"BackfaceVisibility"]="hidden")}},r.prototype.scrollerMoveCSS=function(t,i,s){i||(i=0),s||(s="linear"),i=numOnly(i);var n=this;if(this.el&&this.el.style){if(this.eventsActive)if(this.androidFormsMode)this.el.style.marginTop=Math.round(t.y)+"px",this.el.style.marginLeft=Math.round(t.x)+"px";else{var r={x:t.x,y:t.y,duration:i,easing:"easeOutSine"};n.initScrollProgress&&(r.update=function(t){e.trigger(n,"scroll",[t]),e.trigger(e.touchLayer,"scroll",[t])}),e(this.el).animateCss(r).start()}this.logPos(t.x,t.y)}},r.prototype.logPos=function(e,t){var i;i=this.elementInfo?{h:this.elementInfo.bottomMargin,w:this.elementInfo.rightMargin}:this.getViewportSize(),this.loggedPcentX=this.divide(e,this.el.clientWidth-i.w),this.loggedPcentY=this.divide(t,this.el.clientHeight-i.h),this.scrollTop=t,this.scrollLeft=e},r.prototype.scrollbarMoveCSS=function(t,i,s,n){s||(s=0),n||(n="linear"),t&&t.style&&(this.androidFormsMode?(t.style.marginTop=Math.round(i.y)+"px",t.style.marginLeft=Math.round(i.x)+"px"):e(t).animateCss({x:i.x,y:i.y,duration:s,easing:"easeOutSine"}).start())},r.prototype.scrollTo=function(e,t){t||(t=0),this.scrollerMoveCSS(e,t)},r.prototype.scrollBy=function(e,t){var i=this.getCSSMatrix(this.el),s=numOnly(i.f),n=numOnly(i.e);this.scrollTo({y:s-e.y,x:n-e.x},t)},r.prototype.scrollToBottom=function(e){this.scrollTo({y:-1*(this.el.clientHeight-this.container.clientHeight),x:0},e)},r.prototype.scrollToTop=function(e){this.scrollTo({x:0,y:0},e)},a}()}(af),function(e){"use strict";function t(t,i,s){return s===!0&&(this.getAttribute("multiple")||e.selectBox.updateMaskValue(this.parentNode.id,this.text,this.value),this.parentNode.value=this.value),s}function i(t,i,s){return this.options[s]&&(this.getAttribute("multiple")||e.selectBox.updateMaskValue(this.linker,this.options[s].value,this.options[s].text),this.value=this.options[s].value),s}function s(t){var i=t.target;e(i.linker).remove(),delete i.linker,t.stopPropagation()}e.selectBox={scroller:null,currLinker:null,getOldSelects:function(n){if(e.os.android&&!e.os.androidICS){if(!e.fn.scroller)return window.alert("This library requires af.scroller"),void 0;var r=n&&document.getElementById(n)?document.getElementById(n):document;if(!r)return window.alert("Could not find container element for af.selectBox "+n),void 0;for(var o=r.getElementsByTagName("select"),l=this,a=0;a<o.length;a++){var h=o[a];h.style.display="none";var c=e.create("div",{className:"afFakeSelect"});c.get(0).linker=o[a],h.linker=c.get(0),c.insertAfter(o[a]),h.watch("selectedIndex",i);for(var d=0;d<h.options.length;d++)h.options[d].watch("selected",t),h.options[d].selected&&c.html(h.options[d].text);e(h).one("destroy",s)}l.createHtml()}},updateDropdown:function(e){if(e){for(var t=0;t<e.options.length;t++)e.options[t].selected&&(e.linker.innerHTML=e.options[t].text);e=null}},initDropDown:function(i){if(!i.disabled&&i&&i.options&&0!==i.options.length){var s=0,n=e("#afSelectBoxfix");n.html("<ul></ul>");for(var r=n.find("ul"),o=0;o<i.options.length;o++){i.options[o].watch("selected",t);var l=i.options[o].selected?"selected":"";l&&(s=o+1);var a=e.create("li",{html:i.options[o].text,className:l});a.data("ind",o),r.append(a)}e("#afModalMask").show();try{if(s>0&&"multiple"!==i.getAttribute("multiple")){var h=0,c=numOnly(r.find("li").computedStyle("height")),d=numOnly(e("#afSelectBoxContainer").computedStyle("height"));s*c>=d&&(h=(s-1)*-c),this.scroller.scrollTo({x:0,y:h})}}catch(u){console.log("error init dropdown"+u)}var f="block"===e("#afSelectClose").css("display")?numOnly(e("#afSelectClose").height()):0;e("#afSelectWrapper").height(numOnly(e("#afSelectBoxContainer").height())-f+"px")}},updateMaskValue:function(t,i,s){e(t).html(s)},setDropDownValue:function(t,i){if(t){var s=e(t);if(i=parseInt(i,10),t.getAttribute("multiple")){var n=e("#afSelectBoxfix li:nth-child("+(i+1)+")");n.hasClass("selected")?n.removeClass("selected"):n.addClass("selected")}else t.selectedIndex=i,s.find("option").prop("selected",!1),s.find("option:nth-child("+(i+1)+")").prop("selected",!0),this.scroller.scrollTo({x:0,y:0}),this.hideDropDown();e(t).trigger("change"),t=null}},hideDropDown:function(){e("#afModalMask").hide(),e("#afSelectBoxfix").html("")},createHtml:function(){var t=this;document.getElementById("afSelectBoxfix")||e(document).ready(function(){e(document).on("click",".afFakeSelect",function(){this.linker.disabled||(t.currLinker=this,"multiple"===this.linker.getAttribute("multiple")?e("#afSelectClose").show():e("#afSelectClose").hide(),t.initDropDown(this.linker))});var i=e.create("div",{id:"afSelectBoxContainer"}),s=e.create("div",{id:"afSelectBoxfix"}),n=e.create("div",{id:"afSelectWrapper"});n.css("position","relative"),n.append(s);var r=e.create("div",{id:"afSelectClose",html:"<a id='afSelectDone'>Done</a> <a id='afSelectCancel'>Cancel</a>"}),o=e.create("div",{id:"afModalMask"}),l=e("#afui");i.prepend(r).append(n),o.append(i),l.length>0?l.append(o):document.body.appendChild(o.get(0)),t.scroller=e.query("#afSelectBoxfix").scroller({scroller:!1,verticalScroll:!0,vScrollCSS:"afselectscrollBarV",hasParent:!0}),e("#afModalMask").on("click",function(i){var s=e(i.target);0===s.closest("#afSelectBoxContainer").length&&t.hideDropDown()}),e("#afSelectBoxfix").on("click","li",function(i){var s=e(i.target);t.setDropDownValue(t.currLinker.linker,s.data("ind"))}),e("#afSelectBoxContainer").on("click","a",function(i){if("afSelectCancel"===i.target.id)return t.hideDropDown();var s=e(t.currLinker.linker);return s.find("option").prop("selected",!1),e("#afSelectBoxfix li").each(function(){var i=e(this);if(i.hasClass("selected")){var n=parseInt(i.data("ind"),10);s.find("option:nth-child("+(n+1)+")").prop("selected",!0),t.currLinker.innerHTML=i.html()}}),t.hideDropDown(),i.stopPropagation(),i.preventDefault(),!1})})}},HTMLElement.prototype.watch||(HTMLElement.prototype.watch=function(e,t){var i=this[e],s=i,n=function(){return s},r=function(n){return i=s,s=t.call(this,e,i,n)};delete this[e]&&(HTMLElement.defineProperty?HTMLElement.defineProperty(this,e,{get:n,set:r,enumerable:!1,configurable:!0}):HTMLElement.prototype.__defineGetter__&&HTMLElement.prototype.__defineSetter__&&(HTMLElement.prototype.__defineGetter__.call(this,e,n),HTMLElement.prototype.__defineSetter__.call(this,e,r)))}),HTMLElement.prototype.unwatch||(HTMLElement.prototype.unwatch=function(e){var t=this[e];delete this[e],this[e]=t})}(af),function(e){"use strict";function t(e){return"tagName"in e?e:e.parentNode}function i(e,t,i,s){var n=Math.abs(e-t),r=Math.abs(i-s);return n>=r?e-t>0?"Left":"Right":i-s>0?"Up":"Down"}function s(){o.last&&Date.now()-o.last>=l&&(o.el.trigger("longTap"),o={})}var n,r,o={},l=750;e(document).ready(function(){var a;e(document.body).bind("touchstart",function(i){if(i.originalEvent&&(i=i.originalEvent),i.touches&&0!==i.touches.length){var h=Date.now(),c=h-(o.last||h);i.touches&&0!==i.touches.length&&(o.el=e(t(i.touches[0].target)),n&&clearTimeout(n),o.x1=i.touches[0].pageX,o.y1=i.touches[0].pageY,o.x2=o.y2=0,c>0&&250>=c&&(o.isDoubleTap=!0),o.last=h,r=setTimeout(s,l),e.ui.useAutoPressed&&!o.el.data("ignore-pressed")&&o.el.addClass("pressed"),a&&e.ui.useAutoPressed&&!a.data("ignore-pressed")&&a[0]!==o.el[0]&&a.removeClass("pressed"),a=o.el)}}).bind("touchmove",function(e){e.originalEvent&&(e=e.originalEvent),o.x2=e.touches[0].pageX,o.y2=e.touches[0].pageY,clearTimeout(r)}).bind("touchend",function(t){t.originalEvent&&(t=t.originalEvent),o.el&&(e.ui.useAutoPressed&&!o.el.data("ignore-pressed")&&o.el.removeClass("pressed"),o.isDoubleTap?(o.el.trigger("doubleTap"),o={}):o.x2>0||o.y2>0?((Math.abs(o.x1-o.x2)>30||Math.abs(o.y1-o.y2)>30)&&o.el.trigger("swipe")&&o.el.trigger("swipe"+i(o.x1,o.x2,o.y1,o.y2)),o.x1=o.x2=o.y1=o.y2=o.last=0):"last"in o&&(o.el.trigger("tap"),n=setTimeout(function(){n=null,o.el&&o.el.trigger("singleTap"),o={}},250)))}).bind("touchcancel",function(){o.el&&e.ui.useAutoPressed&&!o.el.data("ignore-pressed")&&o.el.removeClass("pressed"),o={},clearTimeout(r)})}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(t){e.fn[t]=function(e){return this.bind(t,e)}})}(af),function(e){"use strict";e.touchLayer=function(t){return e.touchLayer=new d(t),e.touchLayer};var t=["input","select","textarea"],i=["button","radio","checkbox","range","date"],s=e.os.ios,n=e.os.blackberry,r=e.os.blackberry||e.os.fennec||e.os.android&&!e.os.chrome,o=e.os.ios&&!e.os.ios7,l=.97,a=2,h=!1,c=!1,d=function(t){this.clearTouchVars(),t.addEventListener("touchstart",this,!1),t.addEventListener("touchmove",this,!1),t.addEventListener("touchend",this,!1),t.addEventListener("click",this,!1),t.addEventListener("focusin",this,!1),document.addEventListener("scroll",this,!1),window.addEventListener("resize",this,!1),window.addEventListener("orientationchange",this,!1),this.layer=t,this.scrollEndedProxy_=e.proxy(this.scrollEnded,this),this.exitEditProxy_=e.proxy(this.exitExit,this,[]),this.launchFixUIProxy_=e.proxy(this.launchFixUI,this);var i=this;this.scrollTimeoutExpireProxy_=function(){i.scrollTimeout_=null,i.scrollTimeoutEl_.addEventListener("scroll",i.scrollEndedProxy_,!1)},this.retestAndFixUIProxy_=function(){e.os.android&&!e.os.chrome&&(i.layer.style.height="100%"),e.asap(i.testAndFixUI,i,arguments)},document.addEventListener("click",function(e){return c?(e.preventDefault(),e.stopPropagation(),!1):(void 0!==e.clientX&&null!==i.lastTouchStartX&&2>Math.abs(i.lastTouchStartX-e.clientX)&&2>Math.abs(i.lastTouchStartY-e.clientY)&&(e.preventDefault(),e.stopPropagation()),void 0)},!0),e.bind(this,"scrollstart",function(t){i.isScrolling=!0,i.scrollingEl_=t,e.feat.nativeTouchScroll||(i.scrollerIsScrolling=!0),i.fireEvent("UIEvents","scrollstart",t,!1,!1)}),e.bind(this,"scrollend",function(t){i.isScrolling=!1,e.feat.nativeTouchScroll||(i.scrollerIsScrolling=!1),i.fireEvent("UIEvents","scrollend",t,!1,!1)}),this.hideAddressBar(0,1),this.launchFixUI(5)};d.prototype={dX:0,dY:0,cX:0,cY:0,touchStartX:null,touchStartY:null,layer:null,scrollingEl_:null,scrollTimeoutEl_:null,scrollTimeout_:null,reshapeTimeout_:null,scrollEndedProxy_:null,exitEditProxy_:null,launchFixUIProxy_:null,reHideAddressBarTimeout_:null,retestAndFixUIProxy_:null,panElementId:"header",blockClicks:!1,allowDocumentScroll_:!1,ignoreNextResize_:!1,blockPossibleClick_:!1,isScrolling:!1,isScrollingVertical_:!1,wasPanning_:!1,isPanning_:!1,isFocused_:!1,justBlurred_:!1,requiresNativeTap:!1,holdingReshapeType_:null,trackingClick:!1,scrollerIsScrolling:!1,handleEvent:function(e){switch(e.type){case"touchstart":this.onTouchStart(e);break;case"touchmove":this.onTouchMove(e);break;case"touchend":this.onTouchEnd(e);break;case"click":this.onClick(e);break;case"blur":this.onBlur(e);break;case"scroll":this.onScroll(e);break;case"orientationchange":this.onOrientationChange(e);break;case"resize":this.onResize(e);break;case"focusin":this.onFocusIn(e)}},launchFixUI:function(e){return e||(e=a),null===this.reHideAddressBarTimeout_?this.testAndFixUI(0,e):void 0},resetFixUI:function(){this.reHideAddressBarTimeout_&&clearTimeout(this.reHideAddressBarTimeout_),this.reHideAddressBarTimeout_=null},testAndFixUI:function(t,i){var s=this.getReferenceHeight(),n=this.getCurrentHeight();return s===n||s>n*l&&n>s*l?(e.os.android&&this.resetFixUI(),!1):(this.hideAddressBar(t,i),!0)},hideAddressBar:function(t,i){if(!e.ui||!e.ui.isIntel){if(t>=i)return this.resetFixUI(),void 0;if(e.os.desktop||e.os.kindle)this.layer.style.height="100%";else if(e.os.android){window.scrollTo(1,1),this.layer.style.height=this.isFocused_||window.innerHeight>=window.outerHeight?window.innerHeight+"px":window.outerHeight+"px";var s=this,n=t+1;this.reHideAddressBarTimeout_=setTimeout(s.retestAndFixUIProxy_,250*n,n,i)}else this.isFocused_||(document.documentElement.style.height="5000px",window.scrollTo(0,0),document.documentElement.style.height=window.innerHeight+"px",this.layer.style.height=window.innerHeight+"px")}},getReferenceHeight:function(){return window.innerHeight},getCurrentHeight:function(){return e.os.android?window.innerHeight:numOnly(document.documentElement.style.height)},onOrientationChange:function(){var t=this,i=!1;if(this.focusedElement&&(i=!0,this.focusedElement.blur()),!this.holdingReshapeType_&&this.reshapeTimeout_?this.fireReshapeEvent("orientationchange"):this.previewReshapeEvent("orientationchange"),e.os.android&&e.os.chrome){this.layer.style.height="100%";var s=i?600:0;setTimeout(function(){t.hideAddressBar(0,1)},s)}},onResize:function(){return this.ignoreNextResize_?(this.ignoreNextResize_=!1,void 0):(this.launchFixUI()&&this.reshapeAction(),void 0)},onClick:function(n){var r=n.target&&void 0!==n.target.tagName?n.target.tagName.toLowerCase():"";if(-1===t.indexOf(r)||this.isFocused_&&n.target===this.focusedElement)e.os.blackberry10&&this.isFocused_&&this.focusedElement.blur();else{var o=n.target&&void 0!==n.target.type?n.target.type.toLowerCase():"",l=-1!==i.indexOf(o);if(l)this.isFocused_=!1;else{if(this.isFocused_&&this.focusedElement.removeEventListener("blur",this,!1),this.focusedElement=n.target,this.focusedElement.addEventListener("blur",this,!1),!this.isFocused_&&!this.justBlurred_)if(e.trigger(this,"enter-edit",[n.target]),e.os.ios){var a=this;setTimeout(function(){a.fireReshapeEvent("enter-edit")},300)}else this.previewReshapeEvent("enter-edit");this.isFocused_=!0}this.justBlurred_=!1,this.allowDocumentScroll_=!0,s&&n.target.focus()}},previewReshapeEvent:function(e){var t=this;this.reshapeTimeout_=setTimeout(function(){t.fireReshapeEvent(e),t.reshapeTimeout_=null,t.holdingReshapeType_=null},750),this.holdingReshapeType_=e},fireReshapeEvent:function(t){e.trigger(this,"reshape"),e.trigger(this,t?t+"-reshape":"unknown-reshape")},reshapeAction:function(){this.reshapeTimeout_?(clearTimeout(this.reshapeTimeout_),this.fireReshapeEvent(this.holdingReshapeType_),this.holdingReshapeType_=null,this.reshapeTimeout_=null):this.previewReshapeEvent()},onFocusIn:function(e){this.isFocused_||this.onClick(e)},onBlur:function(t){e.os.android&&t.target===window||(this.isFocused_=!1,this.focusedElement&&this.focusedElement.removeEventListener("blur",this,!1),this.focusedElement=null,this.justBlurred_=!0,e.asap(this.exitEditProxy_,this,[t.target]))},exitExit:function(t){if(this.justBlurred_=!1,!this.isFocused_)if(e.trigger(this,"exit-edit",[t]),this.allowDocumentScroll_=!1,e.os.ios){var i=this;setTimeout(function(){i.fireReshapeEvent("exit-edit")},300)}else this.previewReshapeEvent("exit-edit")},onScroll:function(e){this.allowDocumentScroll_||this.isPanning_||e.target!==document||(this.allowDocumentScroll_=!0,this.wasPanning_?(this.wasPanning_=!1,setTimeout(this.launchFixUIProxy_,2e3,[a])):this.launchFixUI())},onTouchStart:function(i){if(this.dX=i.touches[0].pageX,this.dY=i.touches[0].pageY,this.lastTimestamp=i.timeStamp,this.lastTouchStartX=this.lastTouchStartY=null,e.os.ios){if(h===i.touches[0].identifier)return c=!0,i.preventDefault(),h=!1,!1;h=i.touches[0].identifier,c=!1}if(this.scrollerIsScrolling)return this.moved=!0,this.scrollerIsScrolling=!1,i.preventDefault(),!1;this.trackingClick=!0,(o||e.feat.nativeTouchScroll)&&this.checkDOMTree(i.target,this.layer),this.isScrolling&&(null!==this.scrollTimeout_?(clearTimeout(this.scrollTimeout_),this.scrollTimeout_=null,this.scrollTimeoutEl_!==this.scrollingEl_?this.scrollEnded(!1):this.blockPossibleClick_=!0):this.scrollTimeoutEl_&&(this.scrollEnded(!0),this.blockPossibleClick_=!0));var s=e.os.android&&i&&i.target&&i.target.getAttribute&&"ignore"===i.target.getAttribute("data-touchlayer");if(s||this.isFocused_&&!e.os.blackberry10)this.requiresNativeTap=!0,this.allowDocumentScroll_=!0;else if(r&&i.target&&void 0!==i.target.tagName){var n=i.target.tagName.toLowerCase();-1!==t.indexOf(n)&&(this.requiresNativeTap=!0)}else i.target&&void 0!==i.target.tagName&&"input"===i.target.tagName.toLowerCase()&&"range"===i.target.type&&(this.requiresNativeTap=!0);e.os.chrome||e.os.fennec||(this.isPanning_||this.requiresNativeTap?this.isScrollingVertical_&&this.demandVerticalScroll():(this.isScrolling&&!e.feat.nativeTouchScroll||!this.isScrolling)&&i.preventDefault())},demandVerticalScroll:function(){var e=this.scrollingEl_.scrollTop<=0;if(e)this.scrollingEl_.scrollTop=1;else{var t=this.scrollingEl_.scrollTop+this.scrollingEl_.clientHeight,i=t>=this.scrollingEl_.scrollHeight;i&&(this.scrollingEl_.scrollTop=this.scrollingEl_.scrollHeight-this.scrollingEl_.clientHeight-1)}},ignoreScrolling:function(e){return void 0===e.scrollWidth||void 0===e.clientWidth?!0:void 0===e.scrollHeight||void 0===e.clientHeight?!0:!1},allowsVerticalScroll:function(e,t){var i=t.overflowY;return"scroll"===i?!0:"auto"===i&&e.scrollHeight>e.clientHeight?!0:!1},allowsHorizontalScroll:function(e,t){var i=t.overflowX;return"scroll"===i?!0:"auto"===i&&e.scrollWidth>e.clientWidth?!0:!1},checkDOMTree:function(t,i){if(o&&this.panElementId===t.id)return this.isPanning_=!0,void 0;if(e.feat.nativeTouchScroll){if(this.ignoreScrolling(t))return;var s=window.getComputedStyle(t);if(this.allowsVerticalScroll(t,s))return this.isScrollingVertical_=!0,this.scrollingEl_=t,this.isScrolling=!0,void 0;this.allowsHorizontalScroll(t,s)&&(this.isScrollingVertical_=!1,this.scrollingEl_=null,this.isScrolling=!0)}var n=t===i;!n&&t.parentNode&&this.checkDOMTree(t.parentNode,i)},scrollEnded:function(e){null!==this.scrollTimeoutEl_&&(e&&this.scrollTimeoutEl_.removeEventListener("scroll",this.scrollEndedProxy_,!1),this.fireEvent("UIEvents","scrollend",this.scrollTimeoutEl_,!1,!1),this.scrollTimeoutEl_=null)},onTouchMove:function(t){var i=this.moved;return this.moved=!0,n&&(this.cY=t.touches[0].pageY-this.dY,this.cX=t.touches[0].pageX-this.dX),this.isPanning_?void 0:(this.isScrolling&&(i||this.fireEvent("UIEvents","scrollstart",this.scrollingEl_,!1,!1),this.speedY=(this.lastY-t.touches[0].pageY)/(t.timeStamp-this.lastTimestamp),this.lastY=t.touches[0].pageY,this.lastX=t.touches[0].pageX,this.lastTimestamp=t.timeStamp),e.os.blackberry10?void 0:(this.isScrolling&&e.feat.nativeTouchScroll||t.preventDefault(),void 0))},onTouchEnd:function(t){var i=this.moved;if(n&&(i=i&&!(Math.abs(this.cX)<10&&Math.abs(this.cY)<10)),e.os.ios&&this.requiresNativeTap||(this.allowDocumentScroll_=!1),this.isPanning_&&i)this.wasPanning_=!0;else if(i||this.requiresNativeTap)i&&(this.isScrolling&&(this.scrollTimeoutEl_=this.scrollingEl_,Math.abs(this.speedY)<.01?this.scrollEnded(!1):this.scrollTimeout_=setTimeout(this.scrollTimeoutExpireProxy_,30)),this.requiresNativeTap&&(this.isFocused_||e.trigger(this,"cancel-enter-edit",[t.target])));else{if(this.scrollerIsScrolling=!1,!this.trackingClick)return;if(t.preventDefault(),!this.blockClicks&&!this.blockPossibleClick_){var s=t.target,r=t.changedTouches?t.changedTouches[0]:t.touches[0];3===s.nodeType&&(s=s.parentNode),this.fireEvent("Event","click",s,!0,t.mouseToTouch,r[0]),this.lastTouchStartX=this.dX,this.lastTouchStartY=this.dY}}e.os.blackberry10&&(this.lastTouchStartX=this.dX,this.lastTouchStartY=this.dY),this.clearTouchVars()},clearTouchVars:function(){this.speedY=this.lastY=this.cY=this.cX=this.dX=this.dY=0,this.moved=!1,this.isPanning_=!1,this.isScrolling=!1,this.isScrollingVertical_=!1,this.requiresNativeTap=!1,this.blockPossibleClick_=!1,this.trackingClick=!1},fireEvent:function(t,i,s,n,r,o){var l=document.createEvent(t);l.initEvent(i,n,!0),o&&e.each(o,function(e,t){l.key=t}),r&&(l.mouseToTouch=!0),s.dispatchEvent(l)}}}(af),function(e){"use strict";e.fn.popup=function(e){return new i(this[0],e)};var t=[],i=function(){var i=function(i,s){if(this.container="string"==typeof i||i instanceof String?document.getElementById(i):i,!this.container)return window.alert("Error finding container for popup "+i),void 0;try{("string"==typeof s||"number"==typeof s)&&(s={message:s,cancelOnly:"true",cancelText:"OK"}),this.id=s.id=s.id||e.uuid(),this.addCssClass=s.addCssClass?s.addCssClass:"",this.suppressTitle=s.suppressTitle||this.suppressTitle,this.title=s.suppressTitle?"":s.title||"Alert",this.message=s.message||"",this.cancelText=s.cancelText||"Cancel",this.cancelCallback=s.cancelCallback||function(){},this.cancelClass=s.cancelClass||"button",this.doneText=s.doneText||"Done",this.doneCallback=s.doneCallback||function(){},this.doneClass=s.doneClass||"button",this.cancelOnly=s.cancelOnly||!1,this.onShow=s.onShow||function(){},this.autoCloseDone=void 0!==s.autoCloseDone?s.autoCloseDone:!0,t.push(this),1===t.length&&this.show()}catch(n){console.log("error adding popup "+n)}};return i.prototype={id:null,addCssClass:null,title:null,message:null,cancelText:null,cancelCallback:null,cancelClass:null,doneText:null,doneCallback:null,doneClass:null,cancelOnly:!1,onShow:null,autoCloseDone:!0,suppressTitle:!1,show:function(){var t=this,i="<div id='"+this.id+"' class='afPopup hidden "+this.addCssClass+"'>"+"<header>"+this.title+"</header>"+"<div>"+this.message+"</div>"+"<footer>"+"<a href='javascript:;' class='"+this.cancelClass+"' id='cancel'>"+this.cancelText+"</a>"+"<a href='javascript:;' class='"+this.doneClass+"' id='action'>"+this.doneText+"</a>"+"<div style='clear:both'></div>"+"</footer>"+"</div>";e(this.container).append(e(i));var s=e.query("#"+this.id);s.bind("close",function(){t.hide()}),this.cancelOnly&&(s.find("A#action").hide(),s.find("A#cancel").addClass("center")),s.find("A").each(function(){var i=e(this);i.bind("click",function(e){"cancel"===i.attr("id")?(t.cancelCallback.call(t.cancelCallback,t),t.hide()):(t.doneCallback.call(t.doneCallback,t),t.autoCloseDone&&t.hide()),e.preventDefault()})}),t.positionPopup(),e.blockUI(.5),s.bind("orientationchange",function(){t.positionPopup()}),s.find("header").show(),s.find("footer").show(),setTimeout(function(){s.removeClass("hidden"),t.onShow(t)},50)},hide:function(){var t=this;e.query("#"+t.id).addClass("hidden"),e.unblockUI(),e.os.ie||e.os.android?t.remove():setTimeout(function(){t.remove()},250)},remove:function(){var i=this,s=e.query("#"+i.id);s.unbind("close"),s.find("BUTTON#action").unbind("click"),s.find("BUTTON#cancel").unbind("click"),s.unbind("orientationchange").remove(),t.splice(0,1),t.length>0&&t[0].show()},positionPopup:function(){var t=e.query("#"+this.id);t.css("top",window.innerHeight/2.5+window.pageYOffset-t[0].clientHeight/2+"px"),t.css("left",window.innerWidth/2-t[0].clientWidth/2+"px")}},i}(),s=!1;e.blockUI=function(t){s||(t=t?" style='opacity:"+t+";'":"",e.query("BODY").prepend(e("<div id='mask'"+t+"></div>")),e.query("BODY DIV#mask").bind("touchstart",function(e){e.preventDefault()}),e.query("BODY DIV#mask").bind("touchmove",function(e){e.preventDefault()}),s=!0)},e.unblockUI=function(){s=!1,e.query("BODY DIV#mask").unbind("touchstart"),e.query("BODY DIV#mask").unbind("touchmove"),e("BODY DIV#mask").remove()}}(af),function(e){"use strict";var t=window.location.pathname+window.location.search,i=window.location.hash,s=i,n=function(){function t(){if(i.useOSThemes&&(e("#afui").removeClass("ios,ios7,win8,tizen,bb,android,light,dark"),e.os.android?e("#afui").addClass("android"):e.os.ie?(e("#afui").addClass("win8"),e("head").append(e.create("script",{src:"plugins/af.8tiles.js"}))):e.os.blackberry||e.os.blackberry10||e.os.playbook?(e("#afui").addClass("bb"),i.backButtonText="Back"):e.os.ios7?e("#afui").addClass("ios7"):e.os.ios?e("#afui").addClass("ios"):e.os.tizen&&e("#afui").addClass("tizen")),e.os.ios){e("head").find("#iosBlurrHack").remove();var t="-webkit-backface-visibility: hidden;";t+="-webkit-perspective:1000;",e("head").append("<style id='iosBlurrHack'>#afui .y-scroll > *, #afui .x-scroll > * {"+t+"}</style>")}else e.os.anroid&&!e.os.androidICS?i.transitionTime="150ms":e.os.fennec&&i.ready(function(){window.addEventListener("deviceorientation",function(){var t=numOnly(e("#header").height())+numOnly(e("#navbar").height());e("#content").css("height",window.innerHeight-t)})})}var i=this;this.availableTransitions={},this.availableTransitions["default"]=this.availableTransitions.none=this.noTransition,("function"==typeof define&&define.amd||"undefined"!=typeof module&&module.exports)&&(i.autoLaunch=!1),1===e("#afui").length&&t();var s=function(){var s=document.getElementById("afui");if(null===s){s=document.createElement("div"),s.id="afui";for(var n=document.body;n&&n.firstChild;)s.appendChild(n.firstChild);e(document.body).prepend(s)}i.isIntel="intel"in window&&window.intel&&window.intel.xdk&&"app"in window.intel.xdk,e.os.supportsTouch&&e.touchLayer(s),t()};"complete"===document.readyState||"loaded"===document.readyState?(s(),i.init?i.autoBoot():e(window).one("afui:init",function(){i.autoBoot()})):e(document).ready(function(){s(),i.init?i.autoBoot():e(window).one("afui:init",function(){i.autoBoot()})},!1),"intel"in window||(window.intel={xdk:{}},window.intel.xdk.webRoot=""),window.addEventListener("popstate",function(){if(i.useInternalRouting){var e=i.getPanelId(document.location.hash),t=document.location.href.replace(document.location.origin+"/","");"#"!==t&&(""===e&&1===i.history.length&&(e="#"+i.firstDiv.id),""!==e&&0!==af(e).filter(".panel").length&&e!=="#"+i.activeDiv.id&&i.goBack())}},!1)};n.prototype={init:!1,transitionTime:"230ms",showLoading:!0,loadingText:"Loading Content",loadContentQueue:[],isIntel:!1,titlebar:"",navbar:"",header:"",viewportContainer:"",remotePages:{},history:[],homeDiv:"",screenWidth:"",content:"",modalWindow:"",customFooter:!1,defaultFooter:"",defaultHeader:null,customMenu:!1,customAside:!1,defaultAside:"",defaultMenu:"",_readyFunc:null,doingTransition:!1,passwordBox:e.passwordBox?new e.passwordBox:!1,selectBox:e.selectBox?e.selectBox:!1,ajaxUrl:"",transitionType:"slide",scrollingDivs:{},firstDiv:"",hasLaunched:!1,isLaunching:!1,launchCompleted:!1,activeDiv:"",customClickHandler:"",menuAnimation:null,togglingSideMenu:!1,sideMenuWidth:"200px",handheldMinWidth:"768",trimBackButtonText:!0,useOSThemes:!0,lockPageBounce:!1,animateHeaders:!0,useAutoPressed:!0,horizontalScroll:!1,_currentHeaderID:"defaultHeader",useInternalRouting:!0,autoBoot:function(){this.hasLaunched=!0;
var t=this;this.autoLaunch&&(this.isIntel?e(document).one("intel.xdk.device.ready",function(){t.launch()}):this.launch())},css3animate:function(t,i){return t=e(t),t.css3Animate(i)},dispatchPanelEvent:function(e,t){if("string"==typeof e&&window[e])return window[e](t);if(-1!==e.indexOf(".")){var i=window,s=e.split("."),n=s.length,r=0;for(r;n-1>r;r++)if(i=i[s[r]],void 0===i)return;return i[s[r]](t)}},enableTabBar:function(){e(document).on("click",".button-grouped.tabbed",function(t){var i=e(t.target);i.closest(".tabbed").find(".button").data("ignore-pressed","true").removeClass("pressed"),i.closest(".button").addClass("pressed"),setTimeout(function(){i.closest(".button").addClass("pressed")})})},disableTabBar:function(){e(document).off("click",".button-grouped.tabbed"),e(".button-grouped.tabbed .button").removeAttr("data-ignore-pressed")},setLeftSideMenuWidth:function(t){this.sideMenuWidth=t,t+="",t=t.replace("px","")+"px";var i=numOnly(window.innerWidth)-numOnly(t);e("head").find("style#afui_sideMenuWidth").remove();var s="@media handheld, only screen and (min-width: 768px) {#afui > #navbar.hasMenu.splitview, #afui > #header.hasMenu.splitview, #afui > #content.hasMenu.splitview  {    margin-left:"+t+" !important;"+"    width: "+i+"px !important;"+"}"+"}"+"#afui #menu {width:"+t+"  !important}";e("head").append("<style id='afui_sideMenuWidth'>"+s+"</style>")},setSideMenuWidth:function(){this.setLeftSideMenuWidth.apply(this,arguments)},setRightSideMenuWidth:function(t){this.sideMenuWidth=t,t+="",t=t.replace("px","")+"px",e("head").find("style#afui_asideMenuWidth").remove(),e("head").append("<style id='afui_asideMenuWidth'>#afui #aside_menu {width:"+t+"  !important}</style>")},disableNativeScrolling:function(){e.feat.nativeTouchScroll=!1},manageHistory:!0,loadDefaultHash:!0,useAjaxCacheBuster:!1,actionsheet:function(t){return e.query("#afui").actionsheet(t)},popup:function(t){return e.query("#afui").popup(t)},blockUI:function(t){e.blockUI(t)},unblockUI:function(){e.unblockUI()},removeFooterMenu:function(){e.query("#navbar").hide(),this.showNavMenu=!1},showNavMenu:!0,autoLaunch:!0,showBackbutton:!0,showBackButton:!0,backButtonText:"",resetScrollers:!0,ready:function(t){this.launchCompleted?t():e(document).on("afui:ready",function(){t()})},setBackButtonStyle:function(t){e.query("#header .backButton").get(0).className=t},goBack:function(e){if(e=Math.min(Math.abs(~~e||1),this.history.length)){var t=this.history.splice(-e).shift();this.loadContent(t.target+"",0,1,t.transition),this.transitionType=t.transition,this.updateHash(t.target)}},clearHistory:function(){this.history=[],this.setBackButtonVisibility(!1)},pushHistory:function(i,s,n,r){this.history.push({target:i,transition:n});try{if(!this.manageHistory)return;window.history.pushState(s,s,t+"#"+s+r),e(window).trigger("hashchange",null,{newUrl:t+"#"+s+r,oldUrl:t+i})}catch(o){}},updateHash:function(i){if(this.manageHistory){i=-1===i.indexOf("#")?"#"+i:i,s=i;var n=window.location.hash,r=this.getPanelId(i).substring(1);try{window.history.replaceState(r,r,t+i),e(window).trigger("hashchange",null,{newUrl:t+i,oldUrl:t+n})}catch(o){}}},getPanelId:function(e){var t=e.indexOf("/");return-1===t?e:e.substring(0,t)},updateBadge:function(t,i,s,n){void 0===s&&(s="");var r=e(t),o=r.find("span.af-badge");0===o.length?("absolute"!==r.css("position")&&r.css("position","relative"),o=e.create("span",{className:"af-badge "+s,html:i}),r.append(o)):o.html(i),o.removeClass("tl bl br tr"),o.addClass(s),void 0===n&&(n="red"),e.isObject(n)?o.css(n):n&&o.css("background",n),o.data("ignore-pressed","true")},removeBadge:function(t){e(t).find("span.af-badge").remove()},toggleNavMenu:function(t){this.showNavMenu&&("none"!==e.query("#navbar").css("display")&&(void 0!==t&&t!==!0||void 0===t)?e.query("#navbar").hide():(void 0===t||void 0!==t&&t===!0)&&e.query("#navbar").show())},toggleHeaderMenu:function(t){"none"!==e.query("#header").css("display")&&(void 0!==t&&t!==!0||void 0===t)?e.query("#header").hide():(void 0===t||void 0!==t&&t===!0)&&e.query("#header").show()},toggleAsideMenu:function(){this.toggleRightSideMenu.apply(this,arguments)},toggleRightSideMenu:function(e,t,i){return this.isAsideMenuEnabled()?this.toggleLeftSideMenu(e,t,i,!0):void 0},toggleLeftSideMenu:function(t,i,s,n){if(!(!this.isSideMenuEnabled()&&!this.isAsideMenuEnabled()||this.togglingSideMenu||!n&&!this.isSideMenuEnabled()||!n&&e.ui.splitview&&window.innerWidth>=e.ui.handheldMinWidth)){var r=this,o=e.query("#menu"),l=e.query("#aside_menu"),a=e.query("#content,  #header, #navbar"),h=e.query(".afui_panel_mask");s=s||this.transitionTime;var c=this.isSideMenuOn(),d=n?"-"+l.width():o.width();0===h.length&&window.innerWidth<e.ui.handheldMinWidth&&(a.append("<div class='afui_panel_mask'></div>"),h=e.query(".afui_panel_mask"),e(".afui_panel_mask").bind("click",function(){e.ui.toggleSideMenu(!1,null,null,n)}));var u=this.getSideMenuPosition();c&&!n&&0>u?c=!1:c&&n&&u>0&&(c=!1),2===t||!c&&(void 0!==t&&t!==!1||void 0===t)?(this.togglingSideMenu=!0,n?l.show():o.show(),r.css3animate(a,{x:d,time:s,complete:function(t){r.togglingSideMenu=!1,a.vendorCss("Transition",""),i&&i(t),0!==h.length&&window.innerWidth<e.ui.handheldMinWidth&&h.show()}})):(void 0===t||void 0!==t&&t===!1)&&(this.togglingSideMenu=!0,r.css3animate(a,{x:"0px",time:s,complete:function(t){a.vendorCss("Transition",""),a.vendorCss("Transform",""),r.togglingSideMenu=!1,i&&i(t),e.ui.splitview||o.hide(),l.hide(),0!==h.length&&window.innerWidth<e.ui.handheldMinWidth&&h.hide()}}))}},toggleSideMenu:function(){this.toggleLeftSideMenu.apply(this,arguments)},disableSideMenu:function(){this.disableLeftSideMenu()},disableLeftSideMenu:function(){var t=e.query("#content, #header, #navbar");this.isSideMenuOn()?this.toggleSideMenu(!1,function(e){e||t.removeClass("hasMenu")}):t.removeClass("hasMenu")},enableLeftSideMenu:function(){e.query("#content, #header, #navbar").addClass("hasMenu")},enableSideMenu:function(){return this.enableLeftSideMenu()},disableRightSideMenu:function(){var t=e.query("#content, #header, #navbar");this.isSideMenuOn()?this.toggleSideMenu(!1,function(e){e||t.removeClass("hasAside")}):t.removeClass("hasAside")},enableRightSideMenu:function(){e.query("#content, #header, #navbar").addClass("hasAside")},isSideMenuEnabled:function(){return e.query("#content").hasClass("hasMenu")},isAsideMenuEnabled:function(){return e.query("#content").hasClass("hasAside")},isSideMenuOn:function(){var e=0!==this.getSideMenuPosition()?!0:!1;return(this.isSideMenuEnabled()||this.isAsideMenuEnabled)&&e},getSideMenuPosition:function(){return numOnly(parseFloat(e.getCssMatrix(e("#content")).e))},splitview:!0,disableSplitView:function(){e.query("#content, #header, #navbar, #menu").removeClass("splitview"),this.splitview=!1},prevFooter:null,updateNavbarElements:function(t){this.prevFooter&&(this.prevFooter.data("parent")?this.prevFooter.appendTo("#"+this.prevFooter.data("parent")):this.prevFooter.appendTo("#afui")),e.is$(t)||(t=e.query("#"+t)),e.query("#navbar").append(t),this.prevFooter=t;var i=e.query("#navbar > footer > a:not(.button)");if(i.length>0){i.data("ignore-pressed","true").data("resetHistory","true");var s=parseFloat(100/i.length);i.css("width",s+"%")}var n=e.query("#navbar footer");if(0!==n.length){n=n.get(0).childNodes;for(var r=0;r<n.length;r++)3===n[r].nodeType&&n[r].parentNode.removeChild(n[r])}},prevHeader:null,updateHeaderElements:function(t,i){var s=this;if(e.is$(t)||(t=e.query("#"+t)),t!==this.prevHeader)if(this._currentHeaderID=t.prop("id"),this.prevHeader){if(e.query("#header").append(t),!e.ui.animateHeaders)return s.prevHeader.data("parent")?s.prevHeader.appendTo("#"+s.prevHeader.data("parent")):s.prevHeader.appendTo("#afui"),s.prevHeader=t,void 0;var n=i?"100px":"-100px",r=i?"-100px":"100px";s.prevHeader.addClass("ignore"),s.css3animate(t,{x:r,opacity:.3,time:"1ms"}),s.css3animate(s.prevHeader,{x:n,y:0,opacity:.3,time:s.transitionTime,delay:numOnly(s.transitionTime)/5+"ms",complete:function(){s.prevHeader.data("parent")?s.prevHeader.appendTo("#"+s.prevHeader.data("parent")):s.prevHeader.appendTo("#afui"),s.prevHeader.removeClass("ignore"),s.css3animate(s.prevHeader,{x:r,opacity:1,time:"1ms"}),s.prevHeader=t}}),s.css3animate(t,{x:"0px",opacity:1,time:s.transitionTime})}else e.query("#header").append(t),this.prevHeader=t},previAsideMenu:null,updateAsideElements:function(){return this.updateRightSideMenuElements.apply(this,arguments)},updateRightSideMenuElements:function(t){if(void 0!==t&&null!==t){var i=e.query("#aside_menu_scroller");this.prevAsideMenu&&(this.prevAsideMenu.insertBefore("#afui #aside_menu"),this.prevAsideMenu=null),e.is$(t)||(t=e.query("#"+t)),e(t).attr("title")&&(e(t).prepend(e.create("header",{className:"header"}).append(e.create("h1",{html:e(t).attr("title")}).get(0))),e(t).removeAttr("title")),i.html(""),i.append(t),this.prevAsideMenu=t,this.scrollingDivs.aside_menu_scroller.hideScrollbars(),this.scrollingDivs.aside_menu_scroller.scrollToTop()}},updateSideMenu:function(e){return this.updateSideMenuElements(e)},updateSideMenuElements:function(){return this.updateLeftSideMenuElements.apply(this,arguments)},updateLeftSideMenuElements:function(t){if(void 0!==t&&null!==t){var i=e.query("#menu_scroller");this.prevMenu&&(this.prevMenu.insertBefore("#afui #menu"),this.prevMenu=null),e.is$(t)||(t=e.query("#"+t)),e(t).attr("title")&&(e(t).prepend(e.create("header",{className:"header"}).append(e.create("h1",{html:e(t).attr("title")}).get(0))),e(t).removeAttr("title")),i.html(""),i.append(t),this.prevMenu=t,this.scrollingDivs.menu_scroller.hideScrollbars(),this.scrollingDivs.menu_scroller.scrollToTop()}},setTitle:function(t){"defaultHeader"===this._currentHeaderID&&e.query("#header header:not(.ignore)  #pageTitle").html(t)},setBackButtonText:function(t){"defaultHeader"===this._currentHeaderID&&(this.trimBackButtonText&&t.length>=7&&(t=t.substring(0,5)+"..."),this.backButtonText.length>0?e.query("#header header:not(.ignore) .backButton").html(this.backButtonText):e.query("#header header:not(.ignore)  .backButton").html(t))},setBackButtonVisibility:function(t){t?e.query("#header .backButton").css("visibility","visible"):e.query("#header .backButton").css("visibility","hidden")},showMask:function(t){t||(t=this.loadingText||""),e.query("#afui_mask>h1").html(t),e.query("#afui_mask").show()},hideMask:function(){e.query("#afui_mask").hide()},modalReference_:null,showModal:function(t,i){var s=this;this.modalTransition=i||"up";var n=e.query("#modalContainer");"string"==typeof t&&(t="#"+t.replace("#",""));var r=e.query(t);this.modalReference_=r;var o=e.query("#afui_modal");if(r.length){var l,a=this.scrollingDivs.hasOwnProperty(r.attr("id"));if(e.feat.nativeTouchScroll||e.os.desktop||!a?(l=r.contents(),n.append(l)):(l=e(r.get(0).childNodes[0]).contents(),n.children().eq(0).append(l)),this.runTransition(this.modalTransition,s.modalTransContainer,s.modalWindow,!1),e(s.modalWindow).css("display",""),e(s.modalWindow).addClass("display","flexContainer"),a?this.scrollingDivs.modal_container.enable(s.resetScrollers):this.scrollingDivs.modal_container.disable(),n.addClass("panel").show(),"none"===r.data("header")?o.find("#modalHeader").hide():l.filter("header").length>0?o.find("#modalHeader").append(l.filter("header")).show():o.find("#modalHeader").append(e.create("header",{className:"header"}).append(e.create("h1",{html:r.data("title")}).get(0)).append(e.create("a",{className:"button icon close"}).attr("onclick","$.ui.hideModal()").get(0))).show(),"none"===r.data("footer"))o.find("#modalFooter").hide();else if(l.filter("footer").length>0){o.find("#modalFooter").append(l.filter("footer")).show();var h=e.query("#modalFooter > footer > a:not(.button)");if(h.length>0){var c=parseFloat(100/h.length);h.css("width",c+"%")}var d=e.query("#modalFooter footer");if(0===d.length)return;d=d.get(0).childNodes;for(var u=0;u<d.length;u++)3===d[u].nodeType&&d[u].parentNode.removeChild(d[u])}else o.find("#modalFooter").hide();this.scrollToTop("modal"),n.data("panel",t);var f=r.get(0),p=f.getAttribute("data-load");p&&this.dispatchPanelEvent(p,f),r.trigger("loadpanel")}},hideModal:function(){var t=this,i=e.query("#modalContainer"),s=this.scrollingDivs.hasOwnProperty(this.modalReference_.attr("id"));this.runTransition(t.modalTransition,t.modalWindow,t.modalTransContainer,!0),this.scrollingDivs.modal_container.disable();var n=e.query(i.data("panel")),r=n.data("unload");r&&this.dispatchPanelEvent(r,n.get(0)),n.trigger("unloadpanel"),setTimeout(function(){e.feat.nativeTouchScroll||e.os.desktop||!s?(t.modalReference_.append(e("#modalHeader header")),t.modalReference_.append(i.contents()),t.modalReference_.append(e("#modalFooter footer"))):(t.modalReference_.children().eq(0).append(e("#modalHeader header")),e(t.modalReference_.get(0).childNodes[0]).append(i.children().eq(0).contents()),t.modalReference_.children().eq(0).append(e("#modalFooter footer")))},this.transitionTime)},updatePanel:function(t,i){t="#"+t.replace("#","");var s=e.query(t).get(0);if(s){var n=e.create("div",{html:i});if(n=n.children(".panel")&&n.children(".panel").length>0?n.children(".panel").get(0):n.get(0),!s.getAttribute("js-scrolling")||"yes"!==s.getAttribute("js-scrolling").toLowerCase()&&"true"!==s.getAttribute("js-scrolling").toLowerCase()){e.cleanUpContent(s,!1,!0),e(s).html(i);var r=this.scrollingDivs[s.id];r&&r.refresh&&r.addPullToRefresh()}else e.cleanUpContent(s.childNodes[0],!1,!0),e(s.childNodes[0]).html(i);n.getAttribute("data-title")&&s.setAttribute("data-title",n.getAttribute("data-title"))}},updateContentDiv:function(e,t){return this.updatePanel(e,t)},addContentDiv:function(t,i,s,n,r){t="string"!=typeof t?t:-1===t.indexOf("#")?"#"+t:t;var o,l,a=e.query(t).get(0);return a?o=a:(o=e.create("div",{html:i}),o=o.children(".panel")&&o.children(".panel").length>0?o.children(".panel").get(0):o.get(0),!o.getAttribute("data-title")&&s&&o.setAttribute("data-title",s),l=o.id?o.id:t.replace("#",""),o.id=l,o.id!==t&&o.setAttribute("data-crc",t.replace("#",""))),o.className="panel",l=o.id,this.addDivAndScroll(o,n,r),a=null,o=null,l},addDivAndScroll:function(t,i,s,n){var r,o=this,l=!1,a=t.style.overflow,h="hidden"!==a&&"visible"!==a;n=n||this.content,e.feat.nativeTouchScroll||!h||e.os.desktop||t.setAttribute("js-scrolling","true"),!t.getAttribute("js-scrolling")||"yes"!==t.getAttribute("js-scrolling").toLowerCase()&&"true"!==t.getAttribute("js-scrolling").toLowerCase()||(l=!0,h=!0);var c=t.getAttribute("data-title")||t.title;return t.title="",t.setAttribute("data-title",c),(e(t).hasClass("no-scroll")||t.getAttribute("scrolling")&&"no"===t.getAttribute("scrolling"))&&(h=!1,l=!1,t.removeAttribute("js-scrolling")),l?(r=t,n.appendChild(t),this.selectBox!==!1&&this.selectBox.getOldSelects(r.id),this.passwordBox!==!1&&this.passwordBox.getOldPasswords(r.id)):(n.appendChild(t),r=t,t.style["-webkit-overflow-scrolling"]="none"),h&&(this.scrollingDivs[r.id]=e(t).scroller({scrollBars:!0,verticalScroll:!0,horizontalScroll:o.horizontalScroll,vScrollCSS:"afScrollbar",refresh:i,useJsScroll:l,lockBounce:this.lockPageBounce,autoEnable:!1}),e(t).addClass("y-scroll"),o.horizontalScroll&&e(t).addClass("x-scroll"),s&&e.bind(this.scrollingDivs[r.id],"refresh-release",function(e){e&&s()}),l&&e(t).children().eq(0).addClass("afScrollPanel")),r.id},scrollToTop:function(e,t){t=t||"300ms",e=e.replace("#",""),this.scrollingDivs[e]&&this.scrollingDivs[e].scrollToTop(t)},scrollToBottom:function(e,t){e=e.replace("#",""),this.scrollingDivs[e]&&this.scrollingDivs[e].scrollToBottom(t)},parsePanelFunctions:function(t,i,s){var n=this,r=t.getAttribute("data-footer"),o=t.getAttribute("data-header");r&&"none"===r.toLowerCase()?(n.toggleNavMenu(!1),r=!1):n.toggleNavMenu(!0),r&&n.customFooter!==r?(n.customFooter=r,n.updateNavbarElements(r)):r!==n.customFooter&&(n.customFooter&&n.updateNavbarElements(n.defaultFooter),n.customFooter=!1),o&&"none"===o.toLowerCase()?(n.toggleHeaderMenu(!1),o=!1):n.toggleHeaderMenu(!0),o&&n.customHeader!==o?(n.customHeader=o,n.updateHeaderElements(o,s)):o!==n.customHeader&&(n.customHeader&&n.updateHeaderElements(n.defaultHeader,s),n.customHeader=!1);var l=e(t).find("footer");l.length>0&&(n.customFooter=t.id,l.data("parent",t.id),n.updateNavbarElements(l));var a=e(t).find("header");a.length>0&&(n.customHeader=t.id,a.data("parent",t.id),n.updateHeaderElements(a,s)),t.getAttribute("data-tab")&&(e.query("#navbar>footer>a:not(.button)").removeClass("pressed"),e.query("#navbar #"+t.getAttribute("data-tab")).addClass("pressed"));var h=t.getAttribute("data-left-menu")||t.getAttribute("data-nav");h&&this.customMenu!==h?(this.customMenu=h,this.updateSideMenuElements(h)):h!==this.customMenu&&(this.customMenu&&this.updateSideMenuElements(this.defaultMenu),this.customMenu=!1);var c=t.getAttribute("data-right-menu")||t.getAttribute("data-aside");c&&this.customAside!==c?(this.customAside=c,this.updateAsideElements(c)):c!==this.customAside&&(this.customAside&&this.updateAsideElements(this.defaultAside),this.customAside=!1),i&&(d=i.getAttribute("data-unload"),d&&this.dispatchPanelEvent(d,i),e(i).trigger("unloadpanel"));var d=t.getAttribute("data-load");d&&this.dispatchPanelEvent(d,t),e(t).trigger("loadpanel"),this.isSideMenuOn()&&n.toggleSideMenu(!1)},parseScriptTags:function(t){t&&e.parseJS(t)},loadContent:function(t,i,s,n,r){if(this.doingTransition)return this.loadContentQueue.push([t,i,s,n,r]),void 0;if(0!==t.length){var o=!0;if(r=r||document.createElement("a"),-1===t.indexOf("#")){var a="url"+l(t),h=e.query("div.panel[data-crc='"+a+"']");e.query("#"+t).length>0?o=!1:h.length>0?(o=!1,"true"===r.getAttribute("data-refresh-ajax")||r.refresh&&r.refresh===!0||this.isAjaxApp?o=!0:t="#"+h.get(0).id):e.query("#"+a).length>0&&(o=!1,"true"===r.getAttribute("data-refresh-ajax")||r.refresh&&r.refresh===!0||this.isAjaxApp?o=!0:t="#"+a)}-1===t.indexOf("#")&&o?this.loadAjax(t,i,s,n,r):this.loadDiv(t,i,s,n)}},loadDiv:function(t,i,n,r){var o=this,l=t.replace("#",""),a=l.indexOf("/"),h="";if(-1!==a&&(h=l.substr(a),l=l.substr(0,a)),l=e.query("#"+l).get(0),!l)return e(document).trigger("missingpanel",null,{missingTarget:t}),void 0;if(l===this.activeDiv&&!n)return this.isSideMenuOn()&&this.toggleSideMenu(!1),void 0;this.transitionType=r;var c=this.activeDiv,d=l;return"true"===l.getAttribute("data-modal")||"true"===l.getAttribute("modal")?this.showModal(l.id):(c!==d&&(i?(this.clearHistory(),this.pushHistory("#"+this.firstDiv.id,l.id,r,h)):n||this.pushHistory(s,l.id,r,h),s="#"+l.id+h,this.doingTransition=!0,c.style.display="block",d.style.display="block",this.runTransition(r,c,d,n),this.parsePanelFunctions(l,c,n),this.loadContentData(l,i,n,r),e.feat.nativeTouchScroll?setTimeout(function(){o.scrollingDivs[c.id]&&o.scrollingDivs[c.id].disable()},numOnly(o.transitionTime)+50):"undefined"!=typeof o.scrollingDivs[c.id]&&o.scrollingDivs[c.id].disable()),void 0)},loadContentData:function(t,i,s){var n,r,o,l;s?this.history.length>0&&(o=this.history[this.history.length-1],l=o.target.indexOf("/"),n=-1!==l?o.target.substr(0,l):o.target,r=e.query(n).get(0),r?this.setBackButtonText(r.getAttribute("data-title")):this.setBackButtonText("Back")):this.activeDiv.getAttribute("data-title")?this.setBackButtonText(this.activeDiv.getAttribute("data-title")):this.setBackButtonText("Back"),t.getAttribute("data-title")&&this.setTitle(t.getAttribute("data-title")),i&&(this.setBackButtonText(this.firstDiv.getAttribute("data-title")),t===this.firstDiv&&(this.history.length=0)),e("#header #menubadge").css("float","right"),0===this.history.length?(this.setBackButtonVisibility(!1),this.history=[],e("#header #menubadge").css("float","left")):this.showBackButton&&this.showBackbutton&&this.setBackButtonVisibility(!0),this.activeDiv=t,this.scrollingDivs[this.activeDiv.id]&&this.scrollingDivs[this.activeDiv.id].enable(this.resetScrollers)},loadAjax:function(t,i,s,n,r){if("afui_ajax"!==this.activeDiv.id||t!==this.ajaxUrl){var o="url"+l(t),a=this;-1===t.indexOf("http")&&(t=intel.xdk.webRoot+t);var h=new XMLHttpRequest;r&&"object"!=typeof r&&(r=document.createElement("a"),r.setAttribute("data-persist-ajax",!0)),r=r||document.createElement("a"),h.onreadystatechange=function(){if(4===h.readyState&&200===h.status){this.doingTransition=!1;var l,c=!1,d=e.query("#"+o);if(d.length>0)a.updatePanel(o,h.responseText),d.get(0).setAttribute("data-title",r.title?r.title:t);else if(r.getAttribute("data-persist-ajax")||a.isAjaxApp){var u="true"===r.getAttribute("data-pull-scroller")?!0:!1;l=u?function(){r.refresh=!0,a.loadContent(t,i,s,n,r),r.refresh=!1}:null;var f=e(h.responseText);f.hasClass("panel")?(o=f.attr("id"),f=f.get(0).innerHTML):f=f.html(),e("#"+o).length>0?a.updatePanel("#"+o,f):e("div.panel[data-crc='"+o+"']").length>0?(a.updatePanel(e("div.panel[data-crc='"+o+"']").get(0).id,f),o=e("div.panel[data-crc='"+o+"']").get(0).id):o=a.addContentDiv(o,h.responseText,r.title?r.title:t,u,l)}else a.updatePanel("afui_ajax",h.responseText),e.query("#afui_ajax").get(0).setAttribute("data-title",r.title?r.title:t),a.loadContent("#afui_ajax",i,s,n),c=!0;var p=document.createElement("div");return e(p).html(h.responseText),a.parseScriptTags(p),c?(a.showLoading&&a.hideMask(),void 0):(a.loadContent("#"+o,i,s,n),a.showLoading&&a.hideMask(),null)}4===h.readyState&&e.ui.hideMask()},this.ajaxUrl=t;var c=this.useAjaxCacheBuster?t+(t.split("?")[1]?"&":"?")+"cache="+1e16*Math.random():t;h.open("GET",c,!0),h.setRequestHeader("X-Requested-With","XMLHttpRequest"),h.send(),this.showLoading&&this.showMask()}},runTransition:function(e,t,i,s){this.availableTransitions[e]||(e="default"),"none"===t.style.display&&(t.style.display="block"),"none"===i.style.display&&(i.style.display="block"),this.availableTransitions[e].call(this,t,i,s)},launch:function(){if(this.hasLaunched===!1||this.launchCompleted)return this.hasLaunched=!0,void 0;if(this.isLaunching)return!0;this.isLaunching=!0;var t=this;this.viewportContainer=af.query("#afui"),this.navbar=af.query("#navbar").get(0),this.content=af.query("#content").get(0),this.header=af.query("#header").get(0),this.menu=af.query("#menu").get(0),this.viewportContainer.on("click","a",function(e){t.useInternalRouting&&r(e,e.currentTarget)});var n=null;e.bind(e.touchLayer,"enter-edit",function(e){n=e}),e.os.android&&!e.os.androidICS&&(e.bind(e.touchLayer,"enter-edit-reshape",function(){var i=e(n),s=i.closest(t.activeDiv);if(s&&s.size()>0){var r=i.offset(),o=s.offset();r.bottom>o.bottom&&r.height<o.height&&t.scrollingDivs[t.activeDiv.id].scrollToItem(i,"bottom")}}),e.bind(e.touchLayer,"exit-edit-reshape",function(){t.activeDiv&&t.activeDiv.id&&t.scrollingDivs.hasOwnProperty(t.activeDiv.id)&&t.scrollingDivs[t.activeDiv.id].setPaddings(0,0)})),this.navbar||(this.navbar=e.create("div",{id:"navbar"}).get(0),this.viewportContainer.append(this.navbar)),this.header||(this.header=e.create("div",{id:"header"}).get(0),this.viewportContainer.prepend(this.header)),this.content||(this.content=e.create("div",{id:"content"}).get(0),e(this.content).insertAfter(this.header)),this.menu||(this.menu=e.create("div",{id:"menu",html:"<div id='menu_scroller'></div>"}).get(0),this.viewportContainer.append(this.menu),this.menu.style.overflow="hidden",this.scrollingDivs.menu_scroller=e.query("#menu_scroller").scroller({scrollBars:!0,verticalScroll:!0,vScrollCSS:"afScrollbar",useJsScroll:!e.feat.nativeTouchScroll,autoEnable:!0,lockBounce:this.lockPageBounce,hasParent:!0}),e.feat.nativeTouchScroll&&e.query("#menu_scroller").css("height","100%"),this.asideMenu=e.create("div",{id:"aside_menu",html:"<div id='aside_menu_scroller'></div>"}).get(0),this.viewportContainer.append(this.asideMenu),this.asideMenu.style.overflow="hidden",this.scrollingDivs.aside_menu_scroller=e.query("#aside_menu_scroller").scroller({scrollBars:!0,verticalScroll:!0,vScrollCSS:"afScrollbar",useJsScroll:!e.feat.nativeTouchScroll,autoEnable:!0,lockBounce:this.lockPageBounce,hasParent:!0}),e.feat.nativeTouchScroll&&e.query("#aside_menu_scroller").css("height","100%")),e(this.header).html("<a class='backButton button'></a> <h1 id='pageTitle'></h1>"+this.header.innerHTML),this.backButton=e.query("#header .backButton").css("visibility","hidden"),e(document).on("click","#header .backButton",function(e){e.preventDefault(),t.goBack()}),this.titlebar=e.query("#header #pageTitle").get(0),this.addContentDiv("afui_ajax","");var o=e.create("div",{id:"afui_mask",className:"ui-loader",html:"<span class='ui-icon ui-icon-loading spin'></span><h1>Loading Content</h1>"}).css({"z-index":2e4,display:"none"});document.body.appendChild(o.get(0));var l=e.create("div",{id:"afui_modal"}).get(0);e(l).hide(),l.appendChild(e.create("div",{id:"modalHeader",className:"header"}).get(0)),l.appendChild(e.create("div",{id:"modalContainer"}).get(0)),l.appendChild(e.create("div",{id:"modalFooter",className:"footer"}).get(0)),this.modalTransContainer=e.create("div",{id:"modalTransContainer"}).appendTo(l).get(0),this.viewportContainer.append(l),this.scrollingDivs.modal_container=e.query("#modalContainer").scroller({scrollBars:!0,vertical:!0,vScrollCSS:"afScrollbar",lockBounce:this.lockPageBounce}),this.modalWindow=l;for(var a={},h=this.viewportContainer.get(0).querySelectorAll(".panel"),c=0;c<h.length;c++){var d=h[c],u=d,f=d.previousSibling;d.parentNode&&"content"!==d.parentNode.id?(u.getAttribute("selected")&&(this.firstDiv=d),this.addDivAndScroll(u),e.query("#content").append(d)):d.parsedContent||(d.parsedContent=1,u.getAttribute("selected")&&(this.firstDiv=d),this.addDivAndScroll(d),e(d).insertAfter(f)),d.getAttribute("data-defer")&&(a[d.id]=d.getAttribute("data-defer")),this.firstDiv||(this.firstDiv=d),d=null}h=null;var p=!1,m=Object.keys(a).length,g=function(i){e.ajax({url:intel.xdk.webRoot+a[i],success:function(s){s.length>0&&(t.updatePanel(i,s),t.parseScriptTags(e.query("#"+i).get(0))),v++,v>=m&&(p=!1,e(document).trigger("defer:loaded"))},error:function(){console.log("Error with deferred load "+intel.xdk.webRoot+a[i]),v++,v>=m&&(p=!1,e(document).trigger("defer:loaded"))}})};if(m>0){p=!0;var v=0;for(var y in a)g(y)}if(this.firstDiv){this.activeDiv=this.firstDiv,this.scrollingDivs[this.activeDiv.id]&&this.scrollingDivs[this.activeDiv.id].enable();var b=function(){e.query("#navbar").append(e.create("footer",{id:"defaultNav"}).append(e.query("#navbar").children())),t.defaultFooter="defaultNav",t.prevFooter=e.query("#defaultNav"),t.updateNavbarElements(t.prevFooter);var n=e.query("nav").get(0);n&&(t.defaultMenu=e(n),t.updateSideMenuElements(t.defaultMenu),t.prevMenu=t.defaultMenu);var r=e.query("aside").get(0);if(r&&(t.defaultAside=e(r),t.updateAsideElements(t.defaultAside),t.prevAsideMenu=t.defaultAside),t.defaultHeader="defaultHeader",e.query("#header").append(e.create("header",{id:"defaultHeader"}).append(e.query("#header").children())),t.prevHeader=e.query("#defaultHeader"),e.query("#header").addClass("header"),e.query("#navbar").addClass("footer"),e.query("#navbar").on("click","footer>a:not(.button)",function(t){e.query("#navbar>footer>a").not(t.currentTarget).removeClass("pressed"),e(t.currentTarget).addClass("pressed")}),e.query("nav").length>0){var o=t.splitview?" splitview":"";e.query("#afui #header").addClass("hasMenu"+o),e.query("#afui #content").addClass("hasMenu"+o),e.query("#afui #navbar").addClass("hasMenu"+o),e.query("#afui #menu").addClass("hasMenu"+o),e.query("#afui #aside_menu").addClass(o)}e.query("aside").length>0&&e.query("#afui #header, #afui #content, #afui #navbar").addClass("hasAside"),e.query("#afui #menu").addClass("tabletMenu"),e.ui.splitview&&window.innerWidth>parseInt(e.ui.handheldMinWidth,10)&&(e.ui.sideMenuWidth=e("#menu").width()+"px");var l=t.getPanelId(i),a=null!==l&&l==="#"+t.firstDiv.id;l.length>0&&t.loadDefaultHash&&!a?t.loadContent(i,!0,!1,"none"):(s="#"+t.firstDiv.id,t.firstDiv.style.display="block",t.parsePanelFunctions(t.firstDiv),t.loadContentData(t.firstDiv),e.query("#header .backButton").css("visibility","hidden"),("true"===t.firstDiv.getAttribute("data-modal")||"true"===t.firstDiv.getAttribute("modal"))&&t.showModal(t.firstDiv.id)),t.launchCompleted=!0,e.query("#afui #splashscreen").remove(),setTimeout(function(){e(document).trigger("afui:ready")})};p?e(document).one("defer:loaded",b):b()}else setTimeout(function(){e(document).trigger("afui:ready")});e.bind(t,"content-loaded",function(){if(t.loadContentQueue.length>0){var e=t.loadContentQueue.splice(0,1)[0];t.loadContent(e[0],e[1],e[2],e[3],e[4])}}),(window.navigator.standalone||this.isIntel)&&this.blockPageScroll(),this.enableTabBar(),this.topClickScroll()},topClickScroll:function(){var e=this;document.getElementById("header").addEventListener("click",function(t){t.clientY<=15&&"h1"===t.target.nodeName.toLowerCase()&&e.scrollingDivs[e.activeDiv.id].scrollToTop("100")})},blockPageScroll:function(){e.query("#afui #header").bind("touchmove",function(e){e.preventDefault()})},noTransition:function(e,t){t.style.display="block",e.style.display="block";var i=this;i.clearAnimations(t),i.css3animate(e,{x:"0%",y:0}),i.finishTransition(e),t.style.zIndex=2,e.style.zIndex=1},finishTransition:function(t,i){t.style.display="none",this.doingTransition=!1,i&&this.clearAnimations(i),t&&this.clearAnimations(t),e.trigger(this,"content-loaded")},clearAnimations:function(t){t.style[e.feat.cssPrefix+"Transform"]="none",t.style[e.feat.cssPrefix+"Transition"]="none"}};var r=function(t,i){var s=document.getElementById("afui");if(i!==s){if("a"!==i.tagName.toLowerCase()&&i.parentNode)return r(t,i.parentNode);if("undefined"!==i.tagName&&"a"===i.tagName.toLowerCase()){var n="function"==typeof e.ui.customClickHandler?e.ui.customClickHandler:!1;if(n!==!1&&e.ui.customClickHandler(i,t))return t.preventDefault();if(-1!==i.href.toLowerCase().indexOf("javascript:")||i.getAttribute("data-ignore"))return;if(-1===i.hash.indexOf("#")&&i.target.length>0)return 0!==i.href.toLowerCase().indexOf("javascript:")&&(e.ui.isIntel?(t.preventDefault(),intel.xdk.device.launchExternal(i.href)):e.os.desktop||(t.target.target="_blank")),void 0;var o=i.href,l=location.protocol+"//"+location.hostname+":"+location.port+location.pathname;if(0===o.indexOf(l)&&(o=o.substring(l.length)),"#"===o||o.indexOf("#")===o.length-1||0===o.length&&0===i.hash.length)return t.preventDefault();var a=/^((http|https|file):\/\/)/;-1!==i.href.indexOf(":")&&a.test(i.href)&&t.preventDefault();var h=i.getAttribute("data-transition"),c=i.getAttribute("data-resetHistory");return c=c&&"true"===c.toLowerCase()?!0:!1,o=i.hash.length>0?i.hash:o,e.ui.loadContent(o,c,0,h,i),void 0}}},o="00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F 63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC 51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E 7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D 806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA 11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F 30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D",l=function(e,t){void 0===t&&(t=0);
var i=0,s=0;t=-1^t;for(var n=0,r=e.length;r>n;n++)i=255&(t^e.charCodeAt(n)),s="0x"+o.substr(9*i,8),t=t>>>8^s;return(-1^t)>>>0};e.ui=new n,e.ui.init=!0,e(window).trigger("afui:preinit"),e(window).trigger("afui:init")}(af),function(e){"use strict";e(document).one("intel.xdk.device.ready",function(){e.ui.isIntel=!0,setTimeout(function(){document.getElementById("afui").style.height="100%",document.body.style.height="100%",document.documentElement.style.minHeight=window.innerHeight},30)}),e.feat.nativeTouchScroll&&document.addEventListener("orientationchange",function(){if(e.ui.scrollingDivs[e.ui.activeDiv.id]){var t=e.ui.scrollingDivs[e.ui.activeDiv.id];if(!t)return;0===t.el.scrollTop&&(t.disable(),setTimeout(function(){t.enable()},300)),t.refresh&&t.updateP2rHackPosition()}})}(af),function(e){"use strict";function t(t,i,s){var n=this;s?(i.style.zIndex=1,t.style.zIndex=2,n.clearAnimations(i),n.css3animate(t,{x:"0%",time:e.transitionTime,opacity:.1,complete:function(e){return e?(n.finishTransition(t,i),void 0):(n.css3animate(t,{x:"-100%",opacity:1,complete:function(){n.finishTransition(t)}}),i.style.zIndex=2,t.style.zIndex=1,void 0)}})):(t.style.zIndex=1,i.style.zIndex=2,i.style.opacity=0,n.css3animate(i,{x:"0%",opacity:.1,complete:function(){n.css3animate(i,{x:"0%",time:e.transitionTime,opacity:1,complete:function(e){return e?(n.finishTransition(t,i),void 0):(n.clearAnimations(i),n.css3animate(t,{x:"-100%",y:0,complete:function(){n.finishTransition(t)}}),void 0)}})}}))}e.availableTransitions.fade=t}(af.ui),function(e){"use strict";function t(t,i,s){var n=this;s?(n.css3animate(i,{x:"100%",scale:.8,rotateY:"180deg",complete:function(){n.css3animate(i,{x:"0%",scale:1,time:e.transitionTime,rotateY:"0deg",complete:function(){n.clearAnimations(i)}})}}),n.css3animate(t,{x:"100%",time:e.transitionTime,scale:.8,rotateY:"180deg",complete:function(){n.css3animate(t,{x:"-100%",opacity:1,scale:1,rotateY:"0deg",complete:function(){n.finishTransition(t)}}),i.style.zIndex=2,t.style.zIndex=1}})):(t.style.zIndex=1,i.style.zIndex=2,n.css3animate(i,{x:"100%",scale:.8,rotateY:"180deg",complete:function(){n.css3animate(i,{x:"0%",scale:1,time:e.transitionTime,rotateY:"0deg",complete:function(){n.clearAnimations(i)}})}}),n.css3animate(t,{x:"100%",time:e.transitionTime,scale:.8,rotateY:"180deg",complete:function(){n.css3animate(t,{x:"-100%",opacity:1,scale:1,rotateY:"0deg",complete:function(){n.finishTransition(t)}}),i.style.zIndex=2,t.style.zIndex=1}}))}e.availableTransitions.flip=t}(af.ui),function(e){"use strict";function t(t,i,s){var n=this;s?(i.style.zIndex=1,t.style.zIndex=2,n.clearAnimations(i),n.css3animate(t,{x:"0%",time:e.transitionTime,opacity:.1,scale:.2,origin:"50% 50%",complete:function(e){return e?(n.finishTransition(t),void 0):(n.css3animate(t,{x:"-100%",complete:function(){n.finishTransition(t)}}),i.style.zIndex=2,t.style.zIndex=1,void 0)}})):(t.style.zIndex=1,i.style.zIndex=2,n.css3animate(i,{x:"0%",scale:.2,origin:"50% 50%",opacity:.1,time:"0ms",complete:function(){n.css3animate(i,{x:"0%",time:e.transitionTime,scale:1,opacity:1,origin:"0% 0%",complete:function(e){return e?(n.finishTransition(t,i),void 0):(n.clearAnimations(i),n.css3animate(t,{x:"100%",y:0,complete:function(){n.finishTransition(t)}}),void 0)}})}}))}e.availableTransitions.pop=t}(af.ui),function(e){"use strict";function t(t,i,s){var n=this;s?n.css3animate(t,{x:"0%",y:"0%",complete:function(){n.css3animate(t,{x:"100%",time:e.transitionTime,complete:function(){n.finishTransition(t,i)}}).link(i,{x:"0%",time:e.transitionTime})}}).link(i,{x:"-100%",y:"0%"}):n.css3animate(t,{x:"0%",y:"0%",complete:function(){n.css3animate(t,{x:"-100%",time:e.transitionTime,complete:function(){n.finishTransition(t,i)}}).link(i,{x:"0%",time:e.transitionTime})}}).link(i,{x:"100%",y:"0%"})}e.availableTransitions.slide=t,e.availableTransitions["default"]=t}(af.ui),function(e){"use strict";function t(t,i,s){var n=this;s?(t.style.zIndex=2,i.style.zIndex=1,n.css3animate(t,{y:"0%",x:"0%",complete:function(){n.css3animate(t,{y:"-100%",time:e.transitionTime,complete:function(){n.finishTransition(t,i)}})}})):(t.style.zIndex=1,i.style.zIndex=2,n.css3animate(i,{y:"-100%",x:"0%",time:"10ms",complete:function(){n.css3animate(i,{y:"0%",time:e.transitionTime,complete:function(){n.finishTransition(t,i)}})}}))}e.availableTransitions.down=t}(af.ui),function(e){"use strict";function t(t,i,s){var n=this;s?(t.style.zIndex=2,i.style.zIndex=1,n.css3animate(t,{y:"0%",x:"0%",complete:function(){n.css3animate(t,{y:"100%",time:e.transitionTime,complete:function(){n.finishTransition(t,i)}})}})):(t.style.zIndex=1,i.style.zIndex=2,n.css3animate(i,{y:"100%",x:"0%",time:"10ms",complete:function(){n.css3animate(i,{y:"0%",time:e.transitionTime,complete:function(){n.finishTransition(t,i)}})}}))}e.availableTransitions.up=t}(af.ui),function(e){"use strict";function t(){e.ui.isWin8=!0,e.os.ie&&e.ui.isSideMenuEnabled()&&e.ui.ready(function(){if(window.innerWidth>e.ui.handheldMinWidth)return!0;e.ui.slideSideMenu&&(e.ui.slideSideMenu=!1),e.query("#afui #navbar footer").append("<a id='metroMenu' onclick='$.ui.toggleSideMenu()'></a>");var t=e.query("#afui #navbar").find("a").not(".button");if(t.length>0){t.data("ignore-pressed","true").data("resetHistory","true");var i=parseFloat(100/t.length);t.css("width",i+"%")}var s=e.ui.updateNavbarElements;e.ui.updateNavbarElements=function(){s.apply(e.ui,arguments),1!==e.query("#afui #navbar #metroMenu").length&&e.query("#afui #navbar footer").append("<a id='metroMenu' onclick='$.ui.toggleSideMenu()'></a>")},e.ui.isSideMenuOn=function(){var t=parseInt(e.getCssMatrix(e("#navbar")).f,10)<0?!0:!1;return this.isSideMenuEnabled()&&t},e.ui.toggleRightSideMenu=function(t,i,s){if(this.isAsideMenuEnabled()&&!this.togglingAsideMenu){var n=!0;if((n||this.isSideMenuEnabled())&&(n||!e.ui.splitview)){var r=this,o=e("#menu"),l=e.query("#aside_menu"),a=e.query("#content,  #header, #navbar"),h=e.query(".afui_panel_mask");s=s||this.transitionTime;var c="block"===e("#aside_menu").css("display"),d=n?"-"+r.sideMenuWidth:r.sideMenuWidth;0===h.length&&window.innerWidth<e.ui.handheldMinWidth&&(a.append("<div class='afui_panel_mask'></div>"),h=e.query(".afui_panel_mask"),e(".afui_panel_mask").bind("click",function(){e.ui.toggleSideMenu(!1,null,null,n)}));var u=this.getSideMenuPosition();c&&!n&&0>u?c=!1:c&&n&&u>0&&(c=!1),2===t||!c&&(void 0!==t&&t!==!1||void 0===t)?(this.togglingSideMenu=!0,n?l.show():o.show(),r.css3animate(a,{x:d,time:s,complete:function(t){r.togglingSideMenu=!1,a.vendorCss("Transition",""),i&&i(t),0!==h.length&&window.innerWidth<e.ui.handheldMinWidth&&h.show()}})):(void 0===t||void 0!==t&&t===!1)&&(this.togglingSideMenu=!0,r.css3animate(a,{x:"0px",time:s,complete:function(t){a.vendorCss("Transition",""),a.vendorCss("Transform",""),r.togglingSideMenu=!1,i&&i(t),e.ui.splitview||o.hide(),l.hide(),0!==h.length&&window.innerWidth<e.ui.handheldMinWidth&&h.hide()}}))}}},e.ui.toggleLeftSideMenu=function(t,i){if(this.isSideMenuEnabled()&&!this.togglingSideMenu){this.togglingSideMenu=!0;var s=this,n=e.query("#menu"),r=e.query("#navbar"),o=this.isSideMenuOn();2===t||!o&&(void 0!==t&&t!==!1||void 0===t)?(n.show(),s.css3animate(r,{y:"-150px",time:e.ui.transitionTime,complete:function(){s.togglingSideMenu=!1,i&&i(!0)}}),s.css3animate(n,{y:"0px",time:e.ui.transitionTime})):(void 0===t||void 0!==t&&t===!1)&&(s.css3animate(r,{y:"0",time:e.ui.transitionTime,complete:function(){s.togglingSideMenu=!1,i&&i(!0),n.hide()}}),s.css3animate(n,{y:"150px",time:e.ui.transitionTime}))}}})}if(!e)throw"This plugin requires AFUi";e.ui?e.ui.ready(function(){t()}):e(document).ready(function(){t()})}(af);